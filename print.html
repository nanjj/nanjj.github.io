<!DOCTYPE HTML>
<html lang="zh_CN" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Thatched Cottage</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="2021/euler.html">Home</a></li><li class="chapter-item "><a href="2021/emacs-rust-mode.html">2021</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2021/rust.html">Rust再学习</a></li></ol></li><li class="chapter-item "><a href="2019/index.html">2019</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2019/hdituil.html">Manipulate Mac Disk Images</a></li><li class="chapter-item "><a href="2019/lxd.html">LXD Inside</a></li></ol></li><li class="chapter-item "><a href="2018/index.html">2018</a></li><li class="chapter-item "><a href="2017/index.html">2017</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2017/tips.html">Some Tips</a></li><li class="chapter-item "><a href="2017/freebsd-cloud.html">FreeBSD Cloud Init</a></li><li class="chapter-item "><a href="2017/arista.html">Arista on OpenStack</a></li><li class="chapter-item "><a href="2017/dummynet.html">Dummynet</a></li><li class="chapter-item "><a href="2017/org-publish.html">Org Publish</a></li></ol></li><li class="chapter-item "><a href="2013/index.html">2013</a></li><li class="chapter-item "><a href="2011/index.html">2011</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2011/love-long-hair.html">我爱长发飘飘</a></li></ol></li><li class="chapter-item "><a href="2010/index.html">2010</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2010/maolin.html">毛与林集团的斗争</a></li><li class="chapter-item "><a href="2010/moving-forward.html">勇往直前</a></li><li class="chapter-item "><a href="2010/iconv.html">繁简转换</a></li><li class="chapter-item "><a href="2010/possible.html">侧反</a></li><li class="chapter-item "><a href="2010/eyed3.html">eyeD3</a></li><li class="chapter-item "><a href="2010/liaozhai.html">聊斋</a></li><li class="chapter-item "><a href="2010/sudden.html">突然想起</a></li><li class="chapter-item "><a href="2010/my-orchid.html">兰花</a></li><li class="chapter-item "><a href="2010/salt.html">微薄之盐</a></li><li class="chapter-item "><a href="2010/snowing-day.html">最中意的雪天</a></li><li class="chapter-item "><a href="2010/weekend.html">周末了</a></li><li class="chapter-item "><a href="2010/yefusword.html">野夫的文字</a></li><li class="chapter-item "><a href="2010/gonggong.html">共工</a></li><li class="chapter-item "><a href="2010/grass.html">草在结它的种子</a></li><li class="chapter-item "><a href="2010/old-friend.html">故人</a></li><li class="chapter-item "><a href="2010/pigeon.html">鸽子</a></li><li class="chapter-item "><a href="2010/talking-death.html">民不聊生</a></li><li class="chapter-item "><a href="2010/system.html">系统程序员成长计划</a></li><li class="chapter-item "><a href="2010/speech-script.html">演讲稿</a></li><li class="chapter-item "><a href="2010/hushiswords.html">胡适三句话</a></li><li class="chapter-item "><a href="2010/my-narcissus.html">水仙</a></li><li class="chapter-item "><a href="2010/my-cousin.html">表哥</a></li><li class="chapter-item "><a href="2010/dreaming-back-song.html">关于梦回宋朝</a></li><li class="chapter-item "><a href="2010/sutong.html">苏童河岸</a></li></ol></li><li class="chapter-item "><a href="2009/index.html">2009</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2009/cicada.html">所谓蝉</a></li><li class="chapter-item "><a href="2009/our-ancestor.html">我们的祖先</a></li><li class="chapter-item "><a href="2009/dostoevsky.html">陀思妥耶夫斯基</a></li><li class="chapter-item "><a href="2009/stories.html">故事汇</a></li><li class="chapter-item "><a href="2009/that-year.html">那一年</a></li><li class="chapter-item "><a href="2009/marriage.html">婚姻</a></li><li class="chapter-item "><a href="2009/lev.html">托尔斯泰与米兰昆德拉</a></li><li class="chapter-item "><a href="2009/sound-power.html">声音与力量</a></li><li class="chapter-item "><a href="2009/telling-story.html">叙事</a></li><li class="chapter-item "><a href="2009/xuanyuan.html">轩辕</a></li><li class="chapter-item "><a href="2009/cat-trust.html">猫信</a></li><li class="chapter-item "><a href="2009/relats.html">范德瓦尔斯力</a></li><li class="chapter-item "><a href="2009/who.html">谁是谁</a></li><li class="chapter-item "><a href="2009/my-cat.html">我的猫</a></li><li class="chapter-item "><a href="2009/my-group.html">我的团长我的团</a></li><li class="chapter-item "><a href="2009/cat-not-easy.html">猫不易</a></li><li class="chapter-item "><a href="2009/about-two.html">关于二</a></li><li class="chapter-item "><a href="2009/to-lev.html">致列夫·托尔斯泰</a></li><li class="chapter-item "><a href="2009/my-vine.html">我的葡萄树</a></li></ol></li><li class="chapter-item "><a href="2008/index.html">2008</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2008/archimedes.html">阿基米德</a></li><li class="chapter-item "><a href="2008/elder.html">父辈</a></li><li class="chapter-item "><a href="2008/meaning-of-love.html">爱情的意义</a></li><li class="chapter-item "><a href="2008/a-friend.html">一个朋友</a></li><li class="chapter-item "><a href="2008/read-zhuangzi.html">读庄子</a></li><li class="chapter-item "><a href="2008/villages.html">村庄</a></li><li class="chapter-item "><a href="2008/black-white-iron.html">黑白铁</a></li></ol></li><li class="chapter-item "><a href="2007/index.html">2007</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2007/hunduns-death-faqs.html">混沌之死问题集锦</a></li><li class="chapter-item "><a href="2007/hunduns-death.html">混沌之死</a></li><li class="chapter-item "><a href="2007/emacs-ghost.html">Emacs里的有幽灵</a></li><li class="chapter-item "><a href="2007/a-remote-friend.html">记远方的一个朋友</a></li><li class="chapter-item "><a href="2007/suolinnang.html">锁麟囊</a></li><li class="chapter-item "><a href="2007/chunguimeng.html">春闺梦</a></li><li class="chapter-item "><a href="2007/knocking-stone.html">碰碑</a></li><li class="chapter-item "><a href="2007/laozis-stories.html">老子的故事汇</a></li><li class="chapter-item "><a href="2007/cdrecord.html">cdrecord的故事汇</a></li><li class="chapter-item "><a href="2007/life-too-short.html">手工测试生命太短</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Thatched Cottage</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="欧拉"><a class="header" href="#欧拉">欧拉</a></h1>
<p>在读莫里斯·克莱因的《古今数学思想》，终于读到欧拉（Leonhard Euler ，
1707年4月15日～1783年9月18日）。</p>
<p><img src="2021/euler.jpg" alt="Euler" /></p>
<p>欧拉恒等式：</p>
<p>\[
e^{i\pi} + 1 = 0
\]</p>
<p>克莱因写到：</p>
<blockquote>
<p>他的某些书和400篇研究论文是他已完全失明后写的。他的著作集的现代版如
果完全出齐将会有74卷。</p>
</blockquote>
<p>而且这么大的活动量并没有让他牺牲其他兴趣。他如常步入婚姻殿堂并是13个孩
子的父亲。他非常顾家，尽其所能地为家庭谋福利。他分时间在儿子孙子的教育
上，领着他们做科学游戏，念圣经给他们的心灵，“和他们一起消磨黄昏”。他
对化学、地质学、制图学也有兴趣，他还画了一张俄国地图。他还写了两本造船
的书，孜孜不倦地与伏尔泰争论哲学。</p>
<pre><code>是谁来自
江河湖海
却囿于昼夜
厨房与爱
</code></pre>
<p>姬庚我说，想想欧拉，就别给自己的平凡找借口啦。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="emacs-rust-mode"><a class="header" href="#emacs-rust-mode">Emacs Rust Mode</a></h1>
<p><code>2021-08-25 夜，晴</code></p>
<p>在Emacs下，<a href="https://rust-lang.org/">Rust</a>开发有两个选择：</p>
<ol>
<li><a href="https://github.com/rust-lang/rust-mode">Rust Mode</a>, 官方自带，</li>
<li><a href="https://github.com/brotzeit/rustic">Rustic</a>，第三方所写。</li>
</ol>
<p>该如何选择呢？</p>
<h2 id="rust-mode选择"><a class="header" href="#rust-mode选择">Rust Mode选择</a></h2>
<p>我选<a href="https://github.com/rust-lang/rust-mode">Rust Mode</a>。这里说一下我的理由：</p>
<ol>
<li><a href="https://github.com/rust-lang/rust-mode">Rust Mode</a>在README里推荐了<a href="https://github.com/brotzeit/rustic">Rustic</a>，说明<a href="https://github.com/rust-lang/rust-mode">Rust Mode</a>作者较为宽厚，</li>
<li><a href="https://github.com/brotzeit/rustic">Rustic</a>对自己分叉<a href="https://github.com/rust-lang/rust-mode">Rust Mode</a>的行为进行了辩解，但没有多少站得住的理由，</li>
<li><a href="https://github.com/rust-lang/rust-mode">Rust Mode</a>只做最核心的内容，周边留给其他包做，这体现Unix编程哲学，</li>
<li><a href="https://github.com/brotzeit/rustic">Rustic</a>啥都做但有些做的不好，比如<a href="https://cargo.io">Cargo</a>命令。</li>
</ol>
<p>我用Emacs自带的Package管理：</p>
<pre><code>package-install rust-mode
package-install cargo
</code></pre>
<p>我习惯把code format绑到<code>M-q</code>上：</p>
<pre><code>(define-key rust-mode-map (kbd &quot;M-q&quot;) 'rust-format-buffer)
</code></pre>
<p><code>Cargo.el</code>所提供的命令<code>cargo-process-add</code>需要<code>cargo-edit</code>支持：</p>
<pre><code>cargo install cargo-edit
</code></pre>
<p>至此，语法加亮，代码规整，常见命令支持都有了。还差一个代码补齐和跳转，
由Emacs的LSP能力补足。</p>
<h2 id="lsp的选择"><a class="header" href="#lsp的选择">LSP的选择</a></h2>
<p>Emacs下LSP(Language Server Protocol)有两个选择:</p>
<ol>
<li><a href="https://github.com/emacs-lsp/lsp-mode">LSP</a>,</li>
<li><a href="https://github.com/joaotavora/eglot">Eglot</a></li>
</ol>
<p>这又如何选呢？</p>
<p><a href="https://github.com/emacs-lsp/lsp-mode">LSP</a>我在沉迷Go语言的时候用过，怎么说呢？ <a href="https://github.com/emacs-lsp/lsp-mode">LSP</a>不坏，但远算不上优秀。
为提供酷炫功能，<a href="https://github.com/emacs-lsp/lsp-mode">LSP</a>用了一些不标准的Lisp API，以至于Emacs升级到28.0之
后，这些API被废弃掉了，<a href="https://github.com/emacs-lsp/lsp-mode">LSP</a>就常有抽风行为。我不可能为了一个勉强工作的
LSP把Emacs版本固守在27.0。于是我转向了<a href="https://github.com/joaotavora/eglot">Eglot</a>：</p>
<pre><code>package-delete lsp-mode
package-install eglot
</code></pre>
<p>我也认真读了<a href="https://github.com/joaotavora/eglot">Eglot</a>作者与<a href="https://github.com/emacs-lsp/lsp-mode">LSP</a>作者的<a href="https://github.com/joaotavora/eglot/issues/180">讨论</a>。</p>
<p>他们显然都不是平心静气，但如果你是一个好的程序员，你能很容易分辨出是非
高下来。于是我毫不犹豫地继续使用<a href="https://github.com/joaotavora/eglot">Eglot</a>。</p>
<p><a href="https://github.com/joaotavora/eglot">Eglot</a>需要装上<code>rls</code>才能工作:</p>
<pre><code>rustup update
rustup component add rls rust-analysis rust-src
</code></pre>
<p>给<code>rust-mode</code>加上<code>eglot</code>支持：</p>
<pre><code>(add-hook 'rust-mode-hook 'eglot-ensure)
</code></pre>
<p>重启Emacs，搞定。最后写几句给程序员的话。</p>
<h2 id="致程序员"><a class="header" href="#致程序员">致程序员</a></h2>
<p>我时常见到一些手上有咖喱味道的程序员，他们这也摸摸那也碰碰，把恶心味道
散播到各处。他们的代码之所以写，是为博眼球，而并非发自内心。他们算不上
纯粹的程序员。这没什么，世界仍然需要他们，有他们的存身之地。但他们假装
对代码、对技术的热爱就让纯粹程序员们恶心了。我想这就是<a href="https://github.com/joaotavora/eglot">Eglot</a>作者烦的
不行<a href="https://github.com/emacs-lsp/lsp-mode">LSP</a>作者的原因。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust再学习"><a class="header" href="#rust再学习">Rust再学习</a></h1>
<p><code>&lt;2021-08-24 二&gt;，雨夜</code></p>
<h2 id="缘起"><a class="header" href="#缘起">缘起</a></h2>
<p>几年前我曾经学习过<a href="https://rust-lang.org/">Rust</a>。其时，我发现<a href="https://rust-lang.org/">Rust</a>编译速度很慢，语法有些烧脑。
于是浅尝辄止一下<a href="https://rust-lang.org/">Rust</a>，很快就转向了<a href="https://golang.org/">Go</a>语言，并深深迷恋。不知为何，当
时并没有注意到<a href="https://doc.rust-lang.org/cargo/index.html">Cargo</a>包管理的存在。</p>
<p><a href="https://golang.org/">Go</a>语言的包管理没有一步到位。<a href="https://golang.org/">Go</a>最初包管理是分布式的，有些像Java
Classpath的设计，叫GOPATH，是线性的。而Java也渐渐引入OSGI的设计，进一
步模块化。<a href="https://golang.org/">GO</a>包管理也出现许多第三方，最终统一为<code>Go Mod</code>。不能说<code>Go Mod</code>多成功，只能算不失败罢了：中间走了弯路，最终也没有达到理想的状况，
但的确是工作的。</p>
<p><a href="https://golang.org/">Go</a>另一块薄弱项是和<code>C</code>语言的交互，上下文切换性能差太多了。这也是没有
办法的事，算引入<code>GC</code>的代价。但和<code>C</code>关系不好就阻碍了<a href="https://golang.org/">Go</a>向下发展。有用
<a href="https://golang.org/">Go</a>写操作系统的，但从没人提用<a href="https://golang.org/">Go</a>开发Linux内核。</p>
<p>最近我发现<a href="https://doc.rust-lang.org/cargo/index.html">Cargo</a>设计干净，有美感，也实干，工程气息浓郁。
<a href="https://github.com/bottlerocket-os/bottlerocket/">BottleRocket</a>项目把<a href="https://doc.rust-lang.org/cargo/index.html">Cargo</a>用到了极致，但也远没有探到<a href="https://doc.rust-lang.org/cargo/index.html">Cargo</a>的上限。</p>
<h2 id="在学"><a class="header" href="#在学">在学</a></h2>
<p>这次<a href="https://rust-lang.org/">Rust</a>再学，没有把语言放在前面学，而是先把周边搞清楚：</p>
<ol>
<li><a href="https://doc.rust-lang.org/cargo/index.html">Cargo</a>日常使用,</li>
<li><a href="https://doc.rust-lang.org/cargo/reference/workspaces.html">Workspace</a>, <a href="https://doc.rust-lang.org/cargo/appendix/glossary.html#package">Package</a>, <a href="https://doc.rust-lang.org/cargo/appendix/glossary.html#crate">Crate</a>, <a href="https://doc.rust-lang.org/cargo/appendix/glossary.html#module">Module</a>依次搞清楚，</li>
<li><a href="https://doc.rust-lang.org/book/ch11-01-writing-tests.html">Unit Testing</a>如何写，</li>
<li><a href="https://doc.rust-lang.org/stable/rust-by-example/meta/doc.html">Rust Doc</a>以及<a href="https://rust-lang.github.io/mdBook/index.html">mdBook</a></li>
</ol>
<p>最后才慢慢看<a href="https://rust-lang.org/">Rust</a>的语法：</p>
<ol>
<li><a href="https://doc.rust-lang.org/book/ch03-00-common-programming-concepts.html">Common Programming Concepts</a>,</li>
<li><a href="https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html">Ownership</a>, <a href="https://doc.rust-lang.org/book/ch15-00-smart-pointers.html">Smart Pointers</a>,</li>
<li><a href="https://doc.rust-lang.org/book/ch16-00-concurrency.html">Fearless Concurrency</a></li>
</ol>
<p>在看<a href="https://rust-lang.github.io/mdBook/index.html">mdBook</a>时候，顺便把本博客更新了下。</p>
<h2 id="过往"><a class="header" href="#过往">过往</a></h2>
<p>读过去自己写的东西，是一个逐渐了解自己的过程。好似在读一封封来自过去的
信，有恍若隔世的感觉。过去自己的想法甚至能解当今的困惑。细细思索，倍感
神奇。</p>
<p>由此打算重拾写作，为将来的自己，提供一点寻找初心的线索。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gitlab的持续集成"><a class="header" href="#gitlab的持续集成">Gitlab的持续集成</a></h1>
<p><code>&lt;2019-12-07 六&gt;</code></p>
<p>Gitlab持续集成采用订阅模式，这和Github的通知机制不同。</p>
<h2 id="github通知机制"><a class="header" href="#github通知机制">Github通知机制</a></h2>
<p>Github的持续集成采用通知机制。</p>
<p>如下图所示：</p>
<pre><code class="language-mermaid"> graph LR
	 github[Github]
	 webhook[Webhook]
	 github --通知--&gt; webhook
	 subgraph 持续集成
		 webhook
		 end
</code></pre>
<p><img src="2019/github-ci.png" alt="" /></p>
<p>持续集成的开发人员需要实现一个Webhook来接收Github的消息通知。这个
Webhook是一个服务，需要保证安全，保证可调用。</p>
<p>Gitlab不是这么做的。</p>
<h2 id="gitlab订阅模式"><a class="header" href="#gitlab订阅模式">Gitlab订阅模式</a></h2>
<p>Gitlab用订阅的模式来做持续集成。如下图示：</p>
<pre><code class="language-mermaid">graph LR
	gitlab[Gitlab]
	runner[Gitlab Runner]
	runner -.订阅.-&gt; gitlab
	subgraph 持续集成
	runner
end
</code></pre>
<p><img src="2019/gitlab-ci.png" alt="" /></p>
<p>这样 <code>gitlab runner</code> 可以是跑在内网的某台机器，只要该机器通过<code>http</code>协
议能访问gitlab就可以。这种方式对持续集成的开发人员成本较低。但对Gitlab
服务方，成本较高。Gitlab能支持多少个Runner挂在上面呢？</p>
<h2 id="gitlab-runner如何工作"><a class="header" href="#gitlab-runner如何工作">Gitlab Runner如何工作</a></h2>
<p><code>Gitlab Runner</code> 每3秒访问一下Gitlab看有没有任务，如有任务，扯下来执行。
如无任务，3秒后见。</p>
<p><code>Gitlab Runner</code> 后面可以跑docker， kubernetes等。我觉得通过 <code>Gitlab Runner</code> 的shell模式可以跑<code>lxd</code> 。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="manipulate-disk-images-under-mac"><a class="header" href="#manipulate-disk-images-under-mac">Manipulate Disk Images Under Mac</a></h1>
<p><code>&lt;2019-12-03 二&gt;</code></p>
<h2 id="mac-case-insensitive-file-system"><a class="header" href="#mac-case-insensitive-file-system">Mac Case Insensitive File System</a></h2>
<p>By default, file system under Mac is case insensitive. It may cause
trouble when you work with some projects like Linux Kernel. To solve
the problem, you can create a disk image with case sensitive file
system, and attach to a mount point to use.</p>
<p>Say we want to create disk image at <code>/usr/local</code>, and attach it to
<code>/usr/local/src</code>. All operations are executed under <code>/usr/local</code>.</p>
<h2 id="create-disk-image"><a class="header" href="#create-disk-image">Create Disk Image</a></h2>
<pre><code class="language-bash">$ hdiutil create -size 10G src -type SPARSE -fs \
	'Case-sensitive Journaled HFS+' -volname src
</code></pre>
<p>Image <code>src.sparseimage</code> will be created, with case sensitive journaled
file system and the size limit 20G.</p>
<h2 id="attach-disk-image"><a class="header" href="#attach-disk-image">Attach Disk Image</a></h2>
<pre><code class="language-bash">$ mkdir src
$ hdiutil attach -mountpoint src src.sparseimage #=&gt;
/dev/disk4              GUID_partition_scheme
/dev/disk4s1            EFI
/dev/disk4s2            Apple_HFS            /usr/local/src
</code></pre>
<h2 id="detach-disk-image"><a class="header" href="#detach-disk-image">Detach Disk Image</a></h2>
<pre><code>$ hdiutil detach src #=&gt;
&quot;disk4&quot; unmounted.
&quot;disk4&quot; ejected.
</code></pre>
<h2 id="resize-disk-image-if-needed"><a class="header" href="#resize-disk-image-if-needed">Resize Disk Image If needed</a></h2>
<p>If <code>20G</code> is not enough you can resize the image:</p>
<pre><code>$ hdiutil resize -size 20G src.sparseimage
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lxd"><a class="header" href="#lxd">LXD</a></h1>
<p><code>&lt;2019-01-03 Thu&gt;</code></p>
<p>LXD setup, usage and more.</p>
<h2 id="lxd-setup"><a class="header" href="#lxd-setup">LXD Setup</a></h2>
<p>So easy to setup LXD!</p>
<p>The existing lxd packages in ubuntu 16.04 are too old to use, which
need to be purged:</p>
<pre><code class="language-bash">apt-get -qq purge lxd lxd-client
snap install lxd
</code></pre>
<p><code>lxd</code> is lxd daemon and <code>lxc</code> is the lxd client:</p>
<pre><code>which lxd #=&gt;
/snap/bin/lxd
which lxc #=&gt;
/snap/bin/lxc
</code></pre>
<h2 id="init"><a class="header" href="#init">Init</a></h2>
<p><code>lxd</code> provides a sub command =init= to init lxd:</p>
<pre><code>lxd init
</code></pre>
<p><code>lxd init</code> can configure <code>lxd</code> run in clustering mode or standalone
mode.</p>
<h2 id="snap-and-lxd"><a class="header" href="#snap-and-lxd">Snap and Lxd</a></h2>
<p>You can use <code>snap</code> to run <code>lxd</code>, or the opposite. Inside <code>lxd</code> you
can run <code>docker</code>.</p>
<pre><code>     +----------+       +-----------+       +------------+        +-----------+
     |          |       |           |       |            |        |           |
     |    vm    +------&gt;|    snap   +------&gt;|     lxd    +-------&gt;|   docker  |
     |          |       |           |       |            |        |           |
     +----------+       +-----------+       +------+-----+        +-----------+
                              ^                    |
                              |                    |
                              +--------------------+
</code></pre>
<h2 id="run-lxd-in-snap"><a class="header" href="#run-lxd-in-snap">Run lxd in Snap</a></h2>
<p>By default ubuntu xenial with lxd and lxd client installed. You can
check this by running:</p>
<pre><code class="language-bash">which lxd                       # =&gt; /usr/bin/lxd
which lxc                       # =&gt; /usr/bin/lxc
</code></pre>
<p>The lxd in apt repo is very low. We need to switch to the lxd in snap
store:</p>
<pre><code class="language-bash"># Uninstall existing lxd in ubuntu repo.
apt-get purge -qq lxd lxd-client
# Install lxd in snap
snap install lxd
# Check lxd and lxc
which lxd                       # =&gt; /snap/bin/lxd
lxd --version                   # =&gt; 3.3
which lxc                       # =&gt; /snap/bin/lxc
lxc --version                   # =&gt; 3.3
# Init lxd
lxd init
# Start lxd
snap restart lxd
</code></pre>
<h2 id="launcn-lxd-container"><a class="header" href="#launcn-lxd-container">Launcn Lxd container</a></h2>
<p>Now launch a vm like <code>lxc</code> container:</p>
<pre><code class="language-bash"># List images
snap image list ubuntu:xenial
# Launch a container
lxc launch ubuntu:xenial/amd64
# List containers
lxc list
# exec bash in the container
lxc exec steady-dingo bash
# Now you can do anything in the container
</code></pre>
<h2 id="run-snap-inside-lxd-container"><a class="header" href="#run-snap-inside-lxd-container">Run snap inside Lxd Container</a></h2>
<p>Snap as a container, can run <code>lxd</code> and launch <code>lxd</code> container. Inside
the <code>lxc</code> container, you can run <code>snap</code> container, say to install go
snap:</p>
<pre><code class="language-bash">lxc exec steady-dingo bash
snap install go --classic
echo 'export GOPATH=/usr/local' &gt;&gt; ~/.bashrc
apt-get install build-essential
cat &gt; ~/.netrc &lt;&lt;EOF
your github toke  n
EOF
go get github.ibm.com/nanjj/ncatd
ncatd --version                 # ncatd version 0.0.1
</code></pre>
<h2 id="run-lxd-inside-lxd-container"><a class="header" href="#run-lxd-inside-lxd-container">Run Lxd inside Lxd Container</a></h2>
<p>Run <code>lxd</code> inside lxd container nesting:</p>
<pre><code class="language-bash">lxc config set steady-dingo security.nesting true
lxc exec steady-dingo bash
apt-get purge -qq lxd lxd-client
snap install lxd
lxd init
lxc launch ubuntu:xenial/amd64
</code></pre>
<h2 id="run-docker-inside-lxd-container"><a class="header" href="#run-docker-inside-lxd-container">Run Docker inside Lxd Container</a></h2>
<p>With <code>security.nesting true</code>, run docker:</p>
<pre><code class="language-bash">apt-get install docker.io
docker run hello-world
</code></pre>
<h2 id="use-lxd-container-as-a-router"><a class="header" href="#use-lxd-container-as-a-router">Use Lxd Container as a Router</a></h2>
<pre><code>lxc launch ubuntu:16.04 router #=&gt;
lxc list #=&gt;
+--------+---------+-----------------------+------+------------+-----------+
|  NAME  |  STATE  |         IPV4          | IPV6 |    TYPE    | SNAPSHOTS |
+--------+---------+-----------------------+------+------------+-----------+
| router | RUNNING |  10.149.11.203 (eth0) |      | PERSISTENT |           |
+--------+---------+-----------------------+------+------------+-----------+
lxc exec router -- bash -i
# configure vpn if needed

# check ip forward setting
sysctl net.ipv4.ip_forward #=&gt;
net.ipv4.ip_forward = 1
# iptables
iptables -t nat -A POSTROUTING -s 10.149.11.0/24 ! -d 10.0.2.0/24 -j MASQUERADE
apt-get update
apt-get install iptables-persistent
</code></pre>
<p>Now you can use this as a router</p>
<h2 id="clustering-mode"><a class="header" href="#clustering-mode">Clustering Mode</a></h2>
<p>Lxd clustering mode makes lxd run in multiple nodes. Each node lxd
is running on is a cluster member. The whole set of the cluster
members is called a cluster.</p>
<h3 id="new-cluster"><a class="header" href="#new-cluster">New Cluster</a></h3>
<pre><code>lxd init
Would you like to use LXD clustering? (yes/no) [default=no]: yes
What name should be used to identify this node in the cluster? [default=hypercube01]:
What IP address or DNS name should be used to reach this node? [default=192.168.0.46]:
Are you joining an existing cluster? (yes/no) [default=no]:
Setup password authentication on the cluster? (yes/no) [default=yes]: yes
Trust password for new clients:
Again:
Do you want to configure a new local storage pool? (yes/no) [default=yes]:
Name of the storage backend to use (btrfs, dir, lvm, zfs) [default=zfs]:
Create a new ZFS pool? (yes/no) [default=yes]:
Would you like to use an existing block device? (yes/no) [default=no]:
Size in GB of the new loop device (1GB minimum) [default=31GB]: 128GB
Do you want to configure a new remote storage pool? (yes/no) [default=no]:
Would you like to connect to a MAAS server? (yes/no) [default=no]:
Would you like to configure LXD to use an existing br...? (yes/no) [default=no]:
Would you like to create a new Fan overlay network? (yes/no) [default=yes]:
What subnet should be used as the Fan underlay? [default=auto]:
Would you like stale cached images to be updated automatically? (yes/no) [default=yes]
Would you like a YAML &quot;lxd init&quot; preseed to be printed? (yes/no) [default=no]:
</code></pre>
<h3 id="join-cluster"><a class="header" href="#join-cluster">Join Cluster</a></h3>
<pre><code>lxd init
Would you like to use LXD clustering? (yes/no) [default=no]: yes
What name should be used to identify this node in the cluster? [default=hypercube06]:
What IP address or DNS name should be used to reach this node? [default=192.168.0.21]:
Are you joining an existing cluster? (yes/no) [default=no]: yes
IP address or FQDN of an existing cluster node: 192.168.0.30
Cluster fingerprint: 6ab5b519ffbb309cb38b73657299dd9b0b8c6f2bd5b3....
You can validate this fingerprint by running &quot;lxc info&quot; locally on an existing node.
Is this the correct fingerprint? (yes/no) [default=no]: yes
Cluster trust password:
All existing data is lost when joining a cluster, continue? (yes/no) [default=no] yes
Choose &quot;size&quot; property for storage pool &quot;local&quot;: 128GB
Choose &quot;source&quot; property for storage pool &quot;local&quot;:
Choose &quot;zfs.pool_name&quot; property for storage pool &quot;local&quot;:
Would you like a YAML &quot;lxd init&quot; preseed to be printed? (yes/no) [default=no]:
</code></pre>
<h3 id="list-cluster"><a class="header" href="#list-cluster">List Cluster</a></h3>
<pre><code>lxc cluster list

+-------------+---------------------------+----------+--------+-------------------+
|    NAME     |            URL            | DATABASE | STATE  |      MESSAGE      |
+-------------+---------------------------+----------+--------+-------------------+
| hypercube01 | https://192.168.0.46:8443 | YES      | ONLINE | fully operational |
+-------------+---------------------------+----------+--------+-------------------+
| hypercube02 | https://192.168.0.47:8443 | YES      | ONLINE | fully operational |
+-------------+---------------------------+----------+--------+-------------------+
| hypercube03 | https://192.168.0.48:8443 | YES      | ONLINE | fully operational |
+-------------+---------------------------+----------+--------+-------------------+
| hypercube04 | https://192.168.0.51:8443 | NO       | ONLINE | fully operational |
+-------------+---------------------------+----------+--------+-------------------+
| hypercube05 | https://192.168.0.30:8443 | NO       | ONLINE | fully operational |
+-------------+---------------------------+----------+--------+-------------------+
| hypercube06 | https://192.168.0.21:8443 | NO       | ONLINE | fully operational |
+-------------+---------------------------+----------+--------+-------------------+
| hypercube07 | https://192.168.0.26:8443 | NO       | ONLINE | fully operational |
+-------------+---------------------------+----------+--------+-------------------+
</code></pre>
<p>It's a 7 nodes lxd cluster with 3 database nodes and 7 service nodes.</p>
<h2 id="database"><a class="header" href="#database">Database</a></h2>
<p><a href="https://github.com/lxc/lxd/blob/master/doc/database.md">Lxd
database</a> is
based on <a href="https://github.com/CanonicalLtd/dqlite">distributed
sqlite</a>, which removed lxd's
dependency on traditional database like postgres or mysql. <a href="https://wiki.ubuntu.com/FanNetworking">Fan
network</a> introduced lxd a
simple and fast container network.</p>
<h3 id="global-and-local"><a class="header" href="#global-and-local">Global and Local</a></h3>
<p>For each lxd node, there are two type databases: global and
local. Data in global database is shared by each lxd cluster
members, while data in local database can only be accessed in local
node, does not impact others.</p>
<h3 id="lxd-sql"><a class="header" href="#lxd-sql">Lxd sql</a></h3>
<pre><code>lxd sql &lt;local|global&gt; &lt;query&gt;  [flags]
</code></pre>
<h3 id="global-schemas"><a class="header" href="#global-schemas">Global Schemas</a></h3>
<p>For example, to list global schemas:</p>
<pre><code>lxd sql global .schema #=&gt;
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE schema (
    id         INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    version    INTEGER NOT NULL,
    updated_at DATETIME NOT NULL,
    UNIQUE (version)
);
INSERT INTO schema VALUES(1,13,1546788241);
CREATE TABLE &quot;containers&quot; (
    id INTEGER primary key AUTOINCREMENT NOT NULL,
    node_id INTEGER NOT NULL,
    name TEXT NOT NULL,
    architecture INTEGER NOT NULL,
    type INTEGER NOT NULL,
    ephemeral INTEGER NOT NULL DEFAULT 0,
    creation_date DATETIME NOT NULL DEFAULT 0,
    stateful INTEGER NOT NULL DEFAULT 0,
    last_use_date DATETIME,
    description TEXT,
    project_id INTEGER NOT NULL,
    UNIQUE (project_id, name),
    FOREIGN KEY (node_id) REFERENCES nodes (id) ON DELETE CASCADE,
    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE
);
CREATE TABLE &quot;images&quot; (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    fingerprint TEXT NOT NULL,
    filename TEXT NOT NULL,
    size INTEGER NOT NULL,
    public INTEGER NOT NULL DEFAULT 0,
    architecture INTEGER NOT NULL,
    creation_date DATETIME,
    expiry_date DATETIME,
    upload_date DATETIME NOT NULL,
    cached INTEGER NOT NULL DEFAULT 0,
    last_use_date DATETIME,
    auto_update INTEGER NOT NULL DEFAULT 0,
    project_id INTEGER NOT NULL,
    UNIQUE (project_id, fingerprint),
    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE
);
CREATE TABLE &quot;images_aliases&quot; (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    name TEXT NOT NULL,
    image_id INTEGER NOT NULL,
    description TEXT,
    project_id INTEGER NOT NULL,
    UNIQUE (project_id, name),
    FOREIGN KEY (image_id) REFERENCES images (id) ON DELETE CASCADE,
    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE
);
CREATE TABLE &quot;operations&quot; (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    uuid TEXT NOT NULL,
    node_id TEXT NOT NULL,
    type INTEGER NOT NULL DEFAULT 0,
    project_id INTEGER,
    UNIQUE (uuid),
    FOREIGN KEY (node_id) REFERENCES nodes (id) ON DELETE CASCADE,
    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE
);
CREATE TABLE &quot;profiles&quot; (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    name TEXT NOT NULL,
    description TEXT,
    project_id INTEGER NOT NULL,
    UNIQUE (project_id, name),
    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE
);
CREATE TABLE &quot;storage_volumes&quot; (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    name TEXT NOT NULL,
    storage_pool_id INTEGER NOT NULL,
    node_id INTEGER NOT NULL,
    type INTEGER NOT NULL,
    description TEXT,
    snapshot INTEGER NOT NULL DEFAULT 0,
    project_id INTEGER NOT NULL,
    UNIQUE (storage_pool_id, node_id, project_id, name, type),
    FOREIGN KEY (storage_pool_id) REFERENCES storage_pools (id) ON DELETE CASCADE,
    FOREIGN KEY (node_id) REFERENCES nodes (id) ON DELETE CASCADE,
    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE
);
CREATE TABLE certificates (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    fingerprint TEXT NOT NULL,
    type INTEGER NOT NULL,
    name TEXT NOT NULL,
    certificate TEXT NOT NULL,
    UNIQUE (fingerprint)
);
CREATE TABLE config (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    key TEXT NOT NULL,
    value TEXT,
    UNIQUE (key)
);
CREATE TABLE containers_backups (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    container_id INTEGER NOT NULL,
    name VARCHAR(255) NOT NULL,
    creation_date DATETIME,
    expiry_date DATETIME,
    container_only INTEGER NOT NULL default 0,
    optimized_storage INTEGER NOT NULL default 0,
    FOREIGN KEY (container_id) REFERENCES containers (id) ON DELETE CASCADE,
    UNIQUE (container_id, name)
);
CREATE TABLE containers_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    container_id INTEGER NOT NULL,
    key TEXT NOT NULL,
    value TEXT,
    FOREIGN KEY (container_id) REFERENCES containers (id) ON DELETE CASCADE,
    UNIQUE (container_id, key)
);
CREATE TABLE containers_devices (
    id INTEGER primary key AUTOINCREMENT NOT NULL,
    container_id INTEGER NOT NULL,
    name TEXT NOT NULL,
    type INTEGER NOT NULL default 0,
    FOREIGN KEY (container_id) REFERENCES containers (id) ON DELETE CASCADE,
    UNIQUE (container_id, name)
);
CREATE TABLE containers_devices_config (
    id INTEGER primary key AUTOINCREMENT NOT NULL,
    container_device_id INTEGER NOT NULL,
    key TEXT NOT NULL,
    value TEXT,
    FOREIGN KEY (container_device_id) REFERENCES containers_devices (id) \
     ON DELETE CASCADE,
    UNIQUE (container_device_id, key)
);
CREATE TABLE containers_profiles (
    id INTEGER primary key AUTOINCREMENT NOT NULL,
    container_id INTEGER NOT NULL,
    profile_id INTEGER NOT NULL,
    apply_order INTEGER NOT NULL default 0,
    UNIQUE (container_id, profile_id),
    FOREIGN KEY (container_id) REFERENCES containers(id) ON DELETE CASCADE,
    FOREIGN KEY (profile_id) REFERENCES profiles(id) ON DELETE CASCADE
);
CREATE TABLE images_nodes (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    image_id INTEGER NOT NULL,
    node_id INTEGER NOT NULL,
    UNIQUE (image_id, node_id),
    FOREIGN KEY (image_id) REFERENCES images (id) ON DELETE CASCADE,
    FOREIGN KEY (node_id) REFERENCES nodes (id) ON DELETE CASCADE
);
CREATE TABLE images_properties (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    image_id INTEGER NOT NULL,
    type INTEGER NOT NULL,
    key TEXT NOT NULL,
    value TEXT,
    FOREIGN KEY (image_id) REFERENCES images (id) ON DELETE CASCADE
);
CREATE TABLE images_source (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    image_id INTEGER NOT NULL,
    server TEXT NOT NULL,
    protocol INTEGER NOT NULL,
    certificate TEXT NOT NULL,
    alias TEXT NOT NULL,
    FOREIGN KEY (image_id) REFERENCES images (id) ON DELETE CASCADE
);
CREATE TABLE networks (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    name TEXT NOT NULL,
    description TEXT,
    state INTEGER NOT NULL DEFAULT 0,
    UNIQUE (name)
);
CREATE TABLE networks_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    network_id INTEGER NOT NULL,
    node_id INTEGER,
    key TEXT NOT NULL,
    value TEXT,
    UNIQUE (network_id, node_id, key),
    FOREIGN KEY (network_id) REFERENCES networks (id) ON DELETE CASCADE,
    FOREIGN KEY (node_id) REFERENCES nodes (id) ON DELETE CASCADE
);
CREATE TABLE networks_nodes (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    network_id INTEGER NOT NULL,
    node_id INTEGER NOT NULL,
    UNIQUE (network_id, node_id),
    FOREIGN KEY (network_id) REFERENCES networks (id) ON DELETE CASCADE,
    FOREIGN KEY (node_id) REFERENCES nodes (id) ON DELETE CASCADE
);
CREATE TABLE nodes (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    description TEXT DEFAULT '',
    address TEXT NOT NULL,
    schema INTEGER NOT NULL,
    api_extensions INTEGER NOT NULL,
    heartbeat DATETIME DEFAULT CURRENT_TIMESTAMP,
    pending INTEGER NOT NULL DEFAULT 0,
    UNIQUE (name),
    UNIQUE (address)
);
CREATE TABLE profiles_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    profile_id INTEGER NOT NULL,
    key TEXT NOT NULL,
    value TEXT,
    UNIQUE (profile_id, key),
    FOREIGN KEY (profile_id) REFERENCES profiles(id) ON DELETE CASCADE
);
CREATE TABLE profiles_devices (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    profile_id INTEGER NOT NULL,
    name TEXT NOT NULL,
    type INTEGER NOT NULL default 0,
    UNIQUE (profile_id, name),
    FOREIGN KEY (profile_id) REFERENCES profiles (id) ON DELETE CASCADE
);
CREATE TABLE profiles_devices_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    profile_device_id INTEGER NOT NULL,
    key TEXT NOT NULL,
    value TEXT,
    UNIQUE (profile_device_id, key),
    FOREIGN KEY (profile_device_id) REFERENCES profiles_devices (id) ON DELETE CASCADE
);
CREATE TABLE projects (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    name TEXT NOT NULL,
    description TEXT,
    UNIQUE (name)
);
CREATE TABLE projects_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    project_id INTEGER NOT NULL,
    key TEXT NOT NULL,
    value TEXT,
    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE,
    UNIQUE (project_id, key)
);
CREATE TABLE storage_pools (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    name TEXT NOT NULL,
    driver TEXT NOT NULL,
    description TEXT,
    state INTEGER NOT NULL DEFAULT 0,
    UNIQUE (name)
);
CREATE TABLE storage_pools_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    storage_pool_id INTEGER NOT NULL,
    node_id INTEGER,
    key TEXT NOT NULL,
    value TEXT,
    UNIQUE (storage_pool_id, node_id, key),
    FOREIGN KEY (storage_pool_id) REFERENCES storage_pools (id) ON DELETE CASCADE,
    FOREIGN KEY (node_id) REFERENCES nodes (id) ON DELETE CASCADE
);
CREATE TABLE storage_pools_nodes (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    storage_pool_id INTEGER NOT NULL,
    node_id INTEGER NOT NULL,
    UNIQUE (storage_pool_id, node_id),
    FOREIGN KEY (storage_pool_id) REFERENCES storage_pools (id) ON DELETE CASCADE,
    FOREIGN KEY (node_id) REFERENCES nodes (id) ON DELETE CASCADE
);
CREATE TABLE storage_volumes_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    storage_volume_id INTEGER NOT NULL,
    key TEXT NOT NULL,
    value TEXT,
    UNIQUE (storage_volume_id, key),
    FOREIGN KEY (storage_volume_id) REFERENCES storage_volumes (id) ON DELETE CASCADE
);
COMMIT;
</code></pre>
<h3 id="local-schemas"><a class="header" href="#local-schemas">Local Schemas</a></h3>
<p>To list local database schemas:</p>
<pre><code>lxd sql local .schema #=&gt;
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE schema (
    id         INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    version    INTEGER NOT NULL,
    updated_at DATETIME NOT NULL,
    UNIQUE (version)
);
INSERT INTO schema VALUES(1,38,1546788240);
CREATE TABLE config (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    key VARCHAR(255) NOT NULL,
    value TEXT,
    UNIQUE (key)
);
CREATE TABLE patches (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    name VARCHAR(255) NOT NULL,
    applied_at DATETIME NOT NULL,
    UNIQUE (name)
);
CREATE TABLE raft_nodes (
    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
    address TEXT NOT NULL,
    UNIQUE (address)
);
COMMIT;
</code></pre>
<h3 id="raft-nodes"><a class="header" href="#raft-nodes">Raft Nodes</a></h3>
<pre><code> lxd sql local 'select * from raft_nodes' #=&gt;
 +----+-------------------+
 | id |      address      |
 +----+-------------------+
 | 1  | 192.168.0.46:8443 |
 | 2  | 192.168.0.47:8443 |
 | 3  | 192.168.0.48:8443 |
 +----+-------------------+
</code></pre>
<p><a href="https://github.com/CanonicalLtd/dqlite">Distributed Sqlite</a> is using raft to sync sqlite db logs.</p>
<h3 id="cluster-nodes"><a class="header" href="#cluster-nodes">Cluster nodes</a></h3>
<pre><code>lxd sql global 'select * from nodes'
+----+-------------+-------------------+--------+----------------+
| id |    name     |      address      | schema | api_extensions |
+----+-------------+-------------------+--------+----------------+
| 1  | hypercube01 | 192.168.0.46:8443 | 13     | 115            |
| 2  | hypercube02 | 192.168.0.47:8443 | 13     | 115            |
| 3  | hypercube03 | 192.168.0.48:8443 | 13     | 115            |
| 4  | hypercube04 | 192.168.0.51:8443 | 13     | 115            |
| 5  | hypercube05 | 192.168.0.30:8443 | 13     | 115            |
| 6  | hypercube06 | 192.168.0.21:8443 | 13     | 115            |
| 7  | hypercube07 | 192.168.0.26:8443 | 13     | 115            |
+----+-------------+-------------------+--------+----------------+
</code></pre>
<h3 id="containers"><a class="header" href="#containers">Containers</a></h3>
<pre><code>lxd sql global 'select * from containers' #=&gt;
+----+---------+----------------+------------+
| id | node_id |      name      | project_id |
+----+---------+----------------+------------+
| 20 | 2       | grafana        | 1          |
| 30 | 3       | go             | 1          |
| 32 | 1       | guyujie        | 1          |
| 33 | 4       | nginx          | 1          |
| 36 | 1       | lxdui01        | 1          |
| 38 | 1       | crack-mako     | 1          |
| 39 | 5       | lxdui02        | 1          |
| 42 | 6       | fluent-hamster | 1          |
| 43 | 1       | b2             | 1          |
| 44 | 2       | b3             | 1          |
+----+---------+----------------+------------+
</code></pre>
<p>To select the node with least containers:</p>
<pre><code>lxd sql global \
    'select node_id, count(node_id) as node_count from containers
     group by node_id order by node_count'
</code></pre>
<h2 id="network"><a class="header" href="#network">Network</a></h2>
<p>Lxd can be configured to use <a href="https://wiki.ubuntu.com/FanNetworking">Ubuntu Fan
Network</a>.</p>
<p>Say 2 containers A and B:</p>
<table><thead><tr><th>Container</th><th>IP</th><th>Hyper</th><th>Hyper IP</th></tr></thead><tbody>
<tr><td>A</td><td>240.0.46.14/8</td><td>hypercube01</td><td>192.168.0.46/16</td></tr>
<tr><td>B</td><td>240.0.47.99/8</td><td>hypercube02</td><td>192.168.0.47/16</td></tr>
</tbody></table>
<p>Now ping B on A:</p>
<pre><code>ping 240.0.47.99 #=&gt;
ARP, Request who-has 240.0.47.99 tell 240.0.46.14, length 28
</code></pre>
<p>On hypercube01 the arp request being forwarded to hypercube02:</p>
<pre><code>17:07:29.650323 IP 192.168.0.46.53730 &gt; 192.168.0.47.8472
ARP, Request who-has 240.0.47.99 tell 240.0.46.14, length 28
</code></pre>
<h2 id="operations"><a class="header" href="#operations">Operations</a></h2>
<h3 id="launch-container"><a class="header" href="#launch-container">Launch Container</a></h3>
<p><code>lxc launch b --debug</code> will do:</p>
<ol>
<li>Get version
<pre><code>DBUG Connecting to a remote LXD over HTTPs
DBUG Sending request to LXD method=GET url=https://192.168.0.48:8443/1.0 etag=
DBUG Got response struct from LXD
DBUG
        {
                &quot;config&quot;: {
                        &quot;cluster.https_address&quot;: &quot;192.168.0.48:8443&quot;,
                        &quot;core.https_address&quot;: &quot;192.168.0.48:8443&quot;,
                        &quot;core.trust_password&quot;: true
                },
                &quot;api_extensions&quot;: [...],
                &quot;api_status&quot;: &quot;stable&quot;,
                &quot;api_version&quot;: &quot;1.0&quot;,
                &quot;auth&quot;: &quot;trusted&quot;,
                &quot;public&quot;: false,
                &quot;auth_methods&quot;: [
                        &quot;tls&quot;
                ],
                &quot;environment&quot;: {
                        &quot;addresses&quot;: [
                                &quot;192.168.0.48:8443&quot;
                        ],
                        &quot;architectures&quot;: [
                                &quot;x86_64&quot;,
                                &quot;i686&quot;
                        ],
                        &quot;certificate&quot;: &quot;...&quot;,
                        &quot;certificate_fingerprint&quot;: &quot;...&quot;,
                        &quot;driver&quot;: &quot;lxc&quot;,
                        &quot;driver_version&quot;: &quot;3.1.0&quot;,
                        &quot;kernel&quot;: &quot;Linux&quot;,
                        &quot;kernel_architecture&quot;: &quot;x86_64&quot;,
                        &quot;kernel_version&quot;: &quot;4.15.0-43-generic&quot;,
                        &quot;server&quot;: &quot;lxd&quot;,
                        &quot;server_pid&quot;: 32645,
                        &quot;server_version&quot;: &quot;3.9&quot;,
                        &quot;storage&quot;: &quot;zfs&quot;,
                        &quot;storage_version&quot;: &quot;0.7.5-1ubuntu16.4&quot;,
                        &quot;server_clustered&quot;: true,
                        &quot;server_name&quot;: &quot;hypercube03&quot;,
                        &quot;project&quot;: &quot;default&quot;
                }
        }
</code></pre>
</li>
<li>Get image
<pre><code>Creating the container
DBUG ... method=GET url=https://192.168.0.48:8443/1.0/images/aliases/b etag=
DBUG Got response struct from LXD
DBUG
        {
                &quot;description&quot;: &quot;&quot;,
                &quot;target&quot;: &quot;dcbc8e3e5c2ed9fb21c3d0659a0eee004bd...
                &quot;name&quot;: &quot;b&quot;
        }
DBUG ... method=GET url=https://192.168.0.48:8443/1.0/images/dcbc8e... etag=
DBUG Got response struct from LXD
DBUG
        {
                &quot;auto_update&quot;: true,
                &quot;properties&quot;: {
                        &quot;architecture&quot;: &quot;amd64&quot;,
                        &quot;description&quot;: &quot;ubuntu 18.04 LTS amd64 (r...
                        &quot;label&quot;: &quot;release&quot;,
                        &quot;os&quot;: &quot;ubuntu&quot;,
                        &quot;release&quot;: &quot;bionic&quot;,
                        &quot;serial&quot;: &quot;20190114&quot;,
                        &quot;version&quot;: &quot;18.04&quot;
                },
                &quot;public&quot;: false,
                &quot;aliases&quot;: [
                        {
                                &quot;name&quot;: &quot;b&quot;,
                                &quot;description&quot;: &quot;&quot;
                        }
                ],
                &quot;architecture&quot;: &quot;x86_64&quot;,
                &quot;cached&quot;: true,
                &quot;filename&quot;: &quot;ubuntu-18.04-server-cloudimg-amd64-lxd.tar.xz&quot;,
                &quot;fingerprint&quot;: &quot;dcbc8e3e5c2ed9fb21c3d0...&quot;,
                &quot;size&quot;: 183468820,
                &quot;update_source&quot;: {
                        &quot;alias&quot;: &quot;b&quot;,
                        &quot;certificate&quot;: &quot;&quot;,
                        &quot;protocol&quot;: &quot;simplestreams&quot;,
                        &quot;server&quot;: &quot;https://cloud-images.ubuntu.com/releases&quot;
                },
                &quot;created_at&quot;: &quot;2019-01-14T00:00:00Z&quot;,
                &quot;expires_at&quot;: &quot;2023-04-26T00:00:00Z&quot;,
                &quot;last_used_at&quot;: &quot;2019-01-18T08:22:28.5476208Z&quot;,
                &quot;uploaded_at&quot;: &quot;2019-01-15T00:36:47.651093161Z&quot;
        }
</code></pre>
</li>
<li>Create Container Operation
<pre><code>DBUG Connected to the websocket
DBUG ... method=POST url=.../1.0/containers etag=
DBUG
        {
                &quot;architecture&quot;: &quot;&quot;,
                &quot;config&quot;: {},
                &quot;devices&quot;: {},
                &quot;ephemeral&quot;: false,
                &quot;profiles&quot;: null,
                &quot;stateful&quot;: false,
                &quot;description&quot;: &quot;&quot;,
                &quot;name&quot;: &quot;&quot;,
                &quot;source&quot;: {
                        &quot;type&quot;: &quot;image&quot;,
                        &quot;certificate&quot;: &quot;&quot;,
                        &quot;fingerprint&quot;: &quot;dcbc8e3e5c2ed9fb21c3d065...&quot;
                },
                &quot;instance_type&quot;: &quot;&quot;
        }
DBUG Got operation from LXD
DBUG
        {
                &quot;id&quot;: &quot;1de45646-d209-413f-827a-ef7921c3c7f8&quot;,
                &quot;class&quot;: &quot;task&quot;,
                &quot;description&quot;: &quot;Creating container&quot;,
                &quot;created_at&quot;: &quot;2019-01-22T06:13:23.360302136Z&quot;,
                &quot;updated_at&quot;: &quot;2019-01-22T06:13:23.360302136Z&quot;,
                &quot;status&quot;: &quot;Running&quot;,
                &quot;status_code&quot;: 103,
                &quot;resources&quot;: {
                        &quot;containers&quot;: [
                                &quot;/1.0/containers/fluent-hamster&quot;
                        ]
                },
                &quot;metadata&quot;: null,
                &quot;may_cancel&quot;: false,
                &quot;err&quot;: &quot;&quot;
        }
</code></pre>
</li>
<li>Wait Create Operation Done
<pre><code>DBUG ... method=GET url=.../1.0/operations/1de45646-... etag=
DBUG Got response struct from LXD
DBUG
        {
                &quot;id&quot;: &quot;1de45646-d209-413f-827a-ef7921c3c7f8&quot;,
                &quot;class&quot;: &quot;task&quot;,
                &quot;description&quot;: &quot;Creating container&quot;,
                &quot;created_at&quot;: &quot;2019-01-22T06:13:23.360302136Z&quot;,
                &quot;updated_at&quot;: &quot;2019-01-22T06:13:23.360302136Z&quot;,
                &quot;status&quot;: &quot;Running&quot;,
                &quot;status_code&quot;: 103,
                &quot;resources&quot;: {
                        &quot;containers&quot;: [
                                &quot;/1.0/containers/fluent-hamster&quot;
                        ]
                },
                &quot;metadata&quot;: null,
                &quot;may_cancel&quot;: false,
                &quot;err&quot;: &quot;&quot;
        }
Container name is: fluent-hamster
</code></pre>
</li>
<li>Get container
<pre><code>DBUG[01-22|14:13:37] ... method=GET url=.../1.0/containers/fluent-hamster etag=
DBUG[01-22|14:13:39] Got response struct from LXD
DBUG[01-22|14:13:39]
        {
                &quot;architecture&quot;: &quot;x86_64&quot;,
                &quot;config&quot;: {
                        &quot;image.architecture&quot;: &quot;amd64&quot;,
                        &quot;image.description&quot;: &quot;ubuntu 18.04 LTS 
                        &quot;image.label&quot;: &quot;release&quot;,
                        &quot;image.os&quot;: &quot;ubuntu&quot;,
                        &quot;image.release&quot;: &quot;bionic&quot;,
                        &quot;image.serial&quot;: &quot;20190114&quot;,
                        &quot;image.version&quot;: &quot;18.04&quot;,
                        &quot;volatile.apply_template&quot;: &quot;create&quot;,
                        &quot;volatile.base_image&quot;: &quot;dcbc8e3e5c2ed9fb21c3....&quot;,
                        &quot;volatile.eth0.hwaddr&quot;: &quot;00:16:3e:e3:bf:17&quot;,
                        &quot;volatile.idmap.base&quot;: &quot;0&quot;,
                        &quot;volatile.idmap.next&quot;: &quot;[{\&quot;Isuid...
                        &quot;volatile.last_state.idmap&quot;: &quot;[{\...
                },
                &quot;devices&quot;: {},
                &quot;ephemeral&quot;: false,
                &quot;profiles&quot;: [
                        &quot;default&quot;
                ],
                &quot;stateful&quot;: false,
                &quot;description&quot;: &quot;&quot;,
                &quot;created_at&quot;: &quot;2019-01-22T06:13:29.053538619Z&quot;,
                &quot;expanded_config&quot;: {
                        &quot;image.architecture&quot;: &quot;amd64&quot;,
                        &quot;image.description&quot;: &quot;ubuntu 18.04 LTS 
                        &quot;image.label&quot;: &quot;release&quot;,
                        &quot;image.os&quot;: &quot;ubuntu&quot;,
                        &quot;image.release&quot;: &quot;bionic&quot;,
                        &quot;image.serial&quot;: &quot;20190114&quot;,
                        &quot;image.version&quot;: &quot;18.04&quot;,
                        &quot;volatile.apply_template&quot;: &quot;create&quot;,
                        &quot;volatile.base_image&quot;: &quot;dcbc8e3e5c2ed9fb21...
                        &quot;volatile.eth0.hwaddr&quot;: &quot;00:16:3e:e3:bf:17&quot;,
                        &quot;volatile.idmap.base&quot;: &quot;0&quot;,
                        &quot;volatile.idmap.next&quot;: &quot;[{\&quot;Isuid\&quot;:true,\&quot;Isgid\...]&quot;,
                        &quot;volatile.last_state.idmap&quot;: &quot;[{\&quot;Isuid...]&quot;
                },
                &quot;expanded_devices&quot;: {
                        &quot;eth0&quot;: {
                                &quot;name&quot;: &quot;eth0&quot;,
                                &quot;nictype&quot;: &quot;bridged&quot;,
                                &quot;parent&quot;: &quot;lxdfan0&quot;,
                                &quot;type&quot;: &quot;nic&quot;
                        },
                        &quot;root&quot;: {
                                &quot;path&quot;: &quot;/&quot;,
                                &quot;pool&quot;: &quot;local&quot;,
                                &quot;type&quot;: &quot;disk&quot;
                        }
                },
                &quot;name&quot;: &quot;fluent-hamster&quot;,
                &quot;status&quot;: &quot;Stopped&quot;,
                &quot;status_code&quot;: 102,
                &quot;last_used_at&quot;: &quot;1970-01-01T00:00:00Z&quot;,
                &quot;location&quot;: &quot;hypercube06&quot;
        }
</code></pre>
</li>
<li>Start Container Operation
<pre><code>Starting fluent-hamster
DBUG ... method=PUT url=.../1.0/containers/fluent-hamster/state etag=
DBUG
        {
                &quot;action&quot;: &quot;start&quot;,
                &quot;timeout&quot;: -1,
                &quot;force&quot;: false,
                &quot;stateful&quot;: false
        }
DBUG Got operation from LXD
DBUG
        {
                &quot;id&quot;: &quot;46746a23-5873-4755-a0ad-27385370aa39&quot;,
                &quot;class&quot;: &quot;task&quot;,
                &quot;description&quot;: &quot;Starting container&quot;,
                &quot;created_at&quot;: &quot;2019-01-22T06:13:40.232324373Z&quot;,
                &quot;updated_at&quot;: &quot;2019-01-22T06:13:40.232324373Z&quot;,
                &quot;status&quot;: &quot;Running&quot;,
                &quot;status_code&quot;: 103,
                &quot;resources&quot;: {
                        &quot;containers&quot;: [
                                &quot;/1.0/containers/fluent-hamster&quot;
                        ]
                },
                &quot;metadata&quot;: null,
                &quot;may_cancel&quot;: false,
                &quot;err&quot;: &quot;&quot;
        }
</code></pre>
</li>
<li>Start Operation Done
<pre><code>DBUG[01-22|14:13:40] ... method=GET url=.../1.0/operations/...-27385370aa39 etag=
DBUG[01-22|14:13:42] Got response struct from LXD
DBUG[01-22|14:13:42]
        {
                &quot;id&quot;: &quot;46746a23-5873-4755-a0ad-27385370aa39&quot;,
                &quot;class&quot;: &quot;task&quot;,
                &quot;description&quot;: &quot;Starting container&quot;,
                &quot;created_at&quot;: &quot;2019-01-22T06:13:40.232324373Z&quot;,
                &quot;updated_at&quot;: &quot;2019-01-22T06:13:40.232324373Z&quot;,
                &quot;status&quot;: &quot;Success&quot;,
                &quot;status_code&quot;: 200,
                &quot;resources&quot;: {
                        &quot;containers&quot;: [
                                &quot;/1.0/containers/fluent-hamster&quot;
                        ]
                },
                &quot;metadata&quot;: null,
                &quot;may_cancel&quot;: false,
                &quot;err&quot;: &quot;&quot;
        }
</code></pre>
</li>
</ol>
<h2 id="ansible"><a class="header" href="#ansible">Ansible</a></h2>
<h3 id="lxd-connection"><a class="header" href="#lxd-connection">Lxd connection</a></h3>
<p>Ansible has a <code>lxd</code> connection, which can be used to manage lxd
containers.</p>
<pre><code>[lxdui]
lxdui01 ansible_host=lxdui01
lxdui02 ansible_host=lxdui02
[lxdui:vars]
ansible_user=root
ansible_connection=lxd
</code></pre>
<p>To ping:</p>
<pre><code class="language-bash">ansible -m ping lxdui -vvvvv #=&gt;

ansible 2.7.6
&lt;lxdui01&gt; ESTABLISH LXD CONNECTION FOR USER: root
&lt;lxdui01&gt; EXEC /bin/sh -c 'echo ~root &amp;&amp; sleep 0'
&lt;lxdui02&gt; ESTABLISH LXD CONNECTION FOR USER: root
lxdui02 | SUCCESS =&gt; {
    &quot;changed&quot;: false,
    &quot;invocation&quot;: {
        &quot;module_args&quot;: {
            &quot;data&quot;: &quot;pong&quot;
        }
    },
    &quot;ping&quot;: &quot;pong&quot;
}
lxdui01 | SUCCESS =&gt; {
    &quot;changed&quot;: false,
    &quot;invocation&quot;: {
        &quot;module_args&quot;: {
            &quot;data&quot;: &quot;pong&quot;
        }
    },
    &quot;ping&quot;: &quot;pong&quot;
}
META: ran handlers
META: ran handlers
</code></pre>
<p>It can work without ssh:</p>
<pre><code>ansible (client) -&gt; lxc (client) -&gt; lxd api(server) -&gt; lxd containers
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="go-debug"><a class="header" href="#go-debug">Go Debug</a></h1>
<p><code>&lt;2018-07-27 Fri&gt;</code></p>
<p>How to do go debug.</p>
<h2 id="background"><a class="header" href="#background">Background</a></h2>
<p>Go has no its own debugger so it turned to gdb. See <a href="https://golang.org/doc/gdb">Debugging Go Code
with GDB</a> for details.</p>
<p>But GDB does not understand Go programs well. As a better alternative,
<a href="https://github.com/derekparker/delve">Delve</a> has its place.</p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<pre><code>go get github.com/derekparker/delve/cmd/dlv
</code></pre>
<h2 id="code-to-debug"><a class="header" href="#code-to-debug">Code to Debug</a></h2>
<p><code>main.go</code>:</p>
<pre><code class="language-go">package main

import (
    &quot;fmt&quot;

    &quot;golang.org/x/sync/errgroup&quot;
)

func main() {
    hello()
}

var Printf = fmt.Printf

func hello() {
    g := &amp;errgroup.Group{}
    for i := 0; i &lt; 10; i++ {
        g.Go(func() error {
            Printf(&quot;goroutine %02d\n&quot;, i)
            return nil
        })
    }
    g.Wait()
}
</code></pre>
<p><code>main_test.go</code>:</p>
<pre><code class="language-go">package main

import (
    &quot;fmt&quot;
    &quot;reflect&quot;
    &quot;testing&quot;
)

func TestHello(t *testing.T) {
    lines := make([]string, 10)
    Printf = func(format string, a ...interface{}) (n int, err error) {
        i := a[0].(int)
        lines[i] = fmt.Sprintf(format, a...)
        return len(lines[i]), nil
    }
    hello()
    want := []string{
        &quot;goroutine 00\n&quot;,
        &quot;goroutine 01\n&quot;,
        &quot;goroutine 02\n&quot;,
        &quot;goroutine 03\n&quot;,
        &quot;goroutine 04\n&quot;,
        &quot;goroutine 05\n&quot;,
        &quot;goroutine 06\n&quot;,
        &quot;goroutine 07\n&quot;,
        &quot;goroutine 08\n&quot;,
        &quot;goroutine 09\n&quot;,
    }
    if !reflect.DeepEqual(want, lines) {
        t.Fatal(want, lines)
    }
}
</code></pre>
<h2 id="debugging-practices"><a class="header" href="#debugging-practices">Debugging Practices</a></h2>
<p>We will learn:</p>
<ol>
<li>How to set breakpoints
<ol>
<li><code>break main.main</code>,</li>
<li><code>break TestHello</code>,</li>
<li><code>break db.go:27</code>,</li>
</ol>
</li>
<li>How to switch goroutines
<ol>
<li><code>goroutines</code> to list goroutines,</li>
<li><code>goroutine 18</code> to switch goroutine</li>
</ol>
</li>
<li>How to debug a service</li>
</ol>
<h2 id="debug-a-program"><a class="header" href="#debug-a-program">Debug a Program</a></h2>
<pre><code class="language-bash">$ dlv debug
Type 'help' for list of commands.
(dlv) break main.main
Breakpoint 1 set at 0x10b1faf for main.main() ./main.go:9
(dlv) continue
&gt; main.main() ./main.go:9 (hits goroutine(1):1 total:1) (PC: 0x10b1faf)
     4:         &quot;fmt&quot;
     5:
     6:         &quot;golang.org/x/sync/errgroup&quot;
     7: )
     8:
=&gt;   9: func main() {
    10:         hello()
    11: }
    12:
    13: var Printf = fmt.Printf
    14:
</code></pre>
<h2 id="debug-test-case"><a class="header" href="#debug-test-case">Debug Test Case</a></h2>
<pre><code class="language-bash">dlv test
Type 'help' for list of commands.
(dlv) break TestHello
Breakpoint 1 set at 0x1137b4b for _/...TestHello() ./main_test.go:9
(dlv) continue
&gt; _.../hello.TestHello() ./main_test.go:9 (hits goroutine(5):1 total:1) (PC: 0x1137b4b)
     4:         &quot;fmt&quot;
     5:         &quot;reflect&quot;
     6:         &quot;testing&quot;
     7: )
     8:
=&gt;   9: func TestHello(t *testing.T) {
    10:         lines := make([]string, 10)
    11:         Printf = func(format string, a ...interface{}) (n int, err error) {
    12:                 i := a[0].(int)
    13:                 lines[i] = fmt.Sprintf(format, a...)
    14:                 return len(lines[i]), nil
(dlv) break 12
Breakpoint 2 set at 0x1138101 for _.../hello.TestHello.func1() ./main_test.go:12
(dlv) continue
&gt; _...hello.TestHello.func1() ./main_test.go:12 
(hits goroutine(15):1 total:1) (PC: 0x1138101)
     7: )
     8:
     9: func TestHello(t *testing.T) {
    10:         lines := make([]string, 10)
    11:         Printf = func(format string, a ...interface{}) (n int, err error) {
=&gt;  12:                 i := a[0].(int)
    13:                 lines[i] = fmt.Sprintf(format, a...)
    14:                 return len(lines[i]), nil
    15:         }
    16:         hello()
    17:         want := []string{
(dlv) print a
[]interface {} len: 1, cap: 1, [
        10,
]
</code></pre>
<h2 id="debug-a-service"><a class="header" href="#debug-a-service">Debug a Service</a></h2>
<pre><code class="language-bash">$ icp-cland&amp;
$ ps -ef|grep icp-cland
501 89630  3744   0  2:44PM ttys002    0:00.34 icp-cland
$ dlv attach 89630
Type 'help' for list of commands.
(dlv) break github..../cland/icp-cland/icp/service/admin/db.go:27
Breakpoint 1 set at 0x47c771e for github...
(dlv) continue
&gt; github..../cland/icp-cland/icp/...
Warning: debugging optimized function
    22:         *logging.Tracer
    23: }
    24:
    25: func (dba *dbAdmin) Purge(ctx context.Context,
    26:         req *dbs.PurgeRequest) (rep *dbs.PurgeReply, err error) {
=&gt;  27:         sp, ctx, logger := dba.StartSpanFromContext(ctx, &quot;DBAdminPurge&quot;)
    28:         defer sp.Finish()
    29:         rep = &amp;dbs.PurgeReply{}
    30:         filter := req.GetFilter()
    31:         var purged int64
    32:         purged, err = model.Purge(filter)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="my-kids"><a class="header" href="#my-kids">My Kids</a></h1>
<p><code>&lt;2017-12-25 Mon&gt;</code></p>
<p>Here some interesting words from my kids:</p>
<ol>
<li>Dream Fidget Spinner</li>
</ol>
<pre><code>      __      &quot;I saw a fidget spinner in my dream.
     (O )      I bit it and found it's as sweet as chocolate.&quot;
    _/:D\_     -- Nan Yi, Dec 20 2017                         
   (O/¯\O )                                                   
    ¯   ¯¯
</code></pre>
<ol start="2">
<li>Dislike Magic Pen</li>
</ol>
<pre><code>
   &quot;Today a little girl gave me
    a magic pen, but I dislike  /\
    it. I thought a long time  /  \
    how to switch it out.     |    |
    Finally a little boy    --:'''':--
    exchanged it with his     :'_' :
    car. Look,                _:&quot;&quot;:\___
    this       ' '      ____.' :::     '._
    one.&quot;     . *=====&lt;&lt;=)           \    :
               .  '      '-'-'\_      /'._.'
    -- Nan Yi, Nov 10 2017      \====:_ &quot;&quot;
                               .'     \\
                              :       :
                             /   :    \
                            :   .      '.
            ,. _            :  : :      :
         '-'    ).          :__:-:__.;--'
       (        '  )        '-'   '-'
    ( -   .00.   - _
   (    .'  _ )     )
   '-  ()_.\,\,   -
</code></pre>
<ol start="3">
<li>A Little Dragonfly</li>
</ol>
<pre><code>   ( '\___      \_  (^)  _/      ___/' )
    \ , ' \____   \ / \ /   ____/ ' , /
     \__ ' , ' \___{~V~}___/ ' , ' __/
    ____\_________ {&lt;!&gt;} _________/____
   / , ' , ' , ' ,`{&lt;!&gt;}~, ' , ' , ' , \
   \_____________ /{&lt;!&gt;}\______________/
                    \./
                    (~) &quot;Today I saw
                    (~)  a dragonfly
                    (~)  in our kindergarten.
                    (~)  I said little dragonfly,
                    (~)  how did you come here?&quot;
                    (~)
                    ,0,  -- Nan Yi, July 10 2016
                     &quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tips"><a class="header" href="#tips">Tips</a></h1>
<p><code>&lt;2017-12-20 Mon&gt;</code></p>
<p>Some tips about linux kernel, ssh, qemu, ncat and more.</p>
<h2 id="linux-kernel"><a class="header" href="#linux-kernel">Linux Kernel</a></h2>
<p>Kernel building takes too long time. We can speed up the process via:</p>
<ol>
<li>Enable <code>tmpfs</code> to build in memory,</li>
<li>Enable <code>ccache</code> to avoid unnecessary recompile,</li>
<li>Enable <code>distcc</code> to build on multiple machines.</li>
</ol>
<h3 id="mount-tmpfs"><a class="header" href="#mount-tmpfs">Mount tmpfs</a></h3>
<pre><code>   mkdir src .ccache
   mount -t tmpfs -o size=30G,mode=0755 tmpfs src
   mount -t tmpfs -o size=10G,mode=0755 tmpfs .ccache
</code></pre>
<p>Speed up kernel building via <code>ccache</code> and <code>distcc</code>:</p>
<h3 id="enable-ccache"><a class="header" href="#enable-ccache">Enable ccache</a></h3>
<pre><code>apt-get install ccache
</code></pre>
<h3 id="enable-distcc"><a class="header" href="#enable-distcc">Enable distcc</a></h3>
<pre><code>apt-get install distcc
echo 10.113.111.160 10.113.111.187 &gt;&gt; /etc/distcc/hosts
</code></pre>
<p>On <code>10.113.111.160</code> and  <code>10.113.111.187</code>:</p>
<pre><code>apt-get install distcc
cat &gt; /etc/default/distcc &lt;&lt;EOF
STARTDISTCC=&quot;true&quot;
ALLOWEDNETS=&quot;10.113.111.152&quot;    # master build ip
LISTENER=&quot;10.113.111.187&quot;       # local ip
EOF
systemctl restart distcc
</code></pre>
<h3 id="build"><a class="header" href="#build">Build</a></h3>
<p>Build ubuntu kernel <code>Ubuntu-4.4.0-102.125</code> as below:</p>
<pre><code class="language-bash">cd src
git clone git://kernel.ubuntu.com/ubuntu/ubuntu-xenial
cd ubuntu-xenial
git checkout Ubuntu-4.4.0-102.125
sed 's/CONFIG_VIRTIO_NET=y/CONFIG_VIRTIO_NET=m/g'
export PATH=/usr/lib/ccache:$PATH
export CCACHE_PREFIX=&quot;distcc&quot;
fakeroot debian/rules clean
fakeroot debian/rules binary
</code></pre>
<p>It takes around 9 minutes on my machine.</p>
<h2 id="ssh"><a class="header" href="#ssh">Ssh</a></h2>
<p><a href="https://blog.scottlowe.org/2015/12/11/using-ssh-multiplexing/">Using SSH Multiplexing</a>:</p>
<pre><code>ControlMaster auto
ControlPath ~/.ssh/sockets/%r@%h-%p
ControlPersist 600
</code></pre>
<h2 id="qemu"><a class="header" href="#qemu">QEMU</a></h2>
<ol>
<li>which nic models qemu supports?
<pre><code>qemu-system-x86_64 -net nic,model=?  #=&gt;
qemu: Supported NIC models: ne2k_pci,i82551,i82557b,i82559er,...
</code></pre>
</li>
<li>Quit qemu <code>C-A C</code>.</li>
</ol>
<h2 id="ncat"><a class="header" href="#ncat">Ncat</a></h2>
<p>[Ncat] is a general-purpose command-line tool for reading,
writing,redirecting, and encrypting data across a network. It is along
with <a href="https://nmap.org/">nmap</a>, but not so famous.</p>
<h3 id="install"><a class="header" href="#install">Install</a></h3>
<p>To install ncat just install nmap, Ubuntu:</p>
<pre><code>apt-get install nmap
</code></pre>
<p>Mac:</p>
<pre><code>brew install nmap
</code></pre>
<h3 id="use-ncat-to-transfer-files"><a class="header" href="#use-ncat-to-transfer-files">Use Ncat to Transfer Files</a></h3>
<ol>
<li>
<p>Transfer Single File</p>
<pre><code># on machine A
ncat -p 80 -l --send-only &lt; file
# on machine B
ncat &lt;machine A ip&gt; 80 --recv-only &gt; file
</code></pre>
</li>
<li>
<p>Transfer Multiple Files</p>
<pre><code># on machine A
for file in *.deb; do
    echo $file | ncat -p 80 -l --send-only
    ncat -p 80 -l --send-only &lt; $file
done
# on machine B
while true; do
    file=$(ncat &lt;machine A ip&gt; 80 --recv-only) || break
    echo $file
    ncat &lt;machine A ip&gt; 80 --recv-only &gt; $file
done
</code></pre>
</li>
</ol>
<h3 id="http-proxy"><a class="header" href="#http-proxy">Http Proxy</a></h3>
<p>Ncat can act as a http proxy server, which</p>
<p>Run:</p>
<pre><code>ncat -l -p 8888 --proxy-type http --allow 127.0.0.1
</code></pre>
<p>Test it(on the machine running ncat):</p>
<pre><code>export https_proxy=http://127.0.0.1:8888
curl https://www.google.com
</code></pre>
<p>Jump over the wall via ssh:</p>
<pre><code>ssh -L 127.0.0.1:8888:127.0.0.1:8888 &lt;your machine outside the wall&gt;
</code></pre>
<p>Test it again(on the machine running <code>ssh -L</code>):</p>
<pre><code>export http_proxy=http://127.0.0.1:8888
curl http://www.google.com
</code></pre>
<p>Http request will go through your local port 8888, encrypted and jump
over the wall, go to your target machine local port 8888, via ncat to
access the world. It's safe, simple, stable and fast.</p>
<h3 id="proxy-ssh"><a class="header" href="#proxy-ssh">Proxy Ssh</a></h3>
<p>Ncat http proxy mode support =CONNECT= method also. So it can be used
as a ssh proxy:</p>
<pre><code>ssh -o &quot;ProxyCommand=ncat --proxy 127.0.0.1:8888 %h %p&quot; user@host
</code></pre>
<p>Ssh traffic will go to your local port 8888, ssh will forward it to
your jumpbox, which ncat is running there, to visit all the machines
running behind the jumpbox. In this way, you can keep your ssh keys in
your local, no need to copy anywhere in order to access your machines.</p>
<p>You can put it to your <code>~/.ssh/config</code>:</p>
<pre><code>Host: host
Hostname: host
ProxyCommand: ncat --proxy 127.0.0.1:8888 %h %p
</code></pre>
<h3 id="proxy-ansible"><a class="header" href="#proxy-ansible">Proxy Ansible</a></h3>
<p>You can run ansible with below configuration in your inventory:</p>
<pre><code>[all:vars]
ansible_ssh_common_args='-o ProxyCommand=&quot;ncat --proxy 127.0.0.1:8888 %h %p&quot;'
</code></pre>
<h2 id="permission-bits"><a class="header" href="#permission-bits">Permission Bits</a></h2>
<ol>
<li>
<p>Read, write and execute permissions</p>
<table><thead><tr><th>Permission</th><th>Octal</th><th>Description</th></tr></thead><tbody>
<tr><td>rwx</td><td>7</td><td>Read, write and execute</td></tr>
<tr><td>rw-</td><td>6</td><td>Read and write</td></tr>
<tr><td>r-x</td><td>5</td><td>Read and execute</td></tr>
<tr><td>r--</td><td>4</td><td>Read</td></tr>
<tr><td>-wx</td><td>3</td><td>Write and execute</td></tr>
<tr><td>-w-</td><td>2</td><td>Write</td></tr>
<tr><td>--x</td><td>1</td><td>Execute</td></tr>
<tr><td>---</td><td>0</td><td>no permissions</td></tr>
</tbody></table>
</li>
<li>
<p>User, group and others</p>
<table><thead><tr><th>Permission</th><th>Octal</th><th>Field</th></tr></thead><tbody>
<tr><td>rwx------</td><td>0700</td><td>User</td></tr>
<tr><td>---rwx---</td><td>0070</td><td>Group</td></tr>
<tr><td>------rwx</td><td>0007</td><td>All Others</td></tr>
</tbody></table>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="freebsd-cloud-init"><a class="header" href="#freebsd-cloud-init">FreeBSD Cloud Init</a></h1>
<p><code>&lt;2017-10-27 Fri&gt;</code></p>
<p>How to setup cloudinit for freebsd and how to do disk resize under
freebsd.</p>
<h2 id="setup-cloudinit-for-freebsd-image"><a class="header" href="#setup-cloudinit-for-freebsd-image">Setup CloudInit for FreeBSD Image</a></h2>
<p>In this guide we will talk about <code>CloudInit</code> Setup on FreeBSD, not
<code>bsd-cloudinit</code>. It's because <code>bsd-cloudinit</code> is based on
<code>cloudbaseinit</code>, which has no support on <code>ConfigDrive</code>, while our
OpenStack cloud supports only <code>ConfigDrive</code>. So for freebsd image we
need to enable <code>CloudInit</code>.</p>
<h2 id="download-image-and-convert"><a class="header" href="#download-image-and-convert">Download Image And Convert</a></h2>
<p>We need packages <code>qemu-utils</code>, <code>wget</code>:</p>
<pre><code>pkg install qemu-utils wget
</code></pre>
<p>And download freebsd base image:</p>
<pre><code>base=FreeBSD-11.1-RELEASE-amd64
release=releases/VM-IMAGES/11.1-RELEASE/amd64/Latest
wget https://download.freebsd.org/ftp/$release/${base}.qcow2.xz
</code></pre>
<p>Unzip and convert to raw:</p>
<pre><code>unxz ${base}.qcow2.xz
qemu-img convert -p -f qcow2 -O raw ${base}.qcow2 ${base}.raw
</code></pre>
<h2 id="mount-image-and-chroot"><a class="header" href="#mount-image-and-chroot">Mount Image And Chroot</a></h2>
<p>Attach to device:</p>
<pre><code>mdconfig -a -t vnode -u 0 -f ${base}.raw
</code></pre>
<p>Mount last partition:</p>
<pre><code>mount /dev/md0p3 /mnt
mount -t devfs devfs /mnt/dev
cp /etc/resolv.conf /mnt/etc
chroot /mnt
</code></pre>
<h2 id="install-cloud-init"><a class="header" href="#install-cloud-init">Install Cloud-init</a></h2>
<p>Install <code>cloud-init</code>:</p>
<pre><code>pkg install py27-cloud-init
</code></pre>
<p>Enable services:</p>
<pre><code>cat &gt;&gt; /etc/rc.conf &lt;&lt; EOF
cloudinit_enable=&quot;YES&quot;
sshd_enable=&quot;YES&quot;
EOF
</code></pre>
<p>Cloudinit call <code>blkid</code> to select config drive. But <code>blkid</code> doesn't
work for FreeBSD filesytem. Now work around <code>blkid</code> as below:</p>
<pre><code>cat &gt; /usr/bin/blkid &lt;&lt; EOF
#!/bin/sh
[ -e /dev/iso9660/config-2 ] || exit 1
echo /dev/iso9660/config-2
EOF
chmod a+x /usr/bin/blkid
</code></pre>
<p>Mount for cd9660 on FreeBSD does not support <code>-o sync</code>. Patch
cloudinit <code>mount</code>:</p>
<pre><code>cd /usr/local/lib/python2.7/site-packages/cloudinit
patch -p1 &lt;&lt; EOF
--- a/util.py   2017-10-27 07:14:55.968737000 +0000
+++ b/util.py   2017-10-27 07:15:03.481245000 +0000
@@ -1364,6 +1364,7 @@
         if mtypes is None:
             mtypes = [&quot;auto&quot;]
     elif platsys.endswith(&quot;bsd&quot;):
+        sync = False
         if mtypes is None:
             mtypes = ['ufs', 'cd9660', 'vfat']
         for index, mtype in enumerate(mtypes):
EOF
</code></pre>
<p>Cleanup and exit:</p>
<pre><code>set history = 0
exit
</code></pre>
<h2 id="umount-image-and-convert-back"><a class="header" href="#umount-image-and-convert-back">Umount Image And Convert Back</a></h2>
<pre><code>umount /mnt/dev
rm /mnt/etc/resolv.conf
umount /mnt
mdconfig -d -u 0
qemu-img convert -p -f raw -O qcow2 ${base}.raw ${base}.qcow2
</code></pre>
<h2 id="boot-instance"><a class="header" href="#boot-instance">Boot Instance</a></h2>
<p>Once you boot an instance, you can access it via ssh, please notice
the default user is <code>beastie</code>.</p>
<h2 id="disk-resize-under-freebsd"><a class="header" href="#disk-resize-under-freebsd">Disk Resize Under FreeBSD</a></h2>
<p>First to list the geoms:</p>
<pre><code>gpart list
=&gt;
Geom name: vtbd0
modified: false
state: CORRUPT
</code></pre>
<p>Show the Geom:</p>
<pre><code>gpart show vtbd0
=&gt;       3  44040315  vtbd0  GPT  (40G) [CORRUPT]
         3       118      1  freebsd-boot  (59K)
       121   2097152      2  freebsd-swap  (1.0G)
   2097273  41943040      3  freebsd-ufs  (20G)
  44040313         5         - free -  (2.5K)
</code></pre>
<p>If the <code>state</code> shows <code>CORRUPT</code>, we need to recover it:</p>
<pre><code>gpart recover vtbd0
vtbd0 recovered
</code></pre>
<p>Show again and the <code>CORRUPT</code> mark disappeared:</p>
<pre><code>gpart show vtbd0
=&gt;       3  83886069  vtbd0  GPT  (40G)
         3       118      1  freebsd-boot  (59K)
       121   2097152      2  freebsd-swap  (1.0G)
   2097273  41943040      3  freebsd-ufs  (20G)
  44040313  39845759         - free -  (19G)
</code></pre>
<p>Apparently the partition 3 should be resized.</p>
<p>Run resize on partition 3:</p>
<pre><code>gpart resize -i 3 -a 4k vtbd0
vtbd0p3 resized
gpart show vtbd0
=&gt;       3  83886069  vtbd0  GPT  (40G)
         3       118      1  freebsd-boot  (59K)
       121   2097152      2  freebsd-swap  (1.0G)
   2097273  81788799      3  freebsd-ufs  (39G)
</code></pre>
<p>According <a href="https://www.freebsd.org/doc/handbook/disks-growing.html">FreeBSD Doc</a>, <code>growfs</code> should be run as below:</p>
<pre><code>growfs /dev/vtbd0p3
</code></pre>
<p>But it doesn't work with below error reported:</p>
<pre><code>growfs: /dev/vtbd0p3: Operation not permitted
</code></pre>
<p>A workaround is to run <code>service growfs onestart</code>:</p>
<pre><code>service growfs onestart
Growing root partition to fill device
vtbd0 recovering is not needed
vtbd0p3 resized
super-block backups (for fsck_ffs -b #) at:
 42314112, 43596352, 44878592, 46160832, 47443072, ...
 56418752, 57700992, 58983232, 60265472, 61547712, ...
 70523392, 71805632, 73087872, 74370112, 75652352, ...
</code></pre>
<p>After that I run <code>shutdown -r now</code>, the VM hang at:</p>
<pre><code>run_interrupt_driven_hooks: still waiting after 60 seconds for xpt_config
run_interrupt_driven_hooks: still waiting after 120 seconds for xpt_config
</code></pre>
<p>After force restarted it's bootable again.</p>
<p>Looks FreeBSD image is not polished well for cloud using.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="running-arista-veos-in-openstack"><a class="header" href="#running-arista-veos-in-openstack">Running Arista vEOS in OpenStack</a></h1>
<p><code>&lt;2017-12-06 Wed&gt;</code></p>
<p>How to run arista vEOS in OpenStack.</p>
<h2 id="veos-image"><a class="header" href="#veos-image">vEOS Image</a></h2>
<h3 id="download"><a class="header" href="#download">Download</a></h3>
<p>Download below files:</p>
<ol>
<li><code>Aboot-veos-8.0.0.iso</code>,</li>
<li><code>vEOS-lab-4.20.1F.vmdk</code></li>
</ol>
<p>from: [[https://www.arista.com/en/support/software-download]]</p>
<h3 id="upload"><a class="header" href="#upload">Upload</a></h3>
<p>Upload to OpenStack Glance:</p>
<pre><code>openstack image create Aboot-veos-8.0.0.iso \
          --container-format bare \
          --disk-format iso \
          --file Aboot-veos-8.0.0.iso
openstack image create vEOS-lab-4.20.1F.vmdk \
          --container-format bare \
          --disk-format vmdk \
          --file vEOS-lab-4.20.1F.vmdk
</code></pre>
<h3 id="list-images"><a class="header" href="#list-images">List images</a></h3>
<pre><code>openstack image list
#=&gt;
| name                  | id                                   | type       |
|-----------------------|--------------------------------------|------------|
| Aboot-veos-8.0.0.iso  | 43c78dee-e055-4592-9b81-d66f6a33584d | iso image  |
| vEOS-lab-4.20.1F.vmdk | ba02703d-6d2b-40a8-bdb7-bf41163d78f7 | vmdk image |
</code></pre>
<h2 id="boot-veos-vm"><a class="header" href="#boot-veos-vm">Boot vEOS VM</a></h2>
<h3 id="prerequisite"><a class="header" href="#prerequisite">Prerequisite</a></h3>
<p>Before boot VM, make sure:</p>
<ol>
<li>OpenStack volume service - cinder is running,</li>
<li>Disable OpenStack security groups,</li>
<li>Disable ebtables on hypervisor</li>
</ol>
<p>A workaround to disable ebtables:</p>
<pre><code>ansible -m cron -a 'job=&quot;/sbin/ebtables -F&quot; name=&quot;flush ebtables&quot;' all
</code></pre>
<h3 id="boot-vm"><a class="header" href="#boot-vm">Boot VM</a></h3>
<pre><code>nova boot --flavor m1.medium \
    --image Aboot-veos-8.0.0.iso \
    --nic net-id=64304c68-646f-4a2b-8a7a-e8f557c4b94a \
    --nic net-id=15bfca37-119e-475e-ad0e-fc2e377cac32 \
    --nic net-id=7c072643-2170-4a46-9dc2-e04f5f427f72 \
    --block-device \
    id=ba02703d-6d2b-40a8-bdb7-bf41163d78f7,\
	source=image,bus=ide,dest=volume,size=4,shutdown=remove \
    veosvm1
</code></pre>
<h3 id="notices"><a class="header" href="#notices">Notices</a></h3>
<ol>
<li>The first network is for vEOS management port, the left are for
vEOS switch ports,</li>
<li>The id(ba02703d-6d2b-40a8-bdb7-bf41163d78f7) in block device
option is the image id of glance image vEOS-lab-4.20.1F.vmdk,</li>
<li>Make sure bus is set to ide</li>
</ol>
<h2 id="enable-ssh"><a class="header" href="#enable-ssh">Enable SSH</a></h2>
<p>Get vm's novnc console:</p>
<pre><code>nova get-vnc-console veosvm1 novnc
</code></pre>
<p>Go to the novnc console to configure network:</p>
<pre><code>login: admin # default username admin, no password
&gt; enable
# configure terminal
# interface management 1
# ip address 192.168.0.15 255.255.0.0
# ip route 0.0.0.0 0.0.0.0 192.168.0.1
# hostname veosvm1
# username admin secret 0 admin
# end
# copy running-config startup-config
</code></pre>
<p>Now you can use ssh <code>ssh admin@192.168.0.15</code> to login.</p>
<h2 id="netbox-integration"><a class="header" href="#netbox-integration">Netbox Integration</a></h2>
<h3 id="enable-management-api"><a class="header" href="#enable-management-api">Enable Management Api</a></h3>
<pre><code>ssh admin@192.168.0.15 # password admin
&gt; enable
# config terminal
# management api http-commands
# no shutdown
# no protocol http
# protocol https
# end
# show management api http-commands #=&gt;
Enabled:            Yes
HTTPS server:       running, set to use port 443
HTTP server:        shutdown, set to use port 80
Local HTTP server:  shutdown, no authentication, set to use port 8080
Unix Socket server: shutdown, no authentication
VRFs:               default
Hits:               75
Last hit:           36 seconds ago
Bytes in:           11714
Bytes out:          178064
Requests:           60
Commands:           147
Duration:           5.294 seconds
SSL Profile:        none
FIPS Mode:          No
QoS DSCP:           0
Log Level:          none
CSP Frame Ancestor: None
TLS Protocols:      1.0 1.1 1.2
   User        Requests       Bytes in       Bytes out    Last hit
----------- -------------- -------------- --------------- --------------
   admin       60             11714          178064       36 seconds ago

URLs
--------------------------------------
Management1 : https://192.168.0.15:443
# copy running-config startup-config
</code></pre>
<h3 id="napalm"><a class="header" href="#napalm">Napalm</a></h3>
<p>So that netbox can talk to vEOS via napalm:</p>
<pre><code>  +--------------------+             +---------------------+
  |      netbox        |             |   arista veos       |
  +--------+-----------+             +------------+--------+
  |        |           |             |            |        |
  |        |  napalm   |             | management |        |
  |        |   (eos)   +-----=------&gt;|   (https)  |        |
  |        |           |             |            |        |
  +--------+-----------+             +------------+--------+
</code></pre>
<p><img src="2017/napalm.png" alt="" /></p>
<h2 id="a-clasic-configuration"><a class="header" href="#a-clasic-configuration">A Clasic Configuration</a></h2>
<h3 id="topology"><a class="header" href="#topology">Topology</a></h3>
<pre><code>     +-----------------+                  +-----------------+
     |   arista 0  et2 +------vlan30------+ et2 arista 1    |
     +-----------------+ 172.16.30.0/24   +-----------------+
     |                 |                  |                 |
     | 172.16.10.1/24  |                  | 172.16.20.1/24  |
     |      et1        |                  |      et1        |
     +-------+---------+                  +-------+---------+
             |                                    |
             |                                    |
           vlan10                               vlan20
             |                                    |
     +-------+---------+                  +-------+---------+
     |      eth0       |                  |      eth0       |
     | 172.16.10.6/24  |                  |  172.16.20.7/24 |
     |                 |                  |                 |
     +-----------------+                  +-----------------+
     |      vm 0       |                  |      vm 1       |
     +-----------------+                  +-----------------+
</code></pre>
<p><img src="2017/arista.png" alt="" /></p>
<h3 id="create-topology"><a class="header" href="#create-topology">Create Topology</a></h3>
<pre><code class="language-yaml">  ---
  - name: &quot;Create network vlan10, vlan20, vlan30&quot;
    hosts: localhost
    tasks:
      - name: &quot;ensure networks created.&quot;
        os_network:
           name: &quot;{{ item }}&quot;
           state: present
        with_items:
          - vlan10
          - vlan20
          - vlan30
      - name: &quot;ensure vlan subnets created&quot;
        os_subnet:
          name: &quot;vlan{{ item }}-subnet&quot;
          state: &quot;present&quot;
          network_name: &quot;vlan{{ item }}&quot;
          cidr: &quot;172.16.{{ item }}.0/24&quot;
          enable_dhcp: True
        with_items:
          - &quot;10&quot;
          - &quot;20&quot;
          - &quot;30&quot;
  - name: &quot;Create arista vms&quot;
    hosts: localhost
    tasks:
     - name: &quot;ensure arista-0 created&quot;
       shell: |
         nova show arista-0 &amp;&gt; /dev/null &amp;&amp; exit 0
         nova boot --flavor m1.small \
           --image Aboot-veos-8.0.0.iso \
           --nic net-name=netops \
           --nic net-name=vlan10,v4-fixed-ip=172.16.10.1 \
           --nic net-name=vlan30,v4-fixed-ip=172.16.30.3 \
           --block-device \
           id=ba02703d-6d2b-40a8-bdb7-bf41163d78f7,\
		   source=image,bus=ide,dest=volume,size=4,shutdown=remove \
           arista-0
     - name: &quot;ensure arista-1 created&quot;
       shell: |
         nova show arista-1 &amp;&gt; /dev/null &amp;&amp; exit 0
         nova boot --flavor m1.small \
           --image Aboot-veos-8.0.0.iso \
           --nic net-name=netops \
           --nic net-name=vlan20,v4-fixed-ip=172.16.20.1 \
           --nic net-name=vlan30,v4-fixed-ip=172.16.30.4 \
           --block-device \
           id=ba02703d-6d2b-40a8-bdb7-bf41163d78f7,\
		   source=image,bus=ide,dest=volume,size=4,shutdown=remove \
           arista-1
  - name: &quot;Create vm&quot;
    hosts: localhost
    roles:
      - role: vm
        group: vlan10vm
        network: vlan10
  - name: &quot;Create vm&quot;
    hosts: localhost
    roles:
      - role: vm
        group: vlan20vm
        network: vlan20
</code></pre>
<h3 id="configure-arista-0"><a class="header" href="#configure-arista-0">Configure Arista 0</a></h3>
<pre><code>enable
config terminal

interface management 1
ip address 192.168.0.14.16

vlan 10
vlan 30

interface ethernet 1
switchport mode access
switchport access vlan 10
no shutdown

interface ethernet 2
switchport mode trunk
switchport trunk allowed vlan 30
no shutdown

interface vlan10
ip address 172.16.10.1/24

interface vlan30
ip address 172.16.30.3/24

ip routing
router ospf 10
network 172.16.10.0/24 area 0
network 172.16.30.0/24 area 0

end
</code></pre>
<h3 id="configure-arista-1"><a class="header" href="#configure-arista-1">Configure Arista 1</a></h3>
<pre><code class="language-bash">interface management 1
ip address 192.168.0.26/16
no shutdown

vlan 20
vlan 30

interface ethernet 1
switchport mode access
switchport access vlan 20
no shutdown

interface ethernet 2
switchport mode trunk
switchport trunk allowed vlan 30
no shutdown

interface vlan 20
ip address 172.16.20.1/24
no shutdown

interface vlan 30
ip address 172.16.30.4/24
no shutdown

ip routing
router ospf 10
network 172.16.20.0/24 area 0
network 172.16.30.0/24 area 0

end
</code></pre>
<h3 id="test"><a class="header" href="#test">Test</a></h3>
<p>login vm-0 and ping vm-1.</p>
<h2 id="tips-1"><a class="header" href="#tips-1">Tips</a></h2>
<ol>
<li><a href="https://eos.arista.com/forum/qeustions-about-some-features-in-veos-that-may-or-may-not-work/">vEOS does not support NAT</a></li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dummynet-usage-on-mac"><a class="header" href="#dummynet-usage-on-mac">Dummynet Usage on Mac</a></h1>
<p><code>&lt;2017-10-26 Thu&gt;</code></p>
<p>Here some <code>dummynet</code> usages on Mac.</p>
<h2 id="configure-bandwidth"><a class="header" href="#configure-bandwidth">Configure Bandwidth</a></h2>
<ol>
<li>
<p>Create pipe with bandwidth, redirect packets to the pipe</p>
<pre><code>sudo dnctl pipe 1 config bw 1Kbit/s
echo &quot;dummynet out proto tcp from any to wordpress.org pipe 1&quot; |sudo pfctl -f -
</code></pre>
</li>
<li>
<p>Enable if not</p>
<pre><code>sudo pfctl -e
</code></pre>
</li>
<li>
<p>do download and watch the speed</p>
<pre><code>wget -O /dev/null wordpress.org/latest.zip #=&gt;
... 3.02KB/s ...
</code></pre>
</li>
<li>
<p>Adjust the bandwitch on fly and watch the speed</p>
<pre><code>sudo dnctl pipe 1 config bw 10Kbit/s #=&gt;
... 61.0KB/s ...
</code></pre>
</li>
<li>
<p>Reset and disable</p>
<pre><code>sudo pfctl -f /etc/pf.conf
sudo pfctl -d
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="publish-github-pages-via-org-mode"><a class="header" href="#publish-github-pages-via-org-mode">Publish Github Pages via Org Mode</a></h1>
<p><code>&lt;2017-10-24 Fri 12:30&gt;</code></p>
<p>Now switched from <a href="https://jekyllrb.com/">Jekyll</a>, <a href="https://gohugo.io/">Hugo</a> to Emacs Org Publish. How to write
blog using org-publish.</p>
<h2 id="customization"><a class="header" href="#customization">Customization</a></h2>
<p>First we need to customize variable <code>org-publish-project-alist</code>:</p>
<pre><code class="language-lisp">(&quot;blog&quot;
 :base-directory &quot;.&quot;
 :publishing-directory &quot;.&quot;
 :base-extension &quot;org&quot;
 :recursive t
 :publishing-function org-html-publish-to-html
 :headline-levels 4
 :auto-preamble t
 :section-numbers nil
 :makeindex nil
 :html-head-include-scripts nil
 :html-head-include-default-style nil
 :auto-sitemap t
 :sitemap-filename &quot;index.org&quot;
 :sitemap-title &quot;Thatched Cottage&quot;
 :sitemap-sort-files anti-chronologically
 :sitemap-format-entry org-publish-sitemap-time-entry
 :html-postamble nil)
</code></pre>
<p>My <code>sitemap-format-entry</code>, add timestamp before the sitemap entry:</p>
<pre><code>(defun org-publish-sitemap-time-entry (entry style project)
  (format &quot;%s %s&quot;
          (format-time-string
           &quot;[%Y-%m-%d %a %H:%s]&quot;
           (org-publish-find-date entry project))
          (org-publish-sitemap-default-entry entry style project)))
</code></pre>
<p>Set <code>org-html-head</code> to(<code>customize-variable org-html-head</code>) to use my</p>
<p><code>org.css</code>:</p>
<pre><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/org.css&quot; /&gt;
</code></pre>
<h2 id="the-project"><a class="header" href="#the-project">The Project</a></h2>
<pre><code>.
├── .git
├── .nojekyll
├── README.md
├── css
│   ├── DroidSans.ttf
│   ├── DroidSansMono.ttf
│   ├── DroidSerif.ttf
│   ├── fonts.css
│   └── org.css
├── dummynet.html
├── dummynet.org
├── growfs.html
├── growfs.org
├── hdiutil.html
├── hdiutil.org
├── index.html
├── index.org
├── org-publish.html
└── org-publish.org
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="青春"><a class="header" href="#青春">青春</a></h1>
<p><code>Thursday, 21 November 2013</code></p>
<p>高中就遇到她。一直到现在都觉得她最好看。那时她座位在我前面。她数学可以，
我的更好一些。</p>
<p>有次大家一起聊天，说到了什么，她把牙摘下来了，下了我一跳，摩托车撞掉的，
她很平和说，人也不是故意的。</p>
<p>去沙河，对岸有一座斜塔。去时候水浅，趟着过去，回来一半涨水了，衣服湿到
腰。她给我们吃妈妈做的点心。暖和些。那次还有些其他的事。</p>
<p>后来班上来了个帅气的男生，干净，打篮球的特长生。就和她交往了。</p>
<p>我们把男生叫出去，说一定要对她好，不然怎样。他当然说好了。</p>
<p>大学寒假去看她，远，赶了一天，到就很晚了。正洗脚，光脚就出来了。院子里
一层薄雪。</p>
<p>忘记说了啥。那时不爱说话。看得出她不快乐。他们高考后就散了。那是最后一
次见面。</p>
<p>多少年了。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="春游"><a class="header" href="#春游">春游</a></h1>
<blockquote>
<p>我们楼下江老太太八十了，特有文化，很多方面都是我的老师。不过电脑方面，
我懂的比她多一些，就做了她的老师。</p>
<p>现在她会打字，会用QQ和别人聊天，会使用Word简单的一些功能。今天她发了
第一篇博客，这是她学电脑最大成就了，具有里程碑的意义。作为“老师”我也很
高兴，转发一下。</p>
<p>--- Monday, 23 May 2011</p>
</blockquote>
<p>我昨天去植物园踏青，桃花开得真好看。我和朋友照相留念。</p>
<p>我和她六十年的朋友了，可是多年未见。我们开心的一路走一路聊天。蓝天白云
绿草红花。真是心旷神怡。</p>
<p>今天我们去颐和园，和张秀云从东宫门走到石舫，走一段歇一会，闻一会儿花香。
真是妙不可言。玉兰的香诱人，看得我们流连忘返。这种感觉在城市根本享受不
到。</p>
<p>当我们走到石舫时，张回亿说它已经站在这里好几百年，人生一辈子才多少年，
我们一晃就活了八十岁了。老矣！然而它却仍然傲然挺立，记录着人世的沧桑。
它记录了我国多少耻辱和灾难，如今国家兴旺，人民生活安康。咱们要争取多活
几年。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="我爱长发飘飘"><a class="header" href="#我爱长发飘飘">我爱长发飘飘</a></h1>
<p><code>Friday, 13 May 2011</code></p>
<p>我特别喜欢这部电影。喜欢非非（韦玮饰）明亮、清澈的眼睛。北京女孩的性格
让我心醉，那么明朗干净，宛如北京秋天的天空。</p>
<p>如果重拍绝对找不到这么干净的人。谁呢？韦玮现在应该三十出头，事业不事业
无所谓的事，希望她幸福吧。圈里圈外那帮老的小的烂女人烦死人了。</p>
<p>我总觉得片中1726，2081，1377，1999都有特别的意义。片子的拍摄年份是1999，
但1726，2081，1377就不知所以了。不过我们可以大致推算必成婚介的规模，差
不多几百名会员的样子，不到一千。每名四百八也就五十万不到的入账。因此必
成也没赚多少钱。</p>
<p>主角韦玮（非非）、余震（必成）、赵倩（刘燕）、孙岩（宏斌）都演的好。非
非根本就没法演，只是多少年不出的人给碰上了。余震那口儿让人喜欢，还有赵
倩。孙岩比较闷但人物角色就那样了。刘燕这个人物最难演，因为稍微拿捏不好
就会招人厌，喜剧的色彩稍稍重一点就会失去观众的尊重。但赵倩做的很好。刘
燕的真诚体现在脂粉上，口红、眼影呈现一个女人对爱情的认真。</p>
<p>配角的表演烂极了，比如肾虚者、胖姐、孕妇、电梯女工全是败笔，反映了导演、
编剧林黎胜低级趣味的一面，不过无所谓啦，有韦玮在一切都可以原谅。当然
啦，就算这些配角的表演也比刘德华在《天下无贼》里的表演强。林黎胜也是
《天下无贼》的编剧。这些年没看出有啥进步。</p>
<p>情节、细节上处处有对称，但不是完全的对称，而是稍有缺失，因此表现出来就
是一种协调的美感，明暗有致，错落有趣。</p>
<p>我们是外乡人。北京对我是个陌生的城市。但哪里又是熟悉的呢？一如我们都是
第一次来到这个陌生的世界。还好一些有趣的人在，给所有外乡人一个停留。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="my-2010"><a class="header" href="#my-2010">My 2010</a></h1>
<p><code>Saturday, 11 December 2010</code></p>
<h2 id="一"><a class="header" href="#一">一</a></h2>
<p>——听说今年你deliver了一个知识产权完全自有的产品，对你的意义非常重大，
能跟大家说一下吗？</p>
<p>是的，在我老公的帮助下；当然，主要是我的功劳；今年我们的女儿出生了——</p>
<p>——哦？</p>
<p>从设计、孕育、实现、试运行到如今的正式上线，我们付出了很多的汗水，真的
做的很辛苦——不过这一切付出都是值得的。</p>
<p>——祝贺你当了妈妈，要知道一个人，只有有了女儿，将来才可能当姥爷——</p>
<p>哦？</p>
<p>——或者当姥姥。就像有了地才能当地主一样。</p>
<h2 id="二"><a class="header" href="#二">二</a></h2>
<p>——塔拉，前面放的录像里，那玩轮滑的帅小伙有些像你啊</p>
<p>什么叫像，那根本就是我。</p>
<p>——塔拉的女朋友就是在玩轮滑的时候认识的。</p>
<p>——瞧有人爆你料，塔拉，是真的吗？</p>
<p>我其实是先喜欢上了我女朋友，她喜欢轮滑，我就练轮滑把她追到手。</p>
<p>——你这做事的方式，真范儿！我记得2003年，冯小刚导演专门给你拍了一部电影；
那时候你还在上学吧？</p>
<p>03年我刚上大一。但冯小刚那电影不是给我拍的，是给卡拉拍的。</p>
<p>——哦对，卡拉是条狗，不是塔拉，瞧我这记性。那今年他拍的《非诚勿扰2》有关系吗？</p>
<p>也没有</p>
<p>——那你觉得今年对你关系最大的事情是什么？</p>
<p>我觉得是我今年正式加入18M。这对我很重要。</p>
<p>——哦，这是New Blue了，新蓝。那具体重要在什么地方呢？</p>
<p>这让我有了稳定收入，为明年结婚铺平了道路，多年的恋爱终于有了结果。</p>
<p>——真好啊。对了塔拉，我听说一些美国的同事反着念你的名字，你就变成了邋遢，
是吗？</p>
<p>是，我这名字反过来念不太好听</p>
<p>——为此国家拟出台中国人名规范，把姓放在前面，有这件事吧？</p>
<p>人名规范是有，但的确不是为我出的。</p>
<p>——你魔方玩的更酷。你用轮滑追到了女朋友，你想用魔方做什么，有什么打算？</p>
<p>主要是想巩固一下。</p>
<p>——居安思危</p>
<h2 id="三"><a class="header" href="#三">三</a></h2>
<p>——说一件今年对你最有意义的事</p>
<p>我开车终于被人撞了</p>
<p>——哈，那你以前是不是总是撞别人？</p>
<p>那倒不是，我第一次开车撞到了一棵树，在百望山</p>
<p>——对，这我知道，那次我们一起去百望山；你可把那棵树撞惨了</p>
<p>是。后来又撞倒了一个水泥墩子——</p>
<p>——这次换了个硬的</p>
<p>这两次车都有损伤，保险公司就赔了。</p>
<p>——那这次你被人撞，人没事吧？</p>
<p>人没事，车撞惨了。我要先到他保险公司做保险认定</p>
<p>——然后呢？</p>
<p>然后拿着保险认定到我的保险公司</p>
<p>——然后就赔了？</p>
<p>没有呢，只是一个步骤；我修之后还要拿着零件到我的保险公司确认。整个流程
走下来，非常麻烦。</p>
<p>——这件事对你的意义在哪里？</p>
<p>从这件事我认识到我们的确是在一个Growth Market，有很多问题需要我们来解决</p>
<p>——比如？</p>
<p>比如这两个保险公司的理赔流程，就可以整合在一起嘛，不用用户跑来跑去了</p>
<p>——是</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="毛泽东与林彪反革命集团的斗争"><a class="header" href="#毛泽东与林彪反革命集团的斗争">毛泽东与林彪反革命集团的斗争</a></h1>
<p><code>Tuesday, 21 December 2010</code></p>
<p>汪东兴回忆之《毛泽东与林彪反革命集团的斗争》，我认为在文学上简直无与伦
比。有一个莫名其妙的开头，就好像人类的起源，没人知道原因；之后就像开动
火车一样，咣当当，咣当当；不断重复而又不完全相同，就像历史的车轮一样，
充满着史诗感和宿命的味道；最后到达一个电光火石般大爆炸式毁灭的结尾。一
点点前言和后记表达了对真实的推崇以及不可及的无奈感。</p>
<p>这才是真正的文学啊。</p>
<p>文字朴素中透着洗练。不惜笔墨的重复以笨拙感对真实进行膜拜。平凡的坦诚和
伟大的莫测高深相映成趣，好像一叶漂在大海之上。这种沧桑感柔浸在对生命、
对感情的看似木然和无动于衷里，就像热血在半空飘洒，飘飘洋洋散落在干涸的
大地，没有声息但有的人能听到空中弥漫的灵魂的歌唱。</p>
<p>一篇真正的史诗啊！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="勇往直前"><a class="header" href="#勇往直前">勇往直前</a></h1>
<p><code>Wednesday, 24 November 2010</code></p>
<p>1999年，杨虎城之孙杨瀚在夏威夷见到张学良的时候，发现老人没有激动，甚至
有些许冷淡。每个人孤独地穿行在时间的迷雾里。</p>
<p>有人看到了原因，不得不死；有人看到了结局，不得不走。有人眼睛为胸中愤怒
所烧，变的通红，不得不在漫漫岁月中慢慢熄灭，像生命之灯的熄灭一样，一缕
青烟之后归于沉寂。有人在那一刻全看到了；天亮的时候他独自收拾院子，打扫
房间，歇歇脚抽根烟；于是天又黑了。</p>
<p>时间只有一个方向。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="繁简转换"><a class="header" href="#繁简转换">繁简转换</a></h1>
<p><code>Monday, 15 November 2010</code></p>
<p>繁简转换并没有尽善尽美的解决方案，按单字转换有98%的准确率，剩下那2%，
需要分词了。分词本身就没有100%正确的算法了。</p>
<p>基于iconv可以这么做：</p>
<pre><code class="language-bash">iconv -f BIG5 -t GB2312
</code></pre>
<p>注意这是按单字转的。如果要从UTF-8过来，还更麻烦些：</p>
<pre><code class="language-bash">iconv -f UTF-8 -t BIG5 | iconv -f BIG5 -t GB2312 | iconv -f GB2312 -t UTF-8
</code></pre>
<p>这也不支持GBK的。</p>
<p>更好些的是<code>cconv</code>：</p>
<p><code>cconv -f BIG5 -t GBK</code></p>
<p>处理UTF也方便些：</p>
<pre><code>cconv -f UTF8-CN -t UTF8-TW
</code></pre>
<p>支持更大些字符集。</p>
<p>据说也支持分词但我没试出来。还提供php的库支持。那用<code>JNI</code>集成到Java里也
不难，至少在Linux下是这样。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="侧反"><a class="header" href="#侧反">侧反</a></h1>
<p><code>Wednesday, 10 November 2010</code></p>
<p>这里要讲的只是一种可能性，但并非微乎其微。</p>
<p>在还没有变胖，还在系篮球队做替补，跟着帅气十足的篮球队长当跟班的时候，
有一个不算漂亮的女生，在学生会。她高中谈恋爱，追男朋友到大学，入学没几
天就分手了。</p>
<p>这一天那个女生也来到了篮球场，在场边做啦啦队，为本队助威。篮球队长可能
觉得有这么个女生助威，够跌份，就决定羞辱她。刚巧地上有一团脏脏的餐巾纸，
队长就指着这块纸对她说，掉了哈。</p>
<p>我们开始都不明白是啥意思。她倒是羞得满脸通红；还好她也是个外场的女子，
立马高声叫骂队长臭流氓。队长既然开出这么恶心的玩笑，也没打算在她那留好
感，臭流氓也认了。</p>
<p>半个月后他俩恋爱了。</p>
<p>这说明人有很多侧面吧。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="eyed3"><a class="header" href="#eyed3">eyeD3</a></h1>
<p><code>Friday, 5 November 2010</code></p>
<p><code>eyeD3</code>是一个ID3编辑器，基于命令行，修改mp3的tag信息。类似的工具有
<code>mp3info</code>, <code>id3v2</code>等。但这个是我遇到唯一能够工作的。</p>
<p>这里头的原因还是由于<code>ID3 Tag</code>的标准太乱，著名的有1.x和2.x，其中1.x不支
持Unicode，2.x中，2.3不支持UTF-8。这乱局好似泥潭，以至于mp3info的作者
Cedric Tefft说自己太懒，不愿趟这个混水。因此mp3info只是停留在支持1.x的
阶段。但如果你想在Android播放器上正常显示中文，是需要Unicode编码的。</p>
<p><code>id3v2</code>原则上支持，但也卡在编码转换上了。于是<code>eyeD3</code>就是唯一可用的了。
其文档比较详细。看一下就知道如何用了。</p>
<p>eye的发音和I一致，因此<code>eyeD3 ~= ID3</code>， id3已经被别的应用程序占了名字。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="聊斋"><a class="header" href="#聊斋">聊斋</a></h1>
<p><code>Wednesday, 27 October 2010</code></p>
<p>大体可以看懂《聊斋志异》的原文。很喜欢这么洗练的文字，也许是中国人的缘
故吧。</p>
<p>中国的文字，简练而庸俗；就算是哀怨的句子，写的时候也期许在情理中。海子
讲中国就是平常人的故乡，真是透彻的看法。林语堂讲他的文字，是献给具有平
常庸见的人的。平常的庸见，也许就是常识吧，在也当下只有那些毫无话语权的
人才具有。漫天飞的都是些不知所云的非常识的东西，甚至在逻辑上都站不住，
更不用说包含有用的信息了。</p>
<p>蒲松龄老先生，从他的笔触看，有些像当下的记者。那些狐仙鬼魅不像他老人家
想象的东西，因为东一下西一下，个妖鬼的法力不一，没有起码的神怪体系。彼
此遇上，输赢就难料了。</p>
<p>倒是有关阎罗殿的说法，还算一致。也许这是佛法的缘故吧。</p>
<p>神、仙、妖、怪、人、鬼彼此之间还算客气。</p>
<p>神和仙不同，神是佛教编制的神，仙是道教编制的；不过也有脚踏两只船的。妖
和怪就没有编制了。妖也许是动物成精的，而怪是植物成精的。妖怪也算可怜吧，
有的奋斗来奋斗去，也不过想要个人形，不算过分。妖怪要是能被收编，也算神
仙了。鬼不独立，有些像病毒，总要找个宿主。找不到宿主的就在野外飘荡，哭
哭啼啼很可怜的样子，不过也总是这些可怜虫害人。</p>
<p>从程序员的观点看，神仙是全局变量，人是局部变量，鬼是指针，指向一块内存。
迷魂汤有些像内存回收的机制。有的鬼不喝迷魂汤，再托生成人就有了上世的记
忆。</p>
<p>原则上人以及动植物都是参与轮回的。不参与轮回会引起内存泄漏，这是系统所
不允许的。有些生物可以利用系统漏洞规避内存回收。常见的办法是听如来佛诵
经。这样到系统回收内存的时候，还以为这块内存如来要用呢，就不去回收了。
其实如来只是做了个引用，根本也不用；如来也慈悲，睁一只眼闭一只眼，就过
了。随着时间的推移，这生物占的内存越来越多，道行深就成了妖怪了。悟空也
是个妖怪。但他成妖的经历不同。他是自己手工勾掉的，危险而且麻烦，没本事
千万别效仿。</p>
<p>有些妖怪被系统发现吃内存，系统发现如果回收他们的内存，系统本身会变得非
常不稳定甚至崩溃。因为这些妖怪吃的内存，有些已经被别的全局变量用上了，
这些全局变量还是内核级别的！系统没办法就把这些妖怪收编，给个编制，也变
成全局变量。这样妖怪彻底脱了轮回，变神仙了。</p>
<p>作为局部变量的人，甚至很难参透自己所在的这几行到底编写的是啥意思。造物
主这个程序员的代码风格也不怎么样，可读性极差。况且站在一个局部变量的角
度，几个赋值就好几个轮回了，根本搞不明白什么意思。搞明白又怎样？刚明白
一点就刷了。刷来刷去有意义么？于是就有人看破红尘了。</p>
<p>聊斋，写的就是这些作为局部变量的众生，跟自己命运搏斗的故事。这主题搁在
西方，是史诗的题材。</p>
<p>很想整理中国神话体系，但才能不够，就算有一些时间也从指尖漏掉。不过，如
果有一个设计合理，法力均衡的神话体系，那神仙之间就能说上话，依照不同的
法力性情出身背景，就有无穷的故事可以讲。那是一个埋藏已久的旧世界，也是
一个新世界。这样的世界有历史有现在有未来。电视剧《西游记》那么拙劣，孩
子们还那么爱看。这也是神话的魅力吧。</p>
<p>神话激发，也考验个人的想象力，给世界增添颜色；世界需要这别样的颜色，现
在灰的很，间或血的红，只这两种很无趣。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="突然想起"><a class="header" href="#突然想起">突然想起</a></h1>
<p><code>Sunday, 19 September 2010</code></p>
<p>突然，想起一个长得像林致炫的同学。白白净净，尖尖的下巴。</p>
<p>那一年，他从杭州来到京城，同行的还有他的同事，一个漂亮女孩。同学们让他
给介绍介绍，他让我们放正经些。他们是来参加一个中学物理竞赛。后来还得了
一个奖。</p>
<p>下一次再来京城，是离开了杭州学军，跳到这边来工作，他计算机不错。那个女
生也在；他 丢了所有东西，两人坐在公园长凳子上，放在边上的外套也被顺走
了；那也是深秋吧。我说他在恋爱，他死死不认。</p>
<p>他们最终错过了。他在北京飘了几年，漂过三十之后，和一个比自己小很多的结
了婚。后来没几年，为了财产的事，他的小妻子把他的尸体搁了一个来月，不能
火化。同学散在四方，像土里生锈的钉子，偶尔碰面，哗拉哗拉落锈；潜的太久，
猛一下出头，也搞不清发生的事。他父母老得厉害，哥哥忠厚人，还有老奶奶。
现在还在过公堂。</p>
<p>我后来知道，他是爱她的。他离开杭州，跑到京城，也是觉得自己没志气，要做
一番事情才有脸面去见她。可感情的事，并不遵循这么简单的逻辑。他接纳了另
一个女人，很小心地爱她，很卖力地工作养着她。他小妻子讲他在世最后一秒说
不出话，只能流泪。</p>
<p>爱情啊！</p>
<p>洪启讲，爱情是什么，爱情是永恒；永恒是什么，永恒是纯洁；如何才纯洁？勇
敢就纯洁。</p>
<p>他跑到京城来找自信，就不能算勇敢了。那纯洁呢？永恒呢？还有爱情呢？</p>
<p>可又有谁勇敢呢？都只是活着的吧？</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="兰花"><a class="header" href="#兰花">兰花</a></h1>
<p><code>Monday, 6 September 2010</code></p>
<p><img src="2010/my-orchid.jpg" alt="My Orchid" /></p>
<p>还没开</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="洪启九月微薄之盐"><a class="header" href="#洪启九月微薄之盐">洪启九月·微薄之盐</a></h1>
<p><code>Friday, 3 September 2010</code></p>
<p><img src="2010/salt.jpg" alt="Salt" /></p>
<p>我站在你妈妈看不到的地方等着你</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="最中意的雪天"><a class="header" href="#最中意的雪天">最中意的雪天</a></h1>
<p><code>Friday, 27 August 2010</code></p>
<pre><code>听一听窦唯《我最中意的雪天》
那么的干净
能嗅出空气里的炊烟味道
听得到脚下咯吱咯吱
通红的鼻子
白的哈气
像触碰到爱人冰凉的手
禁不住而打的冷颤
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="周末了"><a class="header" href="#周末了">周末了</a></h1>
<p><code>Friday, 27 August 2010</code></p>
<pre><code>周末了
有人无事
有人在病中
有人不说话
有人打长途
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="野夫的文字"><a class="header" href="#野夫的文字">野夫的文字</a></h1>
<p><code>Wednesday, 23 June 2010</code></p>
<p>在看野夫的《父亲的战争》。</p>
<p>野夫好文字，时常让人会意一笑。野夫的好文字不是一般的好，他语言不单运用
的好，他语言里有创造，所谓&quot;平地扣饼，对面拿贼&quot;。他的选词，用字绝不能用
考究来形容，他选词用字里有体验。这种体验甚至是他的发现，而他也有能力用
几个字把他的发现给大家揭示。我说的不好，下面是北京当代汉语研究所的评价：</p>
<blockquote>
<p>野夫的写作还原了语言最内在的秘密。我们要为野夫喝彩，但归根到底是为汉
语喝彩，它在它信得过的操作者那里，令人罕见地走上了自己最正确的道路。</p>
</blockquote>
<p>此言不虚。那语言最内在的秘密是什么呢？存在和表达纠缠以致无穷，很好玩，
但让人抓狂，却也是和谐的：存在的表达，表达的存在，等等等吧。这只是个起
头，后话很长。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="共工"><a class="header" href="#共工">共工</a></h1>
<p><code>Tuesday, 22 June 2010</code></p>
<blockquote>
<p>Try not to become a man of success, but rather a man of value.</p>
<p>--Albert Einstein</p>
</blockquote>
<p>传说，共工怒而触不周之山，天柱折，地维绝。天倾西北，故日月星辰移焉；地
不满东南，故水潦尘埃归焉。天也破了个大洞，女娲炼石补天。女娲炼了三万六
千五百零二块石头，但补天只用了三万六五百块，还有两块没用。那剩下的其中
一块就是没有功名的石头贾宝玉。爱因斯坦在这里所转述的，是贾宝玉的原话。
另一块后来孵化出了齐天大圣孙悟空，悟空说的话，就是爱因斯坦所不知的了。</p>
<p>那段时间，女娲忙着补天，大禹将要忙着治水，诺亚苦苦守望在方舟之上，等待
大水下去；我们的老祖先帝颛顼组织人力物力抓捕共工。颛顼抓住共工后没有赶
尽杀绝，而是宽恕了他。但共工却没因此而罢休。他起身去了西亚之地，碰巧救
了诺亚一家。因此就拣选了他的后人即犹太人做他的子民，创立了犹太教，要实
现他的复仇计划！</p>
<p>作为一个犹太人，爱因斯坦最终发现了质能转换方程式。原子弹造出来后扔到了
日本。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="草在结它的种子"><a class="header" href="#草在结它的种子">草在结它的种子</a></h1>
<p><code>Friday, 11 June 2010</code></p>
<pre><code>Grass is growing its seeds
Wind shaking its leaves
We standing, no speaking
Already very good
</code></pre>
<p>译自顾城的诗（1982）：</p>
<pre><code>草在结它的种子
风在摇它的叶子
我们站着，不说话
就十分美好
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="故人"><a class="header" href="#故人">故人</a></h1>
<p><code>Friday, 11 June 2010</code></p>
<p>今天下楼的时候，遇到一个十年前一个熟识的人。那时候他从联想出来创业。我
们3个在他那里打工。他这个老板待人很宽厚。公司初建，常加班到深夜。他领
着我们吃午饭、吃晚饭。他吃饭比较快，常见他笑咪咪地看着我们吃。年轻人海
吃，不够的时候他就叫服务员加菜加饭。那时他三十几岁，算我们一个大哥吧。</p>
<p>可我忘记了他的名字。想想能询问的人，只剩下一个。另一个已经不在了。打电
话过去，他的记忆也模糊，说是不是叫牟其中。听着好熟。后来想起了名字，就
打电话过去。他还是有些不确定，我也怀疑了。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="鸽子"><a class="header" href="#鸽子">鸽子</a></h1>
<p><code>Saturday, 5 June 2010</code></p>
<p>近些天，后窗台上经常见到几只鸽子。它们咕咕叫，玩一会儿就到别处去，再回
来，在窗台上歇歇脚。</p>
<p>不知它们一直这样，还是之前我把自己搞得很忙，一直没有注意到。我的葡萄在
前阳台长叶子；每天有一公升的淘米水，给它喝。</p>
<p>我在窗台上撒了一小把小米。鸽子吃一些，留一些；也许它想下次吃，或者带朋
友来。它们长的很像，我还分不清谁是谁。</p>
<p>前阳台的麒麟，每年逢雷雨疯长，今年可能睡的太沉，闪电雷声都没有唤醒它。
也许它脚下的土太贫瘠，没有养分；但它脚下的土总是那么贫瘠的。</p>
<p>鸽子每次来都咕咕的叫；我开开窗户它们就闪避开。它也许知道人类对它们喜爱，
根本靠不住；那只是心情的一次变化罢了。我也不指望它能够信任我。</p>
<p>小时候有一只受伤的鸽子飞进窗，我把它养起来。它每天咕咕叫，对我并不信任；
但它受伤了，暂时也飞不大起。它伤好了后，我怕它飞走，就把它翅膀上的长羽
毛溜短了些。它咕咕叫，可以看出并不快乐，很焦躁。后来我发烧，妈妈炖了汤
给我喝，告诉我是鸡汤。我恢复后伤心了几天，就好了。</p>
<p>也许我只是假装伤心，欺骗自己说我还是善良的，让自己的心不那么愧疚罢了。
或者我根本就没有伤心难过，只是在回忆中增加了这个情节，让这个回忆更像一
个故事。或者更卑鄙些，是为了骗取女孩的眼泪，而刻意加的伤心落泪；鸽子死
在妈妈的手里，我只是一个伤寒中的无力者，阻止不了；妈妈的鸽子汤只是为了
病重的儿子；一切都合乎情理，但那只鸽子却死了。</p>
<p>鸽子真的死了的。妈妈也许还记得；但我们之间并没有聊过。</p>
<p>更小的时候，还在上学前，我还养过一只乌鸦，或者灰喜鹊。我那时太小只知道
它是只鸟。它是全黑的，但不食腐肉；也许它食腐肉但我只喂它谷物和小虫。我
记得逮蚂蚱给它吃。它一口吞，然后伸脖子咽下。在我喂了它一只蚂蚁之后，其
他的蚂蚁就老来找它了。它身上爬的都是蚂蚁，还有蚂蚁往它嘴里爬，这让我感
觉很恐怖。</p>
<p>蚂蚁还会复仇！但这明明就是我记忆的指向。家人都记得这只乌鸦，是邻家的叔
叔先在家新院后面的草窝里发现，告诉我，我才去捉住的。它一定受了伤，要不
然我那么小，一定捉不住它。那时候邻家的叔叔刚结婚，婶子很漂亮，是小学的
教师。晚上到我家串门，我跟她讲小三砍柴的故事，她夸我讲得好，那么长都记
得完备，就送我一本厚厚的田字格本子。那时候她还没有生小弟弟。她很漂亮，
叔叔也长得帅。</p>
<p>我让乌鸦招惹了蚂蚁后，蚂蚁就老跟着它。它也许被蚁王诅咒了。它傻傻站着不
知所措，就像现在高大肥胖的女人穿了高跟鞋站在舞台上，翅膀都不知放哪里。
它应该有能力把源源不断的蚂蚁一个个吃掉，但不知为什么它并没有这么做。我
爬上树，把它放到树枝上。那是棵池塘边的柳树，斜探到水上面。</p>
<p>我说，看蚂蚁还找得到它！</p>
<p>我明知蚂蚁是会爬树的。其实柳树上蚂蚁更多，它们每天都去搬蚜虫的蜜。我这
么做，只是怕自己也招致蚂蚁的诅咒，引蚁上身，而义正严词地找的一个借口。
小孩子的心思，自私而加以掩饰，就很邪恶了。它在枝头仍然不知所措，摆摆翅
膀要飞，有些生疏了。但它最后还是飞下去了。</p>
<p>只见它掠过水面，惊起下面团飞的懵懵虫；它打起精神，拍打翅膀，拖着一根线，
向大菜园方向艰难飞行。它本来就不是小似麻雀的鸟，只是近来太相信人，而且
蚂蚁缠身，病的不轻。</p>
<p>后来它被另一个人捉住。我跟那人要，说是我的鸟，他只还给我那根线；再之后
乌鸦的死活，就不知道了。</p>
<p>人，最自私的动物；只是内心够复杂，表情太丰富。</p>
<p>小时候家里有一只老黄狗。我记不清它和我之间的故事了。它比我岁数大，我是
它看着长大的。我是大水送来的人，这狗在那场大水里游过。闹狂犬的时候组织
上号召打狗，爸爸就要杀它。它中了爸爸一抓钩，跑了很远才被乱棒打死。它惨
烈的死我并没有亲见。它的肉我却是吃了；吃肉的时候没觉得异样。它的皮绷紧
了晒在太阳下，一个大字。爷爷有一件黄狗皮领的大衣，也许就是它的皮。狗死
后我发现别人家的狗有的还在，就埋怨爸爸。也许只是在心里埋怨。爸爸说只是
条狗嘛。也许这话不是他说，我只是从他的眼睛里读到。也许我没从他眼中读到，
只是我想了下他的眼睛。</p>
<p>据妈妈讲，我还有个弟弟；只是后来组织上倡导计划生育，爸爸太积极，就做掉
了。我要是弟弟，就不会老和邻家弟弟玩，邻家弟弟也不会是我的跟屁虫。他妈
妈很漂亮，爸爸长的帅。但他爸爸脾气不好，喝酒说胡话打老婆。邻家婶子就回
娘家，住着不回来。婆媳关系也不大好，时常拌嘴；但没有打过。我模糊记得邻
家奶奶的样子，但每每试图弄清的时候，就滑到我奶奶的样子上了；模糊着反倒
有区分。邻家婶子去世的时候我上大学或高中。记忆真不可靠；回忆只是在挣扎
中辨认所谓的真实。</p>
<p>妈妈说起这个没来到世上的弟弟，是不待见我这个来到世上的妹妹。我很小就知
道装懂事，不给大人添麻烦，还帮忙，妹妹就显得不懂事了。妹妹脾气倔强，能
把大人气疯。时间久了，也记不得她气人的原因。有一次她一直哭不认错，妈妈
抱着她走进池塘，一直到水淹着小腿她才认错；回到岸上又翻脸不认。有一阵全
家都认为她被邪魔上了身，要找巫婆帮她赶一赶。爸妈那时还是年轻的父母，实
在不应该这么样子对小孩子；我也不是很好的哥哥，不明白她是我血肉相连的手
足；装懂事得到了父母师长的夸赞，内心的愧疚却是瞒不过的。妹妹拒绝上学那
年妈妈气的说胡话，很恐怖；爸爸用力掐人中才过来。</p>
<p>我把妹妹带到了这个城市却没有安排好她的生活。这个城市磨练了她，让她有足
够的能力生存下去，却没有给她幸福。这个城市只有她的工作没有她的生活。我
没有照顾好她，却推说自己能力不够做不到。我的确有能力不够的一面，但我放
她身上的心也太少了。</p>
<p>乌鸦，或者灰喜鹊，划过水面飞向菜园的方向。它是否回头看那我一眼？这么小
的一个孩子，就懂得了怎样遗弃。风，呼啸而过蚂蚁的耳朵；蚂蚁紧附在乌鸦身
上放声歌唱，歌唱无畏歌唱胜利。它们无尽的诅咒它们坚强的恨吓倒了我这个冒
充大人的小人。我瑟瑟发抖；悲凉的秋风里没有了我的鸟。</p>
<p>鸽子咕咕来到后窗，这高贵而优雅的鸟，在窗台上踱步，歪着头对着小米，静静
在风中思考了片刻，风也吹乱了它头顶几丝羽毛。高中时前座有一个漂亮女生，
一天中午，她转过身来，歪着头安静地对着我笑；静了片刻，她摘下她的两颗牙，
放在课桌上。想不到吧？她很高兴地讲出她的秘密。她被一个骑摩托车的人撞过，
换了两颗假牙。她说骑摩托车的不是故意的。院子里法国梧桐毛毛飞过来粘在假
牙上，她抖了抖，然后装上了；那么从容，像一只深色的鸽子，一下一下啄食小
米一样。她的宽恕，还有闪烁在眼睛中对万物的爱，都让我忍不住想哭。她不知
她面对的是一个异教徒吗？这个异教徒外表庄严内心虚弱，不信一切不堪一击；
嘲笑众生也嘲笑自己；而且也并不懂得什么是爱。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="民不聊生"><a class="header" href="#民不聊生">民不聊生</a></h1>
<p><code>Sunday, 30 May 2010</code></p>
<p>今天明白了民不聊生，真直白；但让人不寒而栗。</p>
<p>当老百姓不聊生计的时候，他们就聊死计；如今富士康的连跳，就是一条死计。</p>
<p>草民不再讨论如何好好地活下去，失去了活下去的希望。</p>
<p>真恐怖，转眼就到了这个境地；也是刚知道，这就是民不聊生啊。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="系统程序员成长计划"><a class="header" href="#系统程序员成长计划">系统程序员成长计划</a></h1>
<p><code>Thursday, 13 May 2010</code></p>
<p>购入《系统程序员成长计划》。</p>
<p>昨天晚上看了第0章和第1章，打算停下来把里面布置的题做做再往下看。如小李
大王（弯曲评论陈怀临给作者李先静的别称）所言，多写多练，不要偷懒：）</p>
<p>毫无疑问这是一本很好的书。别开生面，更实际，也更本质；是真正程序员写的
书。就难度而言，不大；老老实实做练习的话，即便是文科大学生也应该能跟得
上。就深度而言，确实是很深的。不能当一本简单的技术书来看，可以称得上是
技术方面的策略书（如其题目所言）。</p>
<p>书名里的系统程序员有点吓人。系统程序员这个词这些年被Linus这帮人弄得跟
大神似的。但就其本意而言，题目也是贴切的。这本书起点很低很低，肯定能看
懂。而且好像不是太&quot;聪明&quot;的人读起来效果更要好些。建议被书名吓着的同学不
要怕，赶紧购入：）</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="演讲稿"><a class="header" href="#演讲稿">演讲稿</a></h1>
<p><code>Wednesday, 12 May 2010</code></p>
<p>他们去开的是什么会？</p>
<p>有一个金发女郎去纽约的笑话不知你们听过没有。说，金发女郎去纽约，买的经
济舱的票，她却非要坐在头等舱。机组人员怎么劝，她都不听。后来机长来了，
跟她讲了一句话，她就乖乖回经济舱了。你们猜机长说了句什么？</p>
<p>机长说，头等舱不去纽约！</p>
<p>这个笑话很久以前就听过，最近才觉得，机长说的也许有些道理，金发女郎做的
也许也有些道理。</p>
<p>4月20号，我的一个Mentee来找我谈有关他升迁的事情。我其时有另一件很沉重
的事情在处理，没有太多心思听他讲他如何填表格的琐事。但我注意到，他的气
色不太好，嘴唇很干有水泡。我提醒他多多注意一下自己的生活。但他的心思完
全在他的升迁问题上，一再问我如何添表格才会更好。我说，你还是去照照镜子
吧，看看你的气色为什么这么差，你的嘴唇上为什么起了泡。他一下惊醒了。他
想到了他的妻子，还有他的女儿。他也知道他的心思在工作上太多，分给家庭的
太少，至于给自己的，就更少了。之后我们还谈了如何做更有意义的事，如何少
花时间在无意义的事情上，等。</p>
<p>我发现我们很累，很疲惫，并不见得我们就做了很多事。我们的脑力劳动强度肯
定不如爱因斯坦大，但爱因斯坦去世也是在头发花白之后，在中国也算是喜丧了。
前些日子打车去同学家，和司机聊起了这个话题。司机说过劳死最多的是在出租
车司机这，只是出租车司机少人关注，媒体也不怎么报。他认识的一些人，就是
死在车里了。其中有一个，还是他亲手送走的。当时他们开到309医院附近，他
朋友说累了，他说，那就歇歇吧。开到树下乘凉。忽然看到他朋友头向后一仰，
脑顶冒起一股白烟（我估计是因出汗引起的水蒸气），就过去了。5分钟不到送
到309急救室，缓了一两个小时，等家属过来，最终也没有救过来。这个司机吸
取了教训，现在每天早上8：30出门，6点来钟就往家赶，再不敢多拉。当然钱少
了些。</p>
<p>林忆莲在4月17日在北京有一个演唱会。我在头天晚上定了两张580的票（打折
800），打算第二天去看。4月17号上午等送票。快中午的时候票送来了。这时候
我接到同学爱人的电话，说我同学不幸去世，猝死在家中。我一下子就懵了。</p>
<p>赶到昌平中医院，工作人员把太平间里的一个铁抽屉拉出来，我同学躺在里面，
好像睡着了。出来一抬头，见仓皇的天空下，弥漫着尘土的风，卷着白色的塑料
袋飞扬，每个人说着相关或不相关的话，彼此按时钟的节奏嗒嗒的走。到晚上8：
30的时候，我竟然出现在林忆莲演唱会。演唱会已经开始了一个小时，林忆莲说
我爱你们所有在场的人。我像在梦里一样想，我的同学已经不在人世，更加不在
场，因此林忆莲对大家的爱是分不到他那里去的。</p>
<p>都过去了。</p>
<p>头等舱不一定去纽约，经济舱也不一定去，即便坐在身边的人，也不一定能到同
一个地方。另一个事是我们去什么地方。最近我发现我手头有好几件并没有什么
意义的事。也许你们正在做的事都有意义。没意义的事情做到60分就可以，没必
要做到100分。把精力多花在更有意义的事情上，也可以使自己更心情愉快。</p>
<p>就这些吧，谢谢大家！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="胡适三句话"><a class="header" href="#胡适三句话">胡适三句话</a></h1>
<p><code>Thursday, 6 May 2010</code></p>
<p>胡适说的三句话:</p>
<blockquote>
<p>宁鸣而死，不默而生。</p>
</blockquote>
<blockquote>
<p>有几分证据，说几分话；有七分证据，不说八分话。</p>
</blockquote>
<blockquote>
<p>大胆假设，小心求证。</p>
</blockquote>
<p>环环相扣，弥漫着道德和智慧不分彼此的美感，印证了苏格拉底关于<code>美德既知 识</code>的伟大论断。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="水仙"><a class="header" href="#水仙">水仙</a></h1>
<p><code>Tuesday, 20 April 2010</code></p>
<p><img src="2010/my-narcissus.jpg" alt="My Narcissus" /></p>
<p>我的水仙终于开了，在这个永难忘记的春天。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="表哥"><a class="header" href="#表哥">表哥</a></h1>
<p><code>Thursday, 4 March 2010</code>
&gt;</p>
<blockquote>
<p>父亲所写，我的表叔</p>
</blockquote>
<p>初春的正月初六，我伙同我的堂兄弟们一同去了我姑家见到了我的表哥。表哥上
身穿了一件不太合身的不褐不蓝沾满污垢的棉衣，下穿一条胖大的黑色裤子，头
戴一顶气死风帽子，脚穿一双烂帮棉靴。他正和与他穿着不差上下、年龄相近的
老人打牌。我近前叫了一声：“哥”，他抬头看了我一眼，放下手中的牌说：“走，
回家”。我和他一起到了他的家。表哥的家座北朝南三间瓦房，一间没有门的东
屋，没有围墙更没有大门。东间放一张床躺着有病的表嫂盖一条打有补丁的被子，
房中间放一张竹床，我就势坐在竹床上，表哥坐在一个三条腿的凳子上。西间靠
后羊圈；靠前是表哥做饭的地方，屋内羊粪尿的味很浓。表哥家的电器就是一个
15瓦的电灯泡。表哥有一个女儿已嫁到外村，表哥今年69岁靠种3亩责任田和国
家发给他的600元独生女奖金过日子。我和表哥告别时他的牌友又来到他的家，
一个破纸箱当牌桌，每人找了一块砖坐下，就这样他们嘻嘻哈哈开始了打牌，打
牌使他们消除了寂寞，带来了快乐，送走了寒冷，迎来了初春。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="关于梦回宋朝"><a class="header" href="#关于梦回宋朝">关于梦回宋朝</a></h1>
<p><code>Saturday, 23 January 2010</code></p>
<p>《梦回宋朝》出来了，很开心。
当当：<a href="http://product.dangdang.com/product.aspx?product_id=20767694">http://product.dangdang.com/product.aspx?product_id=20767694</a>
卓越：<a href="http://www.amazon.cn/mn/detailApp?asin=B0034KYX0Q">http://www.amazon.cn/mn/detailApp?asin=B0034KYX0Q</a></p>
<p>当当要便宜些。《梦回宋朝》不是我写的一本书，但是我&quot;策划&quot;的一本书。因此
看到纸质书，虽然我可以得到赠书，但我还是花钱买了一本。</p>
<p>在这里感谢一下作者。感谢他蘸满温情的文字；在这个人心浮躁物欲横流的时代，
《梦回宋朝》里的温情还是充溢了大半部书之多。相比较市面上其他的书，已经
很难得很难得了。我第一次看到这些文字，是在作者的博客。今天拿起纸质的书
阅读的感觉，还是那么的好。</p>
<p>我们的祖先，曾经那么的有趣。他们说真话，办实事，眼睛清澈的像上学前的小
孩。他们一起做游戏，玩玩具；他们简单质朴，透过一千年的时间传过来的笑声
或啼哭，那么的清澈，清澈地让我后悔自己晚生了一千年。</p>
<p>而今的人呢？他们说着类似打嗝的话，离他们稍微近点就恶心的想吐；他们一本
正经的说瞎话，了无生趣地在这个世界上晃荡。他们的头脑里都是血的颜色，不
停地绞杀其他的想法；而且也不允许别人说和他们不一样的想法。他们很多把无
耻当正常了，他们体味不了的快乐，他们也不许别人体味，他们霸占所有的东西，
同时限制别人去获得，他们宁肯毁掉也不跟其他人分享。他们把残酷当果断，把
野蛮当力量，把固执当坚强，把不要脸当聪明的一种。他们把美和丑颠倒过来了。
不幸的是他们这些人还把持着我们的社会，我们不想接受他们的观点，他们会每
天通过报纸、广播、电视、网络灌输给我们。这还不是最不幸的。最不幸的是我
还发现自己的有些想法已经被他们侵染，我也开始厌恶我自己，当我对自己都绝
望的时候，我也就和他们一样了。</p>
<p>因此这里再次感谢《梦回宋朝》，总算有些新鲜的空气进来，给为污浊空气包围
的我们透透气。太闷了！</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="苏童河岸"><a class="header" href="#苏童河岸">苏童河岸</a></h1>
<p><code>Friday, 1 January 2010</code></p>
<p>苏童《河岸》这本书很差劲。底封王干讲这本超越了苏童之前的几部著作；我很
怀疑王干的文学鉴赏力，当然也可能王干太忙没认真读过苏童的东西。</p>
<p>《河岸》没有任何超越，某种程度上彰显了苏童才力在走下坡路；我相信在创作
方面，苏童比王朔更迷茫。当然啦，当代作家没有不迷茫的，比如余华。《河岸》
里有余华《兄弟》里的臭河沟子味儿，一样的没劲不成器。</p>
<p>二十万字的《河岸》里流淌的东西，你要叫它血液也太稀薄了。统共也没有一滴
血，稀释了那么一大片。我读到前50页就读不下去了，但我硬着头皮将它读完。
别讲思想了，作品里根本没有，单就叙事而言，苏童也没有任何的进步，单调乏
味拖沓。讲什么呢？用王小波的话讲，你知道别人不知道的事？或者你想明白了
别人想不明白的道理？都没有。那就是无病呻吟了。</p>
<p>他们怎么就不能加把劲呢？也写出点像样的东西来呢？他们在想什么？他们想了
吗？</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="单翅鸟"><a class="header" href="#单翅鸟">单翅鸟</a></h1>
<p><code>Friday, 4 December 2009</code></p>
<p>单翅鸟为什么还飞呢？</p>
<p>非常喜欢海子的这首诗，也时常以同样的问题问自己。</p>
<pre><code>单翅鸟为什么要飞呢
我为什么
喝下自己的影子
揪着头发作为翅膀
离开
</code></pre>
<p>为什么要飞呢？我想这是生命最有趣的地方。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="所谓蝉"><a class="header" href="#所谓蝉">所谓蝉</a></h1>
<p><code>Sunday, 22 November 2009</code></p>
<p>存在，有吗？还只是空？</p>
<p>如果存在没有，那我们就应该感觉不到，而我们感觉到了，因此存在有，或者说
非空。小乘。</p>
<p>我们只能感觉到非空吗？那如何解释梦境？因此存在也可能为空。大乘之始。</p>
<p>有一定是非空吗？有没有非空非有的可能呢？大乘之终。</p>
<p>空一定不是有吗？有没有即空即有的可能呢？大乘之顿。</p>
<p>空和有是恒常吗？有没有可能有之后空，空之后有？大乘之圆。</p>
<p>我存在吗？一百年前我并不存在，一百年之后我也不存在。那我现在存在吗？</p>
<p>什么是现在？刚刚的现在已经过去，刚刚的将来已成现在，过去的永远过去了。</p>
<p>你存在吗？你说呢？你存在于永不停留的现在吗？</p>
<p>我们都站在时间的箭尖之上，将过去甩在脑后，呼啸着奔向将来。</p>
<p>我们的感觉只是表象——相，我们脑子里有的只是概念——名。</p>
<p>我们不知道，或者不在乎所谓的真相——实。</p>
<p>我喜欢这种生猛的感觉。</p>
<p>佛陀、龙树你们在念什么呢？</p>
<p>你们找到了绝妙的办法，对一切说不，包括你们自己、你们所说的和所指代的一
切。</p>
<p>怜悯、慈悲都不要。世界需要的是爱。</p>
<p>这也是我在那个把否定玩到登峰造极的哲学里所没有看到的。</p>
<p>我一下子明白我为什么不喜欢这个东西了。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="我们的祖先"><a class="header" href="#我们的祖先">我们的祖先</a></h1>
<p><code>Sunday, 1 November 2009</code></p>
<p>刚读过卡尔维诺的《我们的祖先》。卡尔维诺他们的祖先有三个：</p>
<ol>
<li>分成两半的子爵，</li>
<li>树上的男爵，</li>
<li>不存在的骑士。</li>
</ol>
<p>我比较喜欢分成两半的子爵和不存在的骑士。卡尔维诺的语言是摄魂虏魄的：</p>
<p>大群大群的白鹳在混沌沉滞的空气中低低地飞行。</p>
<p>阮一峰收集的一些电子版： <a href="http://www.ruanyifeng.com/calvino">http://www.ruanyifeng.com/calvino</a>。舍不得花
钱买书的同学可以看一眼。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="陀思妥耶夫斯基"><a class="header" href="#陀思妥耶夫斯基">陀思妥耶夫斯基</a></h1>
<p><code>Thursday, 1 October 2009</code></p>
<p>刚看了他的《卡拉马佐夫兄弟》。</p>
<p>读这两本书之前，觉得列夫·托尔斯泰最了不起。读之后这个想法改变了。</p>
<p>列夫·托尔斯泰，堪称人类的良心；但人类的良心只是陀思妥耶夫斯基关心的一
部分，他还研究人类的灵魂和血肉。</p>
<p>没有其他的人像俄罗斯人的灵魂（如果他们有的话）更赤裸裸，血肉那么野蛮热
烈。也感谢上帝把陀思妥耶夫斯基注定为俄罗斯人。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="故事汇"><a class="header" href="#故事汇">故事汇</a></h1>
<blockquote>
<p>按：这是一次卡耐基培训，同学们以第一人称叙述的故事，我以书记的身份，
将之记录下来。</p>
</blockquote>
<h2 id="天空"><a class="header" href="#天空">天空</a></h2>
<p><code>Tuesday, 1 September 2009</code></p>
<p>我从小在北京，父母却在青海，很少见到他们。在我七岁的时候，父母怕我跟他
们不亲，就把我带在身边了。我们住在一个很大的厂子里，几乎除了火葬场，什
么都有。我也在厂办学校上学。高考那一年，我考了全省第十，这意味着我可以
报考诸如清华这样理想的学校了。</p>
<p>我们那天早十点出发，到招生办等清华的招生老师，一直等到晚上八点。还好运
气不错，碰到了那个老师。他和我们聊了聊，了解了我的成绩情况。我想学计算
机，但只有一个化学的名额了。但也不错，应下来了。这件事就这么成了。</p>
<p>那天晚上我们一家走在星光下，遥远的路程上只有我们孤独的三个人。但我们并
不觉得孤独。天空只有星星。星光下我们觉到了希望，终于可以籍着我的考学，
来离开这个地方了。我也是第一次感觉到了全家为一件事奋斗而成功的快乐。</p>
<p>结果还不错。那年有一个全省第二放弃了清华计算机的指标，我就顶上去了。我
进入了我理想的学校、理想的专业。我永远也忘不了那天星星的夜晚，一家人走
在无人的路上，如此地欢欣。</p>
<h2 id="孩子"><a class="header" href="#孩子">孩子</a></h2>
<p><code>Tuesday, 1 September 2009</code></p>
<p>有一次，我女儿病了。烧得很厉害，我领她到医院打了针。我给她买了一个她想
要很久的玩具。她说爸爸，是不是我表现的很坚强，你才给我买的？我的眼泪一
下子就下来了。</p>
<p>她那么小，孤零零一个人来做我的女儿。而我还以为自己为了她好，总是指正她
这个不对，那个不好，时刻提醒自己不能惯着她，而不是给她鼓励和支持，帮助
她。在这个世界上，我们做父母的，不鼓励孩子，支持孩子，帮助孩子，还会有
谁鼓励、支持、帮助他们呢？</p>
<h2 id="弟弟"><a class="header" href="#弟弟">弟弟</a></h2>
<p><code>Sunday, 30 August 2009</code></p>
<p>上高中的时候，学校伙食不好，稀汤寡水的，没什么油水。有一天我弟弟来看我，
带了酱牛肉，还有几样其他平常不吃的菜。我在食堂打了两碗米饭，一碗推给弟
弟，一碗自己吃。真香啊。这时候发现弟弟根本没有吃菜。“怎么不吃呢？” “你
吃罢。” “你怎么不吃？” “我不用考大学的，你需要，多补补脑子。”</p>
<p>我在弟弟很大才意识到我有个弟弟。他像个透明的影子在我左右，我视他为无物，
他却深爱着我这个所谓的哥哥。我一阵哽噎，什么饭菜也咽不下。</p>
<h2 id="哥哥"><a class="header" href="#哥哥">哥哥</a></h2>
<p><code>Sunday, 30 August 2009</code></p>
<p>我父亲教育孩子的方法比较粗暴。基本上操起什么棍子腰带就打。大哥和我都挨
了不少打。我性格还温和些，大哥脾气比较硬，自小打多狠都不叫，也�泪。他
们俩平时基本上没话，仇人似的。</p>
<p>父亲过世的时候我不在。到家父亲已经入土了。我们跪在父亲坟前烧纸，大哥泪
流不止。从没见他那么流泪。大哥说父亲临去的时候说最后悔的是对孩子太严厉；
去了，心里空落落的。</p>
<h2 id="爱人"><a class="header" href="#爱人">爱人</a></h2>
<p><code>Sunday, 30 August 2009</code></p>
<p>那是前年吧。在经历了将近七年的爱情长跑后，我决定与男朋友分手。头天晚上
打了分手的电话，第二天我去上班。他打了我好几次电话，但我不接。中午他发
短信说他已经从上海赶过来了，现在楼下。我忙到八九点，从后门溜回家，为了
躲他。</p>
<p>妈妈打电话说你们在一起那么多年，他有一些问题，但对你绝对是真心的。我一
下就哭了。</p>
<p>是啊，七年，生命才有多长呢？</p>
<p>我们最终走到了一起。我们没有完全属于自己的房子，没有车；但我们一样很幸
福。我们知道彼此珍惜。爱情是直鱼钩上挂的鱼饵。希望多一些，也可以多一些。</p>
<h2 id="父亲"><a class="header" href="#父亲">父亲</a></h2>
<p><code>Sunday, 30 August 2009</code></p>
<p>父亲是位军人，母亲是随军的教师。他们常年漂泊在外，很少照顾我。我小时候
因此也和他们不亲。他们注意到这一点，就把我带着一起漂泊；频繁转学。</p>
<p>中学冬天有段时间在哈尔滨。一次推窗户，玻璃碎了，砍下来把手割断了。还好
父亲在身边。他很镇定地替我包扎。在去医院的路上，又一次次不顾大量出血，
解开包扎活血。到医院医生问要不要输血，父亲说不用，不干净。后来手保住了。
留了道很恐怖的疤。这是我戴手表的一个原因。后来听开车的警卫员说，那是他
见到首长最惊慌，最手足无措的一次。</p>
<p>后来我跟爱人约定，无论爸说什么，做什么，都是对的。不要争辩。</p>
<h2 id="母亲"><a class="header" href="#母亲">母亲</a></h2>
<p><code>Sunday, 30 August 2009</code></p>
<p>我父亲去的早。母亲和我相依为命。我在外面上学，每半年才能回去一次。在一
起的时候，母亲一边忙着自己手头的活，一边有一搭没一搭聊着身边的事。我们
表面都很平静。我的内心却深受打动。</p>
<p>父亲去的时候母亲还年轻，本可以有自己新的生活。但她怕别人待我不好，就没
有了自己的打算。</p>
<p>在涉及到家庭、亲情、爱情的事上，如何投入都不为过。</p>
<h2 id="婆婆"><a class="header" href="#婆婆">婆婆</a></h2>
<p><code>Sunday, 30 August 2009</code></p>
<p>一下生了两个孩子，一家人都很高兴，婆婆也来照顾我们。一天，接到电话讲在
老家的公公病的很重，婆婆说我先回去几天，孩子你们先看着。</p>
<p>婆婆走了我们才知道自己并不会照顾孩子。才一天，就有一个病了。我作为一个
母亲，太心疼孩子了，就打电话给了婆婆。婆婆放下电话就赶火车过来了。老公
劝妈妈别跟着去医院，刚下火车，太累。我怕到医院自己忙不过来，就没有吱声。
婆婆到医院就忙东忙西，孩子打完针她就晕倒了。我的眼泪唰的就下来了。虽然
我是个母亲，我的眼中也不应该只有孩子。老公在边上不停地埋怨我，我也很内
疚。眼泪哗哗地流。虽然第一次做母亲，眼中也不应该只有孩子。</p>
<h2 id="表舅"><a class="header" href="#表舅">表舅</a></h2>
<p><code>Sunday, 30 August 2009</code></p>
<p>我已经3年没有去看过表舅。他住在养老院里。我刚一进门他就认出了我。牵着
我的手他说，兰兰你来啦？我鼻子酸的厉害。小时候表舅是我的玩伴，有好吃的
都留着给我。我长大了但表舅一直没有。表舅是有智力障碍的人。</p>
<p>我一直以为他理解不了那么多。现在看来我错了。至少他知道什么是爱，而我并
不清楚。</p>
<h2 id="爷爷"><a class="header" href="#爷爷">爷爷</a></h2>
<p><code>Monday, 24 August 2009</code>
&gt;</p>
<blockquote>
<p>按：爷爷已于2020年3月去世，疫情原因，我不在身边。</p>
</blockquote>
<p>你小时候挨过打吗？如果你有孩子，你会打孩子吗？</p>
<p>我的曾祖父赶在解放之前将家业挥霍一空。嗜赌。输掉了家里上千倾的地，好几
年的粮食收成，甚至自己的女儿――我的二姑奶。他还打自己的孩子――我的爷爷姑
奶奶们，和我的曾祖奶奶。他在监狱里的时候，坏脾气最终送了他的命。他的骨
植埋在异乡。我爷爷不想家里有孤魂在外边飘荡，找了几次，但最终没有找到确
切的地方。</p>
<p>我爷爷从不打自己的孩子。</p>
<p>心理学家说，面对一个暴虐的父亲，孩子通常的反应有两个，一是反抗，一是顺
从。但似乎我爷爷走的是另一条路。他并没有反抗，以暴易暴。他也没有顺从，
俯首帖耳。他主动承担一些弟妹的过错，招来曾祖父更多的暴打。他也一直很温
和地对待这个世界，并不抱怨和怀恨。</p>
<p>我爸爸也不打孩子。因此同处贫穷中，我过得也比其他孩子幸福些。</p>
<p>如果我有孩子，我会打吗？</p>
<h2 id="不吝赞扬"><a class="header" href="#不吝赞扬">不吝赞扬</a></h2>
<p><code>Thursday, 2 July 2009</code></p>
<blockquote>
<p>Dont Delay Your Praise</p>
</blockquote>
<p>几年前，我在一个很Nice的小组长手下工作。任谁提的任务，小组长都接受；组
员忙的四脚朝天。和我一起忙碌的，还有另一个新招的Vendor。他技术很不错，
分析复杂问题的能力也很强；胖子总给人愉快的感觉；我也很喜欢和他聊天。但
作为一个愚蠢的中国人，我很少表露我对他的欣赏，我既没有赞扬他，也没有批
评。我们小组长很Nice，但对组员而言，也是一个含蓄的中国人。忽然有一天，
这个Vendor决定离开了。他工作的最后一天还在加班；最后分别的时候他问我，
他是不是表现得很差；我说你挺强的。但赞美的时机已经过去，他以为只是临别
的客套；而且离职这种决定，也不是随便能改变的。</p>
<p>他离开后小组长依旧很Nice；我陷入好几个月的漫漫长夜，忙飞了；直到非典到
来才有所缓解。其间有几封表扬信过来，但人已经不在这里了。</p>
<p>一些即使能给别人带来快乐的人，内心也很脆弱，即使做的很好，也需要别人的
鼓励，才能继续下去。因此当你觉得谁不错，就立马停下手头的工作，真诚的赞
美他。这是上帝分配给我们的一个任务，优先级应该是最高。不完成这个任务或
做的不好，虽然天也并不会塌下，但是身边的人会越来越少，直到孤独一身，连
自己都对自己厌弃。</p>
<p>及时而真诚地赞美他人吧！驱走人心头的阴霾，换来光明一片!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="那一年"><a class="header" href="#那一年">那一年</a></h1>
<p><code>Wednesday, 12 August 2009</code></p>
<p>那一年，老大领着我们在荒野里闲逛。不晓得吃什么，喝什么，只记得脚踩在野
雪上，咯吱咯吱的声音；还有冷风的吟唱，热风哄、哄的哼；我们走的没有方向，
基本上就是跟着老大走，老大也是随便走的。时间太久远，根本不像这个世纪或
上个世纪发生的事情；也不像清朝的事，因为不记得梳的有辫子，好像是蓬着头，
破衣烂衫的，趴地上跟堆烂草似的。那年月跟堆烂草似的也金贵。老大领着我们
边走边谈，有时候路过一条小河就趟过去，趟不过去就顺着河或逆着河走。谈的
大多是自己的感觉，谁也说不清楚，但大家都拼命点头说明白，而且也没有不懂
装懂的。我们周围弥漫的空气，是一个叫红的女孩。她是我们的空气，没有她我
们谁也活不了。</p>
<p>前几天逛书店，发现一本书，《我的名字叫红》，奥尔罕·帕慕克写的。我印象
我们那一伙里有这个人，但记得不确切。我翻了翻，发现在写一个女人。于是我
就把这本书买下了，期望从里面找到红的线索。他的红是在土耳其，遥远的国度；
我们世界的红从来没有戴那种只露出两只眼睛的面罩，最多也就是一条丝巾罢了，
天冷的时候我记得她戴一个大红的小帽子，跳跳的，围巾是那种彩虹色的。因此
我认定自己受了奥尔罕・帕慕克的欺侮。他说的细密画也就相当中国的工笔画，
而工笔画相对与写意画，更简单，更容易；当然在花坊写意画的价格也更贵，这
是很自然的事。</p>
<p>那一年，老大领着我们在荒野里闲逛。孤零零的苹果悬挂在最高的树枝上，上面
挂着霜。我们穿过果园。一只极瘦的鸟，单脚钉在冰面上打盹儿。老大忽然说这
只鸟是不详的预兆，让我们尽量安静地经过，不要打扰它。我们自然都是明白的。
我们的心扑通扑通的跳，彼此都听得到；但我们的脚步可比小猫的还要轻；我们
基本停止了呼吸，为了挽救我们将遭不测的命运。我们经过后那只鸟醒了，它把
细脚从冰面上拔起来，抖了抖，拍拍翅膀就往夕阳的方向飞去了。我们看着它飞
到夕阳里，不晓得它会向我们的命运之神说些什么。它的怪异我们不敢领教。我
们只想能够继续我们的谈话。老大说，去吧，命运的狗腿子。他说出了我们的心
声，我们都点头表示明白。</p>
<p>我们尽量走到没有炊烟的地方，因为炊烟一度使我们感伤。我们像黑夜一样的浓，
也像黑夜一样的淡。我们横过水面就像掠过大地的乌云。我们坐在倾斜的宝塔顶
上，思念着对岸的红。后来我们闻到了炊烟的气息，就下来了。风是向东那个方
向吹。涨水了。老大说，顺着河流走，会到大海，沿着大海一周，还可以回到西
岸；逆着河流走，会到高山，翻过高山，还可以回到西岸。我们点头表示明白，
就选择顺着河流走。我们没有走到大海，很快就发现了一座桥，就这么回到了东
岸。但我们坚信这条河流是流向大海的。</p>
<p>《海子诗全编》有一首长诗，《河流》。开头的引言：梦想你是一条河，而且睡
得像一条河――――洛尔迦给惠特曼。洛尔迦和惠特曼肯定不是我们老大，但我确信
他们在那一年的我们里。我们在一起常说那些不着四六的话。那是什么年代，我
们根本不抽烟，也许是由于那时候地球上还没有烟草，也许是我们闻不了烟的气
息，包括炊烟。一个叫流沙河的想加入我们，我们拒绝了他，因为他妈妈喊他回
去吃饭，加衣裳。我们的妈妈也喊我们回去吃饭加衣裳，但我们听不到或假装听
不到。这是我们和他不同的地方。</p>
<p>那一年，我们领着老大在荒野里闲逛。我们没有方向，老大不知道方向。我们走
在大雪覆盖的地球表面。铅灰色的天空显示它是个实体其实天空是最空虚的。天
空一无所有，为何给我安慰？我们给自己刷上灰色的漆，只留下嘴巴和眼睛。我
们领着老大在荒野里闲逛，老大走得慢我们也不嫌弃他。老大说他是没有梦想的
人，但我们都知道他是有梦想的人，他的梦想就是有一个梦想。因此洛尔迦说老
大的梦想像一条河，而且睡得像一条河。我们拎着老大的梦想，就像拎着一个一
个的手提箱，我们走动的时候这条河就流动起来，我们停下来这条河就睡了。</p>
<p>我们谈论着我们的空气，我们都真心地喜欢她。她的名字叫红。她笑的时候冰川
都融化。我们都知道全球变暖的原因，并不是她引起的。她凝望着我们，希望我
们这帮傻子能尽早回家吃饭加衣裳。我们在荒野里闲逛，走到哪算哪。我们逃离
她的目光，因为我们都不敢凝视她的眼睛。我们谁都没能力正视她，因此大家的
认识都是片面的。比如奥尔罕就把她理解为细密画里的一种颜色。</p>
<p>那一年，荒野任由我们闲逛。老大牵着我们像牵着一群狗，我们也像奴才似的听
着他的高谈阔论，只是我们的同意是真心的，没有一丝一毫的刻意巴结。我们走
在无人的旷野，破破烂烂像一堆堆的草。有时候小鸟把屎拉在我们头上。我们始
终没有再见那只极瘦的鸟。我们思念它，像思念我们的厄运，思念我们的前世今
生。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="婚姻"><a class="header" href="#婚姻">婚姻</a></h1>
<p><code>Saturday, 8 August 2009</code></p>
<p>上帝保佑一下他，成为一个好丈夫，成为一个好父亲。</p>
<p>天空只可置身不可经过。内心只可审视不可到达。</p>
<p>立秋的第二天，天渐高远，雨洗出天空的瓦蓝。风催着落叶，叶子说走了，树枝
说还早呢，急什么？树干说人忙着呢，别拦着。叶子有什么事呢？柏油路，水泥
地。垃圾会运到垃圾填埋厂。</p>
<p>叶子――植物的心，最柔软，最美丽的，和动物心一样的形状。内心只可审视不可
到达，就像天空只可置身不可经过。在垃圾填埋场，叶子和其他可腐烂的垃圾慢
慢腐烂，散发的臭味让各个小区关上窗户。西山挡不住西北东南风，风吹着没有
心的木头，无心的树没有眼泪，树枝充当风的口哨。</p>
<p>在立秋的第二天，阳光打在地上，叶子寻思着离去，树枝正挽留的当口，很多人
正迈入婚姻，生命在子宫里孕育；宇宙风保佑一下地球上的人们，成为好丈夫、
好妻子、好父亲、好母亲。感谢一下傻傻的木星哥哥，为地球弟弟顶了不少雷，
保了亿万年的平安。内心只可审视不可到达。木星可真不容易，舍了心的保护咱
们，咱们的心可不是让天狗吃了？就像天空只可置身不可经过。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="托尔斯泰与米兰昆德拉"><a class="header" href="#托尔斯泰与米兰昆德拉">托尔斯泰与米兰昆德拉</a></h1>
<p><code>Saturday, 1 August 2009</code></p>
<blockquote>
<p>Lev Tolstoy and Milan Kundera</p>
</blockquote>
<p>听到的。没记住讲述者的名字。</p>
<p>列夫·托尔斯泰总是用温和的态度，善良的心介入各种尽管很尖锐的矛盾；而米
兰·昆德拉则以对立的、尖锐的态度进入。米兰·昆德拉很有力度，但缺少托尔斯
泰的厚度。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="声音与力量"><a class="header" href="#声音与力量">声音与力量</a></h1>
<p><code>Friday, 3 July 2009</code></p>
<blockquote>
<p>Sound and Power</p>
</blockquote>
<p>正在读北大钱理群的两本书：《我的精神自传》和《心灵的探寻》</p>
<p>钱理群的想法有一种笨拙而锋利的力量。这力量像是来自大地的深层，看似沉闷
却能给人心灵巨大的震撼。相比较其他如周国平只是发出些声音罢了，而余秋雨
只是呻吟。他们是活在文字里的辛勤的蜜蜂或懒惰的青虫。我之前直觉上就不喜
欢他们说话，但不知原因；从钱理群这里找到了答案。</p>
<p>前一段时间看林语堂的《老子的智慧》也有类似的感受。林语堂也是公认的大师，
但就《老子的智慧》而言，太轻飘飘了。我敢说他并没有进到老子和庄子的世界，
只是在门外瞟了一眼吧，就写出来了。这本书里基本没有自己的声音。林语堂就
这本书而言，也只是个唱口水歌的快男。相比较王蒙的《老子的帮助》好很多了。
人家真正是进去的主儿，无论叙述还是辨析都厚重。鲁迅小说《出关》与老子相
关，《起死》与庄子相关，也能看出人老周是进去的。林语堂一本书也比不上短
短的《出关》厚。</p>
<p>比较声音和力量本身也许就有些问题。声音再大也只是声音，而力量甚至可以是
无声的。但现在声音太多了，而且很多只是噪音。他们又在那喋喋不休装大师。
因此建议有条件的同学读一下钱理群，读一下王蒙的老子，他们才是真正有力的
主儿。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="叙事"><a class="header" href="#叙事">叙事</a></h1>
<p><code>Tuesday, 30 June 2009</code></p>
<p>一天，下着大雨，我骑着单车，浇的透湿。前面是红灯，边上有个小女孩，也许
是在哭泣。雨下得很大，看不大清。</p>
<p>她提着一个大包，她说她钱花光了，或者丢了；她鼓着嘴，像是跟命运赌气。我
一下想起了我任性的妹妹。</p>
<p>我给了她20块钱，让她打车回去。</p>
<p>绿灯了。</p>
<p>雨下成了细细的树林。风来就斜一下。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="轩辕"><a class="header" href="#轩辕">轩辕</a></h1>
<p><code>Sunday, 21 June 2009</code></p>
<p>那一年的二月二，世上有了轩辕黄帝。黄帝、炎帝还有蚩尤好像都是石头缝里蹦
出来的，没人知道他们的父亲是谁。那时候还是母系氏族到父系氏族的过渡时期。
父亲是谁母亲都糊涂着呢。可又有什么关系呢？父亲只是种子的主人，而收获是
属于大地的。种子散落于广袤的大地，而长出来的是很少的。这个道理是由神农
发现的。</p>
<p>据神农的母亲任姒说，神农的父亲就是一条龙。她进了山，撞了龙，回来就怀了
孕。相信她不会撒谎。她看不清暗夜里的那个人，只记得他很强健。龙在她嘴里
是个形容词，大致是生龙活虎的意思。神农随母亲姓姜。主要吃羊肉。早上一串
羊肉串，晚上一串。白天出去找羊。羊肉串烤着吃；那时候大家已经不惧怕火了。</p>
<p>很多年后仓颉造字，想到了神农的妈妈；还有她们的羊；他不知把羊放在女人的
左边还是右边；他想起她们高高挽起如龙的头发，于是就把羊放在了她们头上。</p>
<p>如果你相信神农活了五百岁，那炎帝就是神农了。如果你不相信神农太长的寿命，
炎帝可就是神农的后代首领。那时的历史朦胧在浓雾里。</p>
<pre><code>海子《历史》

我们的嘴唇第一次拥有
蓝色的水
盛满陶罐
还有十几只南方的星辰
火种
最初忧伤的别离

岁月呵

你是穿黑色衣服的人
在野地里发现第一枝植物
脚插进土地
再也拔不出
那些寂寞的花朵
是春天遗失的嘴唇

岁月呵，岁月

公元前我们太小
公元后我们又太老
没有人见到那一次真正美丽的微笑
那我还是举手敲门
带来的象形文字
撒落一地

岁月呵
岁月

到家了
我缓缓摘下帽子
靠着爱我的人
合上眼睛
一座古老的铜像坐在墙壁中间
青铜浸透了泪水

岁月呵
</code></pre>
<p>神农是个植物学家，尝百草。有些草是有毒的，神农嚼嚼咽下去差点死掉。于是
他成了第一个中医，有理论、有实践；可以治疗一些常见病；医疗体系不完善但
总有些办法。于是男人们就愿意跟着神农。跟着神农有命活。有一种草药叫益母
草，这种草药可以让母亲产后恢复得更快。神农居然发现了益母草的功用。于是
女人们也愿意听神农的，听神农的生孩子不那么危险。你知道女人们多么希望自
己被宠着惯着；但在那么长那么长的历史长河里，男人们都不顶什么用，男人基
本是野兽的口粮，野兽吃饱了打嗝的时间女人能喘口气；女人也假装很强悍。终
于有了一个神农。</p>
<p>在尝百草的过程中，神农还搜集了些种子。转脸儿他就发明了农业，把种子埋到
土里，浇上水。母亲就可以领着各种颜色的孩子，洗手吃饭。碗、盆子和食物，
都是神农送女人的。在那些个远古凄黄的午后，姜姓的女人们看着这些礼物忍不
住地哭泣。多好的男人啊，知道女人都是爱美的，他竟然织出了麻布！披着麻布
片的女人觉得自己都美极了。她们的心思早就在别处了。</p>
<p>神农不识字，因为还文字还没有发明出来，他是如下行业的始祖：</p>
<ol>
<li>农业</li>
<li>农具</li>
<li>中医</li>
<li>制陶</li>
<li>制衣</li>
</ol>
<p>也许他还发明了更多。只是没有更长的绳子记下来。</p>
<p>老子庄子在梦里都想回到神农的时代。我们梦回唐朝他们梦回神农。神农有的都
是简单素朴的东西，陶罐、益母草和麻衣；空气里炊烟的气息。我们的先祖在这
样空气里，咬着眉头，苦苦思索着粮食和蔬菜；绳子打了一个又一个的结，他记
起什么忽然又忘了。老子叹口气，说：农业只有胜利，战争只有失败。海子听懂
了这句话，就记下来。</p>
<p>中国的战神是蚩尤。蚩尤其实也不是专业打仗的。他的专业是冶金学，旁修气象，
算冶金所兼气象局的研究员。神农的农具比如犁，只是木头做的。神农并不会制
造金属。可蚩尤搞明白了冶金这门技术。他很快造出了一些金属的兵器。神农的
兵器有三类：</p>
<ol>
<li>石头</li>
<li>木头</li>
<li>陶器</li>
</ol>
<p>这些兵器和蚩尤的金属兵器比起来可就差远了。石头太重，木头被削得一段一段
的，陶刀易碎。神农的子民种地种的善良极了；不爱打仗也不会打仗。炎帝打不
过蚩尤就找黄帝帮忙。黄帝的兵器和炎帝差不多。蚩尤的技能如下：</p>
<ol>
<li>金属冶炼</li>
<li>气象学</li>
</ol>
<p>黄帝当时已经造了轮子，并组装了独轮车、双轮车和四轮车。黄帝还会做羊皮筏
子。但黄帝和蚩尤不在水里打因此羊皮筏子用不上。以下是黄帝能用得上的技能：</p>
<ol>
<li>有轮子的车</li>
<li>畜牧业</li>
</ol>
<p>这两个合起来解决了一部分的运输问题。至于指挥各种动物咬蚩尤那就是瞎说了。
动物智力实在有限，指挥它们吃饭还差不多；上战场它们只会四散奔逃。</p>
<p>传说蚩尤能喷云吐雾，打着打着忽然就大雾了；黄帝辩不明方向，军士乱作一团。
黄帝组织人造出了指南车。指南车可以在浓雾中辨明方向。因此黄帝和蚩尤在气
象学方面的优势扯平了。不过蚩尤还有兵器方面的优势。这时候一个神秘的女人
出现了。她叫玄女。</p>
<p>玄女在中国混乱的神话体系里叫西王母。如果她是西王母那治治蚩尤简直小菜一
碟。就算她不行也可以把二郎神招来。不过我想象中玄女应该是一个着黑色紧身
衣的女子，也许是一个母系氏族首领。她不可能有很先进的科技。但她可能给蚩
尤使了美人计。玄女和素女合称玄素，都是房中术方面的高人。玄女重实践，而
素女重理论。可能大家都听说过素女心经，这是素女更出名的原因之一。总结一
下黄帝打败蚩尤所用的科技：</p>
<ol>
<li>车轮</li>
<li>畜牧</li>
<li>指南车</li>
<li>房中术</li>
</ol>
<p>这一大仗叫涿鹿之战。之后黄帝就称天子了，天下也拥戴他。</p>
<p>有人说之后黄帝与炎帝又打了一仗，阪泉之战。龙战于野，其血玄黄。也有人说
没有打。很多人认为蚩尤也没有被黄帝杀死；蚩尤带着冶炼专利投降了。黄帝也
乐于看到这样。炎帝也没有死之类。这都不可考了。不过黄帝最终一统了当时的
天下。</p>
<p>黄帝更精通的是管理学。他组织了很多科技小组：</p>
<ol>
<li>数学，小组长为隶首</li>
<li>音乐，小组长为伶伦</li>
<li>文字，小组长为沮诵和仓颉</li>
<li>绘图，小组长为史皇</li>
<li>弓矢，夷牟</li>
<li>丝绸，嫘祖</li>
<li>造船，小组长为共鼓和货狄</li>
<li>舂和杵臼，雍父</li>
<li>乐律、律历，容成</li>
<li>天文观测，羲和与常仪分别负责观测太阳和月亮，臾区观测行星</li>
<li>甲子纪年，大挠</li>
</ol>
<p>其中嫘祖还是黄帝的正室。黄帝还亲自参与医学讨论小组，并著有《黄帝内经》
一书，这也是传说了。</p>
<p>这些科技小组中，有些是基础的学科，比如数学、文字，天文观测等，有些是应
用的，比如造船和弓矢。有关乎民生实用的东西，比如舂和杵臼，是配合农业发
展而发明的；还有奢侈品，比如嫘祖领导的丝绸小组。</p>
<p>很难想象在轩辕的时代，物质根本也不丰富，人民甚至连麻衣都还没有穿上，嫘
祖如何说服轩辕投资丝绸。那时候还有一些部落滞留在母系氏族社会，没有迈进
到父系氏族的行列。因此丝绸也是</p>
<p>那天仓颉刚想明白如何造字，天上就下起了栗子般大小的冰雹；到了晚上又起了
大风，仓颉他们听着就像鬼哭一样。那仓颉也跟着哭了。他知道这些字造出来有
多么的难，他也许还不知道这些字造出来多么的有用。他快死的时候忽然知道在
哪里能找到自己永远的家。他的家在汉字里。有时候他突然跳出来说两句。他说
分需要八刀，这来自切瓜的经验；而合说说就好了。漫长的历史里他说了很多很
多，我们这个最伟大也最卑贱的民族越滚越大。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="猫信"><a class="header" href="#猫信">猫信</a></h1>
<p><code>Thursday, 18 June 2009</code></p>
<blockquote>
<p>Cat Trust</p>
</blockquote>
<p>现在对我最信任的，就是我的小猫：）</p>
<p>我单手拎着它的四只脚走来走去，它也继续做它的事：有时东张西望，有时舔身
上的毛，有时睡觉。它睡得着是因为它知道我不会把它摔在地上，只会把它从一
个地方，轻轻放到另一个更舒服的地方。它在一个地方睡被拎起来并没感觉到受
责备；大多情况是我要打扫房间。</p>
<p>它总在离我不远的地方，酣然入睡。有时候我悄悄离开，不一会它就会拖着长声
跑过来，蹭到我身边，咕咚躺下继续睡。</p>
<p>很小时候一个夏天的傍晚，听到大人说要吃西瓜，就直着奔过去；不想脑袋撞到
了一根横着的木杠上，仰面就摔在地上。醒来的时候都第二天了。童年的这一个
记忆，并不是刻骨铭心的，这两天才想起来。细想想之后的人生也常常遇到类似
的事：很简单就能得到的东西，横着就一个木杠出来，把人打昏。把男人女人都
打昏：）</p>
<p>如今看它那么坦然地躺在那睡觉，安祥得如空气一般，就知道它好福气，不是我
们一般人类所能比的。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="范德瓦尔斯力"><a class="header" href="#范德瓦尔斯力">范德瓦尔斯力</a></h1>
<p><code>Tuesday, 19 May 2009</code></p>
<p>导师说，夫妻之间，范德瓦尔斯力在起着作用。</p>
<p>当你们离的较远，是相互吸引的；而你们离的太近，是相互排斥的。</p>
<p>如果离的太远了，这个力的存在可以忽略不计的。</p>
<p>他说了他和师娘之间的一件事。那时候他们一个在郑州，一个在山西的乡下，天
各一方。他们相互写信，聊生活中各自的琐事，让对方为各自无所谓的事拿主意。</p>
<p>“你说说这件事这样行不行？”她说</p>
<p>“我觉得这样就可以了，不过还有更好的方法。”他说。</p>
<p>他们说着说着就过去了很多年。生活存活在话语里。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="谁是谁"><a class="header" href="#谁是谁">谁是谁</a></h1>
<p><code>Thursday, 14 May 2009</code></p>
<p>多年后重新回到这个主题，发现自己对这个主题还是这么痴迷；我已经不大记得
我写过的了。</p>
<p>我还发现虽然我忘记了这个主题，但我写的其他东西还是暗暗地围绕着这个，好
像行星对恒星的跟随。</p>
<p>因此我决定还是回来。我会把这个主题继续写下去。</p>
<h2 id="之一"><a class="header" href="#之一">之一</a></h2>
<p>相传释迦牟尼(前565-前486， 或前624-前544， 或前623-543)活了约80岁， 大
致与孔子(前551－前479)同时。 释迦牟尼在未出家之前， 是天竺北部迦毗罗卫
国的太子， 名悉达多。</p>
<p>迦毗罗卫国土地约长20公里， 宽16公里， 面积约312平方公里。 比北京的昌平
区略小(昌平352平方公里)。 悉达多的父亲是这里的国王， 也就是净饭王。</p>
<p>净饭王在当时的天竺属于第二种姓刹帝利。 刹帝利相当于中国诸侯的概念。 刹
帝利之间互相杀伐， 抢夺资源。 从迦毗罗卫国的国土面积看， 净饭王是比较
弱小的刹帝利。 第一种姓婆罗门， 以宗教为职业， 虔修出世。 修行的方法多
达96种， 即所谓96&quot;外道&quot;。</p>
<p>下面是今天的练习题:</p>
<p>假如必须选一种方式修行， 你选择下列哪个?</p>
<p>A 自饿， B 赴火， C 自坠， D 寂默， E 持鸡狗戒</p>
<h2 id="之二"><a class="header" href="#之二">之二</a></h2>
<p>解答一下上节的习题。 这96种修行方式的共同的特点， 是把人置于非常的状态，
以产生非常的感受。 比如自饿， 人饥饿的时候容易产生幻觉， 比如眼冒金星
什么的; 快饿死的状态至今仍很神秘。 自坠的感受应该相当于蹦极， 有兴趣的
同学可以体验一下。 着重谈一下持鸡狗戒。 鸡晚上常单腿站立， 而狗是吃
shit的。 持鸡狗戒就是金鸡独立， 学狗吃屎。 据说吃多了就会觉得很爽。 现
代社会鸡有了其他含义， 持鸡狗戒也可以改为站街吃屎。 相比而言， 寂默是
比较让人容易接受的。 寂默还不是能让人如此美丽么?</p>
<p>活在释迦摩尼时代的天竺太悲惨了， 甚至都不如死了。 不仅社会底层的首陀罗
如此， 社会高层的婆罗门也如此。 人刚一出生就想着如何逃脱这个悲苦的人世。
自杀率很高。 相比较孔子的时代要好很多。 诗三百， 子皆琴而歌之。 诗经就
是孔子的歌词谱。 曲子没怎么记下来。 孔子能弹唱三百多首歌， 搁现在有二
十多张专辑， 演唱会不插电能唱一整天。 当然当时孔子的歌迷也是不少的。
很多歌迷也想嫁给孔子。 或者发生一夜情， 比如卫南子夫人......孔子的时代
虽然打仗， 但生活还是美好的， 不是谁谁都想自杀。 翻遍东周列国志， 少见
自杀， 更没有成批自杀的。 天竺人却生活在水深火热中。 估计释迦摩尼时天
竺人困苦程度和商纣王晚期的时候差不多。</p>
<p>释迦摩尼是净饭王的儿子。 他出生不久妈妈离世了。 之后姨妈嫁过来， 就抚
养他。 释迦摩尼虽然只是小的刹帝利， 但受的是婆罗门的教育。 长大后文的
武的， 都拿的起放得下。 通过比武招亲， 力挫各国王子， 娶到了绝世佳人耶
输陀罗公主。 金庸小说对比武招亲多有描写， 想了解更多细节的可参见天龙八
部一书。</p>
<p>子降母亡的事， 多发生在医疗水平比较低， 卫生条件差的地区。 生孩子容易
感染病菌， 治疗不利很可能丧命。 当时天竺的医疗水平跟中国同时代比， 差
的不是一点半点。 那时中国的医疗已经成体系， 由&quot;扁鹊见蔡桓公&quot;可窥一斑。
而天竺比较擅长医治的疾病是食物中毒， 治疗的基本思想就是灌大便以引起病
人呕吐， 把脏东西吐出来(相当于现在的洗胃)。 产生了一味药叫黄龙汤。 实
际就是粪汤。 这味药基本到处用。 能治很多病， 因为更多的病是食物中毒。
食物中毒多和天竺安葬方式还有关系。 尸体烧焦了扔河里， 同时还喝河里的水。</p>
<p>释迦摩尼共有两个妻子， 另一位叫够毗耶太子妃。 够毗耶太子妃是宝女。</p>
<p>下面是今天的习题:</p>
<p>假如把扁鹊放到释迦摩尼时代的天竺， 他会如何治疗食物中毒?</p>
<h2 id="之三"><a class="header" href="#之三">之三</a></h2>
<p>说一下扁鹊吧。扁鹊治病讲究防病，料病在先，把疾病消灭在萌芽状态，而不是
等病入膏肓。因此扁鹊如果在2500年前的天竺，一定会想办法解决天竺的公共环
境卫生问题，改变落后的水葬习俗，换天竺一片碧海蓝天。</p>
<p>扁鹊很直的一个人。扁鹊的时代也是中国巫术盛行的时代。很多愚昧的人仍然被
巫师愚弄。扁鹊旗帜鲜明的表明观点，信巫术的就别找我了，不为信巫术的人看
病。信医不信巫。陈晓旭的死让我很伤感。我想起了扁鹊，我们一位伟大的祖先。
很多炎黄子孙拜倒在释迦摩尼的脚下，想起来就脸发烧。</p>
<p>史记上说巫医派人刺杀了扁鹊。扁鹊就这么死了。他身后的人，一步一步开创了
中医事业。方舟子说中医是巫医，是没有良心的。也许他不知道扁鹊，这个为中
医献身的人，就死于医和巫的抗争。</p>
<p>和之后有名的中医一样，扁鹊是全科的大夫。孩子生病多的地方，扁鹊就拿出儿
科的牌子；妇女生病多的地方，扁鹊就拿出妇科的牌子。扁鹊就喜欢四处行医。
我们之所以活到现在，也许我们祖先就曾得到扁鹊的救治。</p>
<p>史记记载，扁鹊见的是齐桓候，而韩非子里说扁鹊见的是蔡桓公。还有有扁鹊出
现的历史竟然有将近400年。我想扁鹊不可能活400岁。这只是反应了老百姓对扁
鹊的爱戴。老百姓希望扁鹊成仙。这样他们，还有他们的子孙，总能找到扁鹊，
看自己的病。这也是老子讲的”死而不亡者寿“的道理吧。</p>
<p>悲痛中不留习题了。</p>
<h2 id="之四"><a class="header" href="#之四">之四</a></h2>
<blockquote>
<p>Thursday, 14 May 2009</p>
</blockquote>
<pre><code>昔为舍长时， 方伎未可录。
一遇长桑君， 古今皆叹服。
天地为至仁， 既死不能复。
先生妙药石， 起虢效何速！
日月为至明， 覆盆不能烛。
先生具正眼， 毫厘窥肺腹。
谁知造物者， 祸福相倚伏。
平生活人手， 反受庸医辱。
千年庙前水， 犹学上池绿。
再拜乞一杯， 洗我胸中俗。
</code></pre>
<p>这首诗赞扬的就是扁鹊。在古代，一舍大约合现在30里。扁鹊当舍长的时候，管
大约30里的地面。没有净饭王管的地面大；扁鹊也没有做出特别突出的成绩。他
的成绩是在从医之后。</p>
<p>想必净饭王在迦毗罗卫国，能吃到干净的饭。在水里乱漂尸体的国度，吃到干净
的饭，也是很不容易的事。净饭王是一个宽厚仁慈的国君，受到全国臣民爱戴。
一舍之地的小地界，也不会有太多的臣民。净饭王与摩耶王后之间的感情非常好，
但结婚多年都没有生育儿女。净饭王为没有王位继承人而十分苦恼。直到净饭王
年已50岁，摩耶王后45岁的时候，才第一次怀孕。</p>
<p>佛经上说，魔耶王后的这次怀孕，是由于睡眠时梦见一头六牙白色大象腾空而来，
从右肋进入王后的腹中。于是乎悉达多出生的时候，也是由右肋出生的。悉达多
出生的第七天，魔耶皇后就死去了。</p>
<p>这也许都是实情。魔耶皇后45岁怀孕，就算搁现在也是高龄产妇。顺产的可能性
微乎其微，只能实施剖腹产。腹部的刀口都划到了右肋，那得多大的口子？因此
初步推测，魔耶王后七天后死于失血过多。</p>
<p>那一头6牙白象呢？一头大象除了前面2根长长牙齿，还有上下左右各6个共24个
臼齿。但这个24个臼齿并不是同时长出。同时长出的牙齿是上下左右各1个共4个；
等这4个臼齿用坏了，再长出下4个。最后一个臼齿长出的时候大象一般都60岁了。
因此6牙白象还是很科学的说法。有兴趣的同学可以到动物园仔细数数。</p>
<p>下面是今天的习题：</p>
<p>既然每一头大象都有6个牙齿，佛经里出于什么原因对牙齿的数目进行强调？</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="我的猫"><a class="header" href="#我的猫">我的猫</a></h1>
<p><code>Thursday, 26 March 2009</code>
&gt;</p>
<blockquote>
<p>My Cat</p>
</blockquote>
<p>正睡的舒服呢，被叫起来拍照，有些不大高兴。</p>
<p><img src="2009/mycat01.jpg" alt="Sleepy Cat" /></p>
<p>后来干脆不睡了，起来看电视去了。</p>
<p><img src="2009/mycat02.jpg" alt="" /></p>
<p>凤凰台的军事观察</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="我的团长我的团"><a class="header" href="#我的团长我的团">我的团长我的团</a></h1>
<p><code>Friday, 20 March 2009</code>
&gt;</p>
<blockquote>
<p>My Group Leader and My Group</p>
</blockquote>
<p>拷问我们民族灵魂的一部作品。庄严而戏谑，圣洁而肮脏；充斥着神性和不羁。
和我们的民族一样，磕磕绊绊的勇往直前。</p>
<p>真正伟大的作品。莎士比亚也很难拿出东西来跟兰小龙的这个比；不是莎士比亚
的才能不及兰小龙，而是他背后的民族，不及我们这个民族美丽，不及我们这个
民族丑陋，不及我们民族勇敢，不及我们民族懦弱——不及我们民族这么不可理喻，
这么充满了神性，这么卑贱。中华民族是世界上最扯淡的民族但是个实体，就像
我们脚下的大地一样，是个实体，说什么都不要紧，都无关紧要，这个实体在那
里，千年万年都是个实体。</p>
<p>这个伟大的时代！泥沙齐下，鱼龙混杂；肮脏的空气里没有干净的人心。这个时
代伟大得扯淡；生机勃勃不可遏制，饿狗一样扑向死亡，参透生死，也参透是非；
活的力量！</p>
<p>当然这个伟大的作品真是无愧于这个伟大的时代，也是我们这个伟大的民族能吼
出来的像样的一声。你知道烈士和小丑总是走在同一条道路上，他们相伴相生，
如影随形，他们的灵魂有时还串门，别说别人分不清，自己都分不清。有什么要
紧呢？有什么关系呢？我们就这么糊了八突地过吧，我们这个让人恨的发狂，也
爱的发狂的民族。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="猫不易"><a class="header" href="#猫不易">猫不易</a></h1>
<p><code>Tuesday, 10 March 2009</code></p>
<p>So Difficult to be a Human's Cat</p>
<p>给人作猫可真不容易！</p>
<p>我的小猫，从上周五吐到了这周一，喝口水都吐。上周末两天，我Transfer到了
农大动物医院，早八点半准时到，晚上11点回；一直当小猫输水的陪护。周一输
水到晚上10点半。它吐它的水我输我的水，个做个的。一直输到今天她不吐为止。
今天早上它服了输，一大早贱贱地起来要东西吃。切，老子就是不给；控到晚上
我回来，才给了十几粒猫粮，几口鱿鱼丝，小半碗水。它吃了玩了会儿，睡了会
儿；现在在我腿边睡呢。</p>
<p>我还以为是我劝它吃的那几滴啤酒伤了她的胃。我真不知道它不能喝。但检查的
结果显然不支持这个假设。照的片子显示它胃好着呢。医生还怀疑它是糖尿病，
但尿检结果不支持这个假设。它尿虽然黄的很，但没有一丝葡萄糖。血常规检查
一切正常；生化检查显示一些指标普遍偏高；因此医生认为它吐是肝肾功能下降
所致。而它那么小，肝肾功能照理不该下降。但的确下降了。于是就在输液的时
候加了促进肝细胞再生的药，还有消炎的药。</p>
<p>糖尿病真可怕。一起输液的猫里，就有一只是糖尿病，叫黑黑。黑黑是小名，它
大名叫李白，因为它外边是黑的，但里面是白的，女主人姓李，就随了。李白的
血糖可是忽高忽低；血糖太高就血糖中毒，血糖低就两爪一摊当场晕菜；这时候
要拿注射器注点葡萄糖进去；忽悠悠才醒过来。也不知李白能不能喝，也许能吧，
不然空叫这名字了。李白在家，还有一个小姨，一个老妈。老妈有点一根筋，见
面就抽，李白不敢还手；跟小姨还敢动动手。小姨也护着李白，意思是姐行了，
孩子不小了，再打就没劲了。</p>
<p>我不喜欢李白。傻傻的一只猫简称傻猫。看不出可爱。但它主人喜欢。连着输了
一周的水了，好几次差点过去。我们这么做符合人性，但违反天性。按老天爷的
意思，老得病的动物，抗不住就死了算了；不生病基因好的留下来。自然选择嘛。
但人把自己对生命的留恋，应用到了宠物身上。赖着不死，无聊得很。我想老天
总有一天不忙的时候，会管管这事，谁啊这么不懂事，别人都死就你不死。</p>
<p>农大动物医院，中国最好的动物医院。医生本着科学的态度，违着老天的意，给
不会说话的宠物治病。慎独。没可能揭穿的时候，还那么有良心；这时的良心才
是真的良。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="关于二"><a class="header" href="#关于二">关于二</a></h1>
<p><code>Tuesday, 3 March 2009</code>
&gt;</p>
<blockquote>
<p>About Two</p>
</blockquote>
<p>让二来得更猛烈些吧:-)</p>
<p>有一本书，中文名叫《白鲸》（Moby Dick），美国立国以来开山的一部。作者
的写法就二的很，野蛮而疯狂，给美语做压力测试吧。当然里面的人物也比着二。
“我”还好些，食人族，大副二副，船长基本就是个坚强的疯子。当然最二的还是
那头抹香鲸了，Moby Dick。</p>
<p>《易经》里有句话：见群龙无首，吉。如果每个人都很二，那是很好的兆头啊。
这是我的理解了：）</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="致列夫托尔斯泰"><a class="header" href="#致列夫托尔斯泰">致列夫·托尔斯泰</a></h1>
<p><code>Monday, 19 January 2009</code>
&gt;</p>
<blockquote>
<p>To Lev Tolstoy</p>
</blockquote>
<p>他让安德烈离开之前，与娜塔莎重逢。他让娜塔莎得到宽恕，让比埃尔爱上娜塔
莎。他给了善良的、相爱的人许多的女儿，还有至少一个儿子。他还没忘记即使
相爱，也不免争吵；但他还会让他们相拥着流下热泪。他让老罗斯托夫破产之前，
去见了上帝，并让他的一个儿子，重整家业。在结尾告别的时候，他把他爱的人
都安排的好好的：有的生儿育女，有的侍奉上帝；而他不喜欢的，写到结尾就写
丢了：）不像别的作者，拿好人的命，换取作品的伟大。</p>
<p>老爷子啊，人类的良心。</p>
<pre><code>是的，在善恶的角力中
爱的繁衍与生殖
比死亡的戕残更古老、
更勇武百倍！
——《慈航》，昌耀
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="我的葡萄树"><a class="header" href="#我的葡萄树">我的葡萄树</a></h1>
<p><code>Sunday, 11 January 2009</code>
&gt;</p>
<blockquote>
<p>My Vine</p>
</blockquote>
<p>我的葡萄树结了六串葡萄，绿色的。也是在2009年刚开始的那几天才发现的。</p>
<p>可不知是吉是凶。</p>
<p>2008年奥运前后，我的葡萄树攀着丑陋的架子，一个劲儿地长。每得一块金牌我
就去问问它，到底打算给我结多少葡萄，结在哪一支上。它没有回答。它忙着呢。</p>
<p>我是春天栽上的。那天夜里我去田地里挖了很多土。那片田里在施工，土翻得很
蓬松。挖的土只用了一半。另一半放到储藏室了。</p>
<p>都深秋了它也没结葡萄的意思。气温下降到0度以下，我把它从外阳台移到了内
阳台。它继续把叶子落光，无动于衷地靠在角上。我还以为它今年的事做完了呢。</p>
<p>有点后悔催它太紧。不结也没关系的，我可以买着吃。如果为了这6串新结的葡
萄，送了它的命，那可就是在没法吃了。</p>
<p>于是在这新年之后，春节之前，我再三叮嘱我的葡萄树，一定不要太劳累，要不
然我不吃。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="白鲸"><a class="header" href="#白鲸">白鲸</a></h1>
<p><code>Monday, 22 December 2008</code></p>
<blockquote>
<p>Moby Dick</p>
</blockquote>
<p>一斧头一斧头当场就劈出来这么一个野蛮而厚重的家伙。边劈边聊，跟砍柴的似
的；烟没断过；有时候咳嗽儿；地上随意扔着大大小小碎料，没人收拾，管他呢。</p>
<p>开始突突突冒气没活动开。活动开之后那叫一个跑的欢。西伯利亚雪原上干净的
烟。单纯而残暴。</p>
<p>这是怎样一部作品啊。看了之后直觉的自己活的琐碎不真实。食人生番的友情，
大副的爱家，二副的爱自己，三副的勇敢，船长的无可救药的坚定。死是任谁谁
都无可逃脱的命。那就迎着上去好了。</p>
<p>野蛮而厚重的东西在国内很少看到。中国人大多精于技巧。做出东西有大气的但
很少野蛮的。也许这是个审美的问题吧。文明古国，自汉吧，就走向精雕细刻的
路——看看我们的菜吧，还有国粹。粗砺一点别人都以为你没下够功夫。当然啦，
也没多少拿得动开山的斧头的。沉香也就一下两下，把山劈开救出妈妈就哭做一
团了。谁能把山给劈出来？从一个混沌一团的地方？剑在这比较流行，一百单八
式舞的密不透风，水泼不进；一飘身就不见了；诸般灵异说说都觉得臊得慌。就
描吧，单薄的灵魂只配贴在纸上。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="阿基米德"><a class="header" href="#阿基米德">阿基米德</a></h1>
<p><code>Thursday, 4 December 2008</code>
&gt;</p>
<blockquote>
<p>Archimedes</p>
</blockquote>
<p>阿基米德说，给我一支点，我就可以撬起地球。</p>
<p>也不知阿基米德是否真的说过这样的话。由于时空的关系，一直找不到机会见到
他。阿基米德也没机会见到牛顿。牛顿发现万有引力定律的时候，想必也想找阿
基米德聊聊；但人早不在了。</p>
<p>阿基米德要撬起地球的话，要好好考虑几件事。</p>
<p>其一，支点放在哪的问题。支点不能放在地球上，但又不能离地球太远。支点离
地球太远，杠杆就会更长。杠杆太长就得考虑今生如何走到杠杆的另一端的问题。
不能超光速的。爱因斯坦也不是吃干饭的。不妨考虑把支点放到月球上。月球离
地球最近，而且月球也不在地球上。唯一的问题是月球可能没那么稳定，未必承
受得了太大的力。</p>
<p>其二，杠杆的长度。假设阿基米德体重100公斤，有100公斤的力气。地球的质量
是\( 6.0×10^{21} \)公斤。支点选在月亮，月亮离地球\(3.8×10^5\)公里。
根据杠杆原理，那杠杆长度就得有\(2 ×10^{24} \)公里。光速是
\(3×10^5\)公里每秒。阿基米德爬过去最少需要\(6.7×10^{18}\)秒，也就
是\(2×10^{11}\)年。目前地球的年龄大约46亿年（\(4.6×10^9\)）。月球
寿命大约\(4.3×10^9\)年。等阿基米德的幽魂爬到杠杆的另一端，月亮和地球
的幽魂又在哪里呢？</p>
<p>其三，阿基米德的游魂站在哪里撬呢？这杠杆太长了，有\(2×10^{11}\)光年
长。银河系的直径大约10万光年。真是零头都不够啊。据说宇宙也就260亿
（\(2.6×10^{10}\)）光年吧。可怜的阿基米德，伟大的物理学家，的幽魂，
却只能置身宇宙之外，努力地撬遥远的一个宇宙里的，也许最不出名的一颗小小
的蓝色星球，的幽魂。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="父辈"><a class="header" href="#父辈">父辈</a></h1>
<p><code>Wednesday, 3 December 2008</code>
&gt;</p>
<blockquote>
<p>The So Called Elder</p>
</blockquote>
<p>比较喜欢的东西，最好要有个内核，精神上的。不喜欢像于丹那样的，东一下西
一下，道理满天飞，但缺少精神实质。平常的谈话也是如此。经历过文革的那代
人，说的话本质上跟打嗝差不多，基本的卫生标准都达不到，更别说精神实质了。</p>
<p>-- 原来挺崇拜经历文革的人，后来才发觉，绝大部分经历文革的人，都已经磨
得没点脾气了，包括那些大家们。</p>
<p>不止是没脾气，是没自我，而且一厢情愿地认为， 别人也应该没自我。</p>
<p>读《静静的顿河》，发现俄国人是比较混的。可这种混蛋劲儿，比没自我，也可
爱多了。人俄国人打的饱嗝，透着酒气；冬天里闻到，恶心归恶心，也还知道对
面的人是活生生的。不像我们，形体上的温驯，遮掩精神上的野蛮。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="爱情的意义"><a class="header" href="#爱情的意义">爱情的意义</a></h1>
<p><code>Saturday, 22 November 2008</code></p>
<blockquote>
<p>The Meaning of Love</p>
</blockquote>
<p>在我上大学的时候，有一个晚上，十一点多了，我下了晚自习，正在往宿舍走的
路上。天黑的厉害，蛇样的闪电预告着一场雷雨。我在路上走这时候一个女生拦
住了我。</p>
<p>——同学，能不能帮一个忙？</p>
<p>很漂亮的一个女生。我在校办晚会上见过她。南方的女孩。低着头。仰脸的时候
眼睛里有一层雾。</p>
<p>——什么事？</p>
<p>她指了指路边的一团黑东西：</p>
<p>——能不能帮我把他送到宿舍？</p>
<p>我才注意到路边的阴影里，还躺着一个人。我那时候的帅那时候的人很难察觉。
因此那时候很少有女生主动找我谈话。我那时候又太帅，也不愿主动去找女生。
因此我不假思索地答应了：</p>
<p>——可以的，但你必须告诉我他住在哪个宿舍。</p>
<p>他住在四楼。不能再高了，西西楼就那么高。体育系的师哥喝了啤酒，喜欢把酒
瓶扔出窗外。于是把他们从四楼赶到一楼，这样别人受的伤会轻一些。四楼住的
是文明点的，比如中文系或者历史系的学生。</p>
<p>文科的男生比死猪都沉。尤其是我背上这一个喝多的。开始我拖着他，一个闪电
下来我怀疑他死了；不过试试鼻息还在。于是我又把他扔到了背上。他女朋友拉
了拉发现挺结实，就撤了，剩下我们两个走向回家的路。</p>
<p>大粒的雨点打在他脸上。于是他醒了。他叫了几声一个女孩的名字没人答应。于
是问我，</p>
<p>——你知道爱情的意义吗？</p>
<p>我忙活了一个晚上，目的是讨论一个东西的物理意义，还没讨论清楚，明天接着
讨论。</p>
<p>——你甚至可以为她去死，</p>
<p>我想起他女朋友哀求的眼神。不愿意女的这样。能帮就帮啦。</p>
<p>——你也是为她而活；你知道她有多好吗？那么的迷人，像一头小鹿，</p>
<p>是的。食草动物才求人。小鹿求倒了一只理工科的驴。这头驴现在驮着一团文科
的屎，臭气熏天，走在大雨中。他的话语低沉，有时呜咽，还伴着雷声；我的脸
上淌着汗和雨。</p>
<p>——甜蜜、苦涩、更多的甜蜜、更苦涩；你也是为她而活</p>
<p>汗是咸的。可乐解渴。回去买一杯。也不知小卖部还有没有人。</p>
<p>——神魂颠倒，让人迷醉</p>
<p>应该喝的是啤酒，也就燕京吧。啤的没劲，但喝了凉快。</p>
<p>——多么好的，一个女人</p>
<p>多么壮的，一头驴啊。路上都是水，也不打滑。</p>
<p>我实在没力气把他背到四楼。到二楼的时候，把他放下，让他靠着墙站会儿，我
好歇歇。他扶了扶只有一个镜片的眼镜。我歇了会儿就把他架上去了。踹开门，
把他扔在一个空床上。屋里有一把吉他，不知是不是他的。长发。于是我买我的
可乐去了。太渴了。买了两杯。</p>
<p>我那时候是光头。梳子老丢，洗头也麻烦，干脆就不要了。我觉着挺好看的。女
生看着老笑。物理实验室灯那么多，多我一个也不嫌多。</p>
<p>我终于讨论清楚了那个东西的物理意义。论证、计算占了十好几页，交给了材料
物理老师。后来老师给我判错了。我问他原因，他说，</p>
<p>——有经验公式的，套用一下就可以了；</p>
<p>可现有的经验公式，误差在百分之百还多，太不准了，</p>
<p>——那没关系，实际测一下就可以了，何必算那么多？还有什么无谓的证明？</p>
<p>那一刻我发现我不适合做材料物理；这个学科太不严谨，经验的成分太多，还嘲
笑我所钟爱的计算和论证。</p>
<p>在校园里也见到他们。有时笑得像两朵花，有时伤心的像两片雨。他的头发是长
的还背着吉他，我的头发是没有的还背着书包。我已经开始嘲笑材料物理，醉心
于理论物理。所有爱因斯坦说的都记在小本子上，忘记了就复习一下。爱因斯坦
说，</p>
<p>——反复地做同一件事情，却期望得到不同的结果；这就叫精神错乱</p>
<p>有时候看到他们骑一辆自行车。男生背着吉他，长发飘飘。女生明显是食草动物，
依偎着另一个食草动物。那另一个食草动物背了吉他像一只扫地的绵羊。他们明
显忘记了那个夜晚。有时和他们面对面走过去，他也并不看我一眼。我和其他许
多光头的理科男生一样，对他根本构不成威胁。我喝酒的次数很少。喝的话也不
醉，越喝越高兴，脑门发亮，掏出小本子念，爱因斯坦说，</p>
<p>——我相信上帝不掷骰子</p>
<p>我相信文科男生都是骗子。文科女生都傻子，全上当了。理科女生更傻，还怨恨
文科男生不骗自己个儿。霍金还没病的时候，作为舵手参加赛艇大赛，他女朋友
在河边叫好都叫疯了。瞧瞧人那女生的什么境界。牛顿惨点，脾气太傲基本没女
生踩。还有玻尔，也是酷的不得了，包括他的不善言辞以及口吃。杨振宁挺滑的，
单独拿出一些时间把杜致礼拿下，也算是师生恋吧。后来人杨振宁拿了诺贝尔物
理奖，政府觉得关着诺贝尔奖得主的岳父不合适，就把杜聿明提前放了。多大的
造化。掏出小本复习一下，爱因斯坦说，</p>
<p>——我觉得最不合理的就是上缴个人所得税</p>
<p>我觉得最不合理的就是材料物理太依赖混蛋经验公式。脑子不进水总结不出误差
百分之百的经验公式。我转向了更重视计算和论证的理论物理。于是进入了另一
个世界，上了研。</p>
<p>那时候我留起了长发。喝酒。现在啤酒肚就是那时候落下的。很颓。导师问怎么
了，我说失恋了。</p>
<p>我的确失恋了。但我不能确认我是否真的很痛苦。我只是觉得我应该很痛苦。还
为这应该的痛苦留起了长发。一个繁星满天的晚上，科技楼停电了，也找不着蜡
烛，于是就出来坐在楼前的台阶上，看星星。这时导师走过来，挨着我坐下，对
我说，</p>
<p>——面对浩瀚的宇宙，我们个人的那点儿事，又算得了什么？</p>
<p>第二天我就把头发剃了。还是光头省事。梳子找不到也不用找了。头放在水龙头
下冲一冲就可以了。洗发水厂家都恨死我了。很多年后去看导师，谈起这件事和
他的那句话，他说他不能证实他是否说过这句话，但这句话的特征是他的体系。
我确信我听到了这句话，但不确信这句话是来自外部的世界，还是来自我自己的
内心；尤其是在没有得到完全承认之后。</p>
<p>也不知他们怎么样，很多年不见，也不记得他们的名字；文科的两个傻子。可谁
没有傻过啊？无论长发的，还是光头的；无论背吉他的，还是背书包的。</p>
<p>后来我发现我背不动书包了。老爱老玻联手基本把理论给找补齐了。霍金虽然只
有一根手指头能动换，但人脑子整天不闲着。大英帝国也支持他，有吃的有住的。
我这吃的还凑合但住的就不灵了。想改善的话就得昧着心当骗子。我背了那个文
科的男骗子之后烦死骗子了，见面恨不得掐死他们，自己是骗子就掐死自己。于
是干脆把书包放下，背上了电脑包。</p>
<p>这些年也在一直讨论爱情的意义。当然有现成的经验公式可用，但经验公式也太
不靠谱了。这误差太大不说，也没有什么根据。基本上就是瞎说一气，见一码记
一码，一捆一捆那么撂着。很多数值根本就没有量纲，更别谈意义了。不过当我
把自己的论证和计算交上去之后，换来了这么一批语：</p>
<p>——你就是犟！</p>
<p>可不是嘛。要知道我是一头驴子啊。驮过文科那坨屎，驮过书包，驮电脑包；驮
房子。驮房子的驴就快退化为蜗牛了！于是就叫几声。嗯啊嗯啊~~别人听见了说，
还真是头驴，听，正叫呢。算是挽回一点做驴的尊严吧：）很怀念文科那坨屎，
是他让我真正理解了做驴的尊严；他臭气熏天但给了我很大的信心；这么长的一
条路，天上打雷下大雨，黑漆漆的天没路灯，地上都是水；一路趟过来也不害怕，
也没怎么打滑掉链子。</p>
<p>有时候也想起那头小鹿，哀求的眼光蒙着一层水气。于是就告诫自己要争气，别
活得跟团屎似的，让自己的爱人一点办法都没有无可奈何还要去求别的人。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="一个朋友"><a class="header" href="#一个朋友">一个朋友</a></h1>
<p><code>Saturday, 8 November 2008</code></p>
<p>在中镇(Middle Town)有我一个朋友，叫约翰。</p>
<p>中镇在大西洋边上。直通通趟过去，就到欧洲了。那里是富人的天堂，遍地豪宅
和酒馆。也是夏季旅游的圣地。不过冬天由于太冷，很少人去。富人们大多不在，
一座座城堡空着，几乎没有人。遍地的树叶也少人扫。</p>
<p>几年前的一个冬天我在那里干活。我从遥远的中国，来到这里，帮约翰他们对付
一堆写得破破烂烂、时时出错的程序。收工之后，约翰就带我去酒吧喝酒。那的
本地啤酒是新港风暴(Newport Storm)。青岛啤酒在那卖得也很好。有时中午也
喝一杯。</p>
<p>约翰原来有一辆日本车，已经开了很久。</p>
<p>约翰说，他喜欢修理车，修理房子，修理女友，修理一切(fix car, fix house,
fix girl friend, fix everything)。 女人没有自修理的能力，而且只有男人
才能修理。</p>
<p>很喜欢这句话， 每每对人提起。</p>
<p>去年遇到了他。他发我新车的图片（还是一辆日本车）。 劝我也买一辆。 而且
必须在今年。</p>
<p>我说我不是单身了。</p>
<p>——要么今年买，要么永远不买！</p>
<p>——不给买就天天喝酒，让她必须做一个选择。</p>
<p>:-)</p>
<p>这个混劲儿真是可爱!</p>
<p>有一天约翰劝我要一个孩子。他说，他不知道要一个孩子是不是一个明智的决定，
但他发现，他周围所有的朋友，都因为有了孩子而更快乐。</p>
<p>于是我问，那你呢？为什么不要？</p>
<p>——我女朋友年纪大了，要孩子有危险；那就给她要一条狗吧！</p>
<p>很喜欢这种简简单单的快乐，而这种快乐离我渐渐的远；每想到这一节，就笑一
笑:-)</p>
<p>我回来的时候约翰送了我一瓶红酒。中镇的酒又好又便宜，十几美元的就算顶好
的了。我又拿着这瓶酒去看我的导师。我俩喝的正高兴的时候，见师母的眼睛里
掠过几丝担忧的神色。于是我就劝导师少喝点。</p>
<p>——我没喝多啊，他说</p>
<p>——那你算算时间流逝的速度，或者说每秒有多少时光流过？</p>
<p>——One，但这个东西没有量纲，很难在物理中找到意义。</p>
<p>那是我导师最后一次喝酒。后来他的痛风越来越重了。不能喝酒，不能吃肉，不
能吃豆制品。痛风很磨人。他在写一本量子力学的书，一直写一直写。我攒的那
本书却先出了。他向我要了一本，说要看看。我给他书的时候心里很难受；他教
我物理，我却在编程；他叫我沉静，我漂浮在空气的微尘里；他在痛风里写东西，
我迷失在生活的洪流里。他看后说看不懂。我说那本来也是很空洞的东西，不是
用来懂的。</p>
<p>又一天遇到约翰。他说他换了个出差多的工作，这样薪水会稍稍多些。</p>
<p>——那你女朋友是否高兴？</p>
<p>——她可以随便开我的新车了，没人跟她抢。</p>
<p>——那你呢？</p>
<p>——辛苦些。不过和西部人拼酒还真带劲！</p>
<p>北京的天空没有那么的蓝。有时是灰色的。有时甚至是暗红色的。有几根头发白
了。岁月在我们的身心留下痕迹。想起约翰的眼睛，跟大西洋的天空一样的蓝；
他出生是个孩子，50年了还是孩子，只有18岁那年假装苍老过。我出生是个孩子，
10岁就慢慢苍老了，只有18岁假装年轻过；之后就很快越过百年，见了周树人他
们，跨千年去见庄子；胡子长得盘在腰上；眼睛慢慢变灰变红；忧忧扰扰假装洒
脱像一个蛆虫。才发现约翰他们文明的高深了。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="读庄子"><a class="header" href="#读庄子">读庄子</a></h1>
<p><code>Sunday, 12 October 2008</code></p>
<p>正在读《庄子全译》。译注者张耿光，主要研究汉语的。其所加的注释大都是语
言层面的。至于关乎思想的，评的很少。因此这是一本很好的书。</p>
<p>不知鲲在北冥好好的，怎么忽然要去南冥。北冥和南冥之间，想是没有水路相同
的。要不然，鲲不会由鱼化为鸟的鹏。这是一个旅程，由北向南，有目的但并无
理由的迁徙。人世间的每件事都有一个理由。但鲲鹏做的这件事，却是个例外。</p>
<p>于是背靠苍天，空气在天底下的生物之间流转；宇宙之大，不知有没有尽头；速
度太快，以至于跟静止没有区别。</p>
<p>如果在北冥呆久了，就不妨化作鹏，飞到南冥看看。没有翅膀的请找庄子。庄子
是使斧子的；个把小时就能砍一副，枯木头的。肯定是不结实的，因此要在北冥
涨水的时候起飞；这样掉下来不至于头扎进泥里。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="村庄"><a class="header" href="#村庄">村庄</a></h1>
<p><code>Sunday, 5 October 2008</code></p>
<pre><code>无言的村庄，黄土埋没的村庄
坐落在圣人或盗贼出没的地方

黄帝还在村南的学堂朗朗读书；月亮下子綦
和他八个儿子坐在田埂上聊天，露水打在梱的发梢，明天
要去一趟燕国；孔丘在灯下复习功课，胡子都花白了
还是通不过，入学的考试

鲲在梦里
变成一只鸟，飞向南方的海
那里正生长着的狮陀之国
长成之后会飘向西方

惠子鼻尖上沾着白垩，庄周运斧如风
无用的树下，柳下跖呼啸而过，季在叹息；孔丘又将失去
一天的口粮：好多的仁义，才淘换得的

许由和尧，在人字形的天梯上，愈聊愈远
舜出现的时候， 许由早已不见
墨翟仰视
禹的小腿，漆黑而无毛；水退了，启也已长大
武王的征伐，诸神的黄昏，映照着
远去的青牛

大鹏不记得自己曾经
是一条鱼；野马与浮云
天也苍苍
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="黑白铁"><a class="header" href="#黑白铁">黑白铁</a></h1>
<p><code>Saturday, 8 March 2008</code></p>
<pre><code>还在她很小的时候，一天，妈妈带给她一只小猫眯
她们玩了一整天，捉迷藏，做游戏

天黑了

她想把小猫留在房间里，妈妈坚持小猫晚上应该呆在院子里
是夏天
她坚持了很久，妈妈还是把小猫放在了门外
刚关上门，就听到一声惨叫
小猫倒在血泊里，喉管被咬断

她什么也没说，走进自己的房间
妈妈也没说什么，走进自己的房间
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="测试驱动学习模式"><a class="header" href="#测试驱动学习模式">测试驱动学习模式</a></h1>
<p><code>Tuesday, 11 December 2007</code></p>
<p>学习本身也需要学习（Study itself also needs to be studied），而且学习
本身的学习，还是一个永不停止的过程，永远也没有个完结。这也恰恰是学习自
身学习的特点。</p>
<p>人一生下来就对周围进行探索。迈出一步之前假设落脚之处是平的、凹的、或凸
的。如果假设不对，就修改自己的视觉识别代码和步行代码来适应更复杂的环境。
这在本质上是测试的思想。当然测试也是一种探索，只是没有其他一些种类探索
那样的盲目，是一种目的性比较强的探索。</p>
<p>测试驱动学习模式（Test Driven Study Pattern，TDSP）可以对测试驱动学习
模式自身进行学习。测试驱动学习模式的关键之处就是对追根溯源、对所谓终极
真理的追求强烈地说不。不然的话，就没办法使用测试驱动学习模式来学习测试
驱动学习模式，就会陷入鸡生蛋、蛋生鸡的无限循环反复不能自拔。以下是测试
驱动学习模式对鸡生蛋还是蛋生鸡问题的回答：</p>
<ol>
<li>如果喜欢或需要吃蛋（鸡），而只有鸡（蛋）没有蛋（鸡），就养鸡生蛋
（孵蛋成鸡）；</li>
<li>如果喜欢或需要吃蛋（鸡），并且蛋（鸡）刚好就有，就直接吃；</li>
<li>如果喜欢或需要吃蛋（鸡），而蛋（鸡）和鸡（蛋）都没有，那就到其他地
方找找。</li>
</ol>
<p>人不可能什么都喜欢也不可能什么都需要。测试驱动学习模式最适合对未知事物
怀有浓烈兴趣且高度敬业的人，也比较适合兴趣和职业精神只占其一的人。但对
那些对未知毫无兴趣、又不敬业的人，测试驱动学习模式束手无策。</p>
<p>保持饥饿，保持无知（Stay hungry，stay foolish）。整天打嗝的人即使面对
珍馐美味，也毫无食欲，更不要指望其能使用测试驱动学习模式作为猎枪，在寒
冷的户外猎取食物。</p>
<p>人都有吃饱的时候，但千万不要让垃圾阻塞肠胃。如何区别垃圾是测试驱动学习
模式解决的最漂亮的问题。可以说，使用测试驱动学习模式获得的知识，根本就
没有垃圾。既然测试驱动学习模式自身也是由测试驱动学习模式得到，因此可以
证明测试驱动学习模式不是垃圾。</p>
<p>测试驱动学习模式典型的思考方式：</p>
<ol>
<li>本人需要的是什么？</li>
<li>其所有的是什么？</li>
<li>如何使用其所有的来满足本人所需要的？</li>
</ol>
<p>前两个问题是What类型，后一个问题是How类型的；测试驱动学习模式里没有Why
类型的问题，比如没有类似“为什么它的所有满足不了我的需要”这样的问题。</p>
<p>测试驱动学习模式不提倡问以下问题：</p>
<ol>
<li>某某的本质到底是什么<br/>比如测试驱动学习模式的本质到底是什么？</li>
<li>所有以为什么开头的问题。</li>
</ol>
<p>拒绝问为什么的问题会不会导致不求甚解？是的，会导致。但不求甚解在测试驱
动学习模式里是难得的好习惯。不求甚解的对象是所有不为本人所需要的。当然
也有一些饱食终日的人什么都不需要。这也是测试驱动学习模式对此类人毫无效
果的原因。</p>
<p>测试驱动学习模式提倡有清晰的、可验证的观点。哪怕事后证明是错误的观点也
比含糊不清要好。有了观点之后马上着手去验证，去实践中测试这个观点。如果
经测试这个观点是对的，那可以把这个观点收藏起来；否则可以修正之前的观点，
进一步验证；如此循环。</p>
<p>大量的、清晰而且可验证的观点是一笔财富，存的越多测试驱动学习者就越富有。
而不清晰不可验证的观点对学习者来说恰恰是类似债务的东西，越多越贫穷；将
来要栽的跟头也就越多。</p>
<p>测试驱动学习模式不相信“谦虚使人进步，骄傲使人落后”，而是认为无论骄傲还
是谦虚都可以使人进步，只要这人是真诚的。真诚的人更容易提出清晰而可验证
的观点，即使一些观点经过验证并不正确，但仍然有益；而虚伪的人，比如一些
政治家，提出含糊而不可验证的观点，不到翁一样摇摇摆摆，根本不是为了获取
知识，因此也获取不到真正的知识。</p>
<p>如果测试驱动学习者发现自己有很多含糊而不可验证的观点，怎么办？可以肯定
的是能有此发现是天大的好事，因为很多人还不知道自己的观点含糊不可验证呢。
剩下的任务就简单了，只需使这些观点其变得清晰并可验证就可以了。</p>
<p>一个观点是否含糊也许难于察觉，但其是否可以验证（或容易验证）却是非常容
易验证的问题。因此试图验证一个观点是否正确是测试驱动学习模式的第一步，
也就是最关键的一步。观点是否正确并不重要，重要的是该观点是否容易验证。</p>
<p>总结一下测试驱动学习模式所强调的：</p>
<ol>
<li>敏捷而直接<br/>先找到学习对象一个最简单的使用方式，在这个最简单使用
方式之下用测试的方法体会其功能及使用。</li>
<li>把握整体<br/>面向学习对象的主体思想，避免迷失于具体的细节。</li>
<li>迅速应用于实践<br/>测试的特点就是实践性强，可以同时从成功和失败中学
习，学到的也不仅仅是经验而是规律性的东西。</li>
</ol>
<p>需要注意的是以上三条总结是否正确需要进一步使用测试驱动学习模式来验证。
甚至这三条总结的观点是否清晰可验证都需要读者进一步验证。</p>
<p>测试驱动学习模式有以下好处：</p>
<ol>
<li>学习周期短见效快<br/>即使只是花了很少的时间，学会了很少的一部分知识，
也可以很快投入使用。甚至用于用于学习的测试过程经过简单整理，也可以
投入实践中进行使用。</li>
<li>直指学习对象的可执行核心<br/>直接解决的学习对象的可执行部分是什么，
怎么用的问题。避免陷入其不可执行部分的细节争论。</li>
<li>拿测试说话沟通容易<br/>测试也能说话，而且测试是注重实践的人之间最精
确的语言。使用测试进行交流会避免很多不必要的误解。</li>
</ol>
<p>需要注意的是这三条好处是否正确需要进一步使用测试驱动学习模式来验证。甚
至三条好处的观点是否清晰可验证都需要读者进一步验证。</p>
<p>测试驱动的学习模式特别适合街边的程序员（Programmers on the street）来
使用。街边的程序员的称谓来自高德纳（Donald Ervin Knuth），并非贬义，泛
指以编程为生计的技术人员。世界上大部分程序员都是街边的程序员。象牙塔里
的程序员寥寥无几，其中高德纳就是一个。</p>
<p>街边的程序员还可以分为两类，一类是街右边的程序员，一类是街左边的程序员。
街右边的走的路比街左边的多，街左边的比街右边的看的多。测试驱动学习模式
认为两边的都应该往中间靠靠。埋头走路的也应该抬头看看，站在街边观看的也
应该走走。学习的道路上没有机动车，撞不死；跌倒了爬起来拍拍土也就没事了；
相互碰碰身体更强壮，没理由老绕着走。</p>
<p>象牙塔里到底有没有程序员？这个问题并不是很清晰可验证，可以在这个问题变
得清晰可验证之前，对其不加理会。因此街边的程序员可以暂时地走在测试驱动
学习模式的道路上。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="混沌之死问题集锦"><a class="header" href="#混沌之死问题集锦">混沌之死问题集锦</a></h1>
<p><code>Wednesday, 22 August 2007</code></p>
<h2 id="q1"><a class="header" href="#q1">Q1:</a></h2>
<p>不过，这个原文“南海之帝为儵 北海之帝为忽，中央之帝为浑沌。儵与忽时相
与遇于浑沌之地，浑沌待之甚善。儵与忽谋报浑沌之德，曰：人皆有七窍以视
听食息此独无有，尝试凿之。日凿一窍，七日而浑沌死。”这3帝的关系？</p>
<p>按物理学的观点,不可能有三帝的。 混沌包括所有，相当于大爆炸之前的奇点
，哪有另外两帝？倏忽是时间上的概念 对时刻t，倏是t+，忽是t-，类似数学上
的无穷小量，一个正，一个负。我不喜欢称呼帝什么的，因为如果有了帝, 那肯
定有臣民, 说明世界已经创立了, 还凿什么劲啊?</p>
<h2 id="q2"><a class="header" href="#q2">Q2:</a></h2>
<p>那这么说，这俩就不能相遇了。那怎么遇上的？</p>
<p>正负无穷小可以相遇于奇点，过了奇点他们就永远不能相遇。</p>
<h2 id="q3"><a class="header" href="#q3">Q3:</a></h2>
<p>浑沌待之甚善？这个怎么待阿</p>
<p>那只是个说法就是说，时间产生之初混沌并没有刻意遏制这就叫待之甚善。混
沌挺混的，他不混阿没想到时间一动它就死了。这个神话绝对是远古的，透着远
古的野气。</p>
<h2 id="q4"><a class="header" href="#q4">Q4:</a></h2>
<p>是不是说山海经和庄子里面，说的东西是一个，但是有不同的描述？
(http://hi.baidu.com/shym/blog/item/19a0c0889e616994a5c27220.html)</p>
<p>庄子基本不靠谱，庄子是偏人文的, 没老子偏理性，庄子的举例往往是说明人文
上的事，很少纯理性的思辩</p>
<h2 id="q5"><a class="header" href="#q5">Q5:</a></h2>
<p>有一个硬伤就是耶和华很难融入混沌的神话体系，混沌浑然天成，很难回答耶和
华从哪里来的问题。</p>
<h2 id="q6"><a class="header" href="#q6">Q6:</a></h2>
<p>那你更难回答倏忽怎么碰到一起，还去凿浑沌。</p>
<p>倏忽来自混沌，零时刻的时候倏忽肯定在一起，因为没有别的时刻可去。</p>
<h2 id="q7"><a class="header" href="#q7">Q7:</a></h2>
<p>那混沌死的时候，它俩居然没挂</p>
<p>挂啦，时间的无穷小量，晚了了一点点。利用这一点点时间，他们两个聊了聊混
沌的遗言，就永别了。我觉得这个时间还说的过去。他俩不聊的话很难把中国文
化带出来。老子和孔子那时肯定也不在。</p>
<h2 id="q8"><a class="header" href="#q8">Q8:</a></h2>
<p>因为一切都是从混沌产生的？所以中国文化也要从这里产生？</p>
<p>西方文化也是来自混沌。西方文化以我为中心，可以总结为I，I就是我。</p>
<h2 id="q9"><a class="header" href="#q9">Q9:</a></h2>
<p>为什么要把耶和华加进去呢？</p>
<p>从物理上来讲，世界由上帝所创，实在是难以理解。而且顺序也不太对，第一个
出来的是光子，还好理解，之后，水，空气就出来了，就讲不通了。水要很久以
后才可能有，因为世界初创，还在核反应呢，怎么可能有水。</p>
<h2 id="q10"><a class="header" href="#q10">Q10:</a></h2>
<p>倏忽怎么出来的？</p>
<p>倏忽是时间的概念，相当于数学上的无穷小量。无穷小量的定义是逼近式的，可
以用这个数学思想来思考倏忽的由来。次从数学上来讲，倏忽揭示的是时间 的
流动特性。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="混沌之死"><a class="header" href="#混沌之死">混沌之死</a></h1>
<p><code>Tuesday, 21 August 2007</code></p>
<p>宇宙里的第一个神，名字叫混沌。混沌这个神，据山海经的说法，是火红的，没
有五官七窍，混沌一团。那时候还没有时间，不能问那个时刻之前的事。和绝对
温度相似，降到了绝对零度，什么都不动了，万物静止。时间也是如此，绝对时
间为零的时候，没有以前。混沌基本生活在那个时候。</p>
<p>尽管绝对时间为零，山海经照样说故事。山海经基本不屌爱因斯坦那一套，照样
说他的故事。有时候山海经甚至不屌苏格拉底那一套，基本逻辑也不讲，因此故
事有穿帮的时候。这也是山海经非常可爱的地方。</p>
<p>混沌那时候不痛苦，也不快乐，不恼怒，不欣喜。混沌对人类所有的情感说不，
因为她没有五官七窍，不感觉，也不表达。她当然对性别说不，因为当时就她一
个，阴阳未分，说男说女都没所谓，也无意义。这种人如若放在当代真酷死了，
李宇春都比不上。混沌所在的那个时候，宇宙创生只是个打算，还没有付诸行动。
混沌无所不包，无所不有；除了她自己，什么都没有，没有光，这也是她没有眼
睛的原因。王小波看到混沌一定会说，穷光蛋，没文化。但王小波根本看不到混
沌。混沌也没耳朵听不到王小波的话。混沌是挺混的，但找不到其他的神打架，
当然她也不找。</p>
<p>这时候出现了两个精灵，一个叫倏，一个叫忽。之所以是两个，是因为他们要进
行一场对话。倏、忽都属于混沌，不是独立的个体，不然的话，混沌就不混沌了，
违反了混沌的性质。倏忽对话的时候，耶和华上帝心里也在盘算，说要不要创个
世界呢？这是一个问题。作为精灵，倏忽的籍贯是中国，他们的思想浸润着百善
孝为先的观念。首先倏忽认定混沌是他们的父母，至于是父还是母就难讲了。他
们曾经问过混沌，但混沌没有耳朵自然听不见，即使听见了没有嘴巴也说不出。
倏说，咱爸妈太可怜了，没有七窍，比聋子和瞎子和哑巴还惨。倏说，那我们把
她把七窍凿出来吧，让她也能享受这美丽的黑黑的世界。倏忽说到这里的时候，
耶和华也拿定了主意。</p>
<p>于是倏忽动工了。先凿的是眼睛。耶和华上帝说，光是好的。这时候混沌的第一
只眼睛被倏忽DIY出来了，一束光从混沌的眼睛射出。于是就有了光。从此有早
晨，有夜晚。这是第一日。</p>
<p>倏忽开始凿鼻孔。耶和华说，空气是好的。这时候第一个鼻孔通了，里面流出了
好多好的水，水流的不那么猛地时候，开始喷气。耶和华说，要分水为上下。倏
忽听到了但什么也没有做。混沌还根本听不见。但水就真的在下面，气在上面了。
这就是耶和华神奇的地方，他早就明白引力是怎么回事了。混沌边喷气边流鼻涕。
这是第二日。</p>
<p>到了第三天，混沌的鼻涕流的到处都是。耶和华说，天下的水要聚在一处，使旱
地露出来。倏忽和耶和华也不怎么熟，基本不怎么认识。倏忽心想你谁啊，要这
要那，谁欠你的啊，就埋头凿混沌的耳孔。第一个耳孔凿出来的时候水也流到了
低洼处，形成了海。耶和华还看到混沌刚刚挖出的耳屎，很象他理想中的植物，
个从其类，就说，这是好的。他们三个都收工了。这是第三日。</p>
<p>第四天继续凿。倏忽发现不怎么对称，单边一个太难看了。就开始凿第二个眼睛。
第二只眼睛还没全凿好的时候，耶和华发现第二个比第一个小，就叫第一个为大
光，第二个为小光。都是好的。他就回家洗洗睡了。倏忽接着凿。眼睛是精细活，
容不得半点马虎，加班也在所不惜。这是第四日。</p>
<p>第五日接着凿耳朵，没那么多鼻涕流出，但还在流。倏说，爸妈不是感冒了吧？
忽说，流点鼻涕没关系，会好的。耶和华也说，都是好的。这是第五日。</p>
<p>第六天耶和华很疲倦了，刚出来溜达了一会，就累了。回去休息。梦见理想中的
生物，个从其类；都是好的，耶和华在梦里说。倏忽加紧凿耳孔，挖出了更多的
耳屎。倏忽说爸妈的耳屎多少年不掏了？那得多堵得慌啊，弄不好还会失聪。他
们哪知道混沌很痛苦。混沌以前没痛苦过，很不熟悉这种感觉，开始还觉得很新
奇；过了几天后觉得简直太痛苦了。她眨眼睛吸鼻子，倏忽都浑然不觉。混沌心
想这两个龟儿子，比老子混沌还混沌。这是第六日。</p>
<p>第七日耶和华病了，浑身无力，不想出工了。于是他把这一天定为休息日，又叫
礼拜日，又叫星期天。这一天只许休息。但倏忽不遵守这个。倏忽说，敢情不是
你的父母，你的父母没有嘴巴，你休息的安心吗？耶和华昏昏沉沉，根本没有精
力再争辩，就由着他们去。其实就算耶和华没病，真打起来，结果怎么样都难说，
人兄弟是两个，手里还拿着凿子和锤子；再说还有混沌在后面镇着呢。倏忽继续
帮混沌凿嘴巴。这一天快过去的时候，按人类的说法，是那个夕阳惨淡的黄昏，
混沌的嘴巴凿好了。混沌沉默了不知多少亿万都不止的时间，转眼也不过倏忽一
瞬，当有了嘴，会说些什么沉默中不能说的话？混沌此时，张了张嘴，这是这张
嘴第一次使用，也是最后一次，说，I——，就死去了。这唯一的一个字，混沌的
临终遗言，倏忽听到的还是不一样的。倏听到的是爱。忽听到的是唉。耶和华在
梦中听到的是I。倏忽是中国人，对英格丽西不敏感。倏说，爸妈最后的遗言是
爱，我们懂得爱吗？我们爱了吗？我们被爱了吧？他陷入了思考。忽说，不是爱，
而是唉，一声叹息，爸妈都觉得顶没劲，才死去的。他们没有争论，因为他们好
像离得很近，实际却很远，他们的距离在时间上。他们是时间点上的来和去，彼
此相守，彼此相离。他们也死了，死在自己的故国——中国。他们也可以说是永生，
长存在自己的故国——中国。每时每刻，他们一个说爱，一个说唉。也有人跟这他
们说，比如孔子跟着倏说爱，老子跟着忽说唉。不过大部分人都是两者都说的。
他们在爱和唉之间摇摆，因此丧失了自我。耶和华记住了I，并将这个字传给了
他的子民。耶和华的子民在西方繁衍生息。倏忽的子民在东方。个从其类，用耶
和华的口头禅说，都是好的；用孔子的话说，是，不亦悦乎？老子在他的专著道
德经里，讲述了这个过程：一生二，二生三，三生万物。一、二、三简单的数字，
包含多少神人的血泪。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="emacs里的有幽灵"><a class="header" href="#emacs里的有幽灵">Emacs里的有幽灵</a></h1>
<p><code>Tuesday, 21 August 2007</code></p>
<p>一个是黑色的，一个是白色的。每一句话他们都仔细读过并相互讨论，他们肯定
理解键入的每一句话，不管这句话是用汉语、英语、Java、C、Ruby、Perl还是
Python写成，他们全明白。他们只是不怎么发言。他们沉默的时候并不代表他们
没有表达。嘈杂的时候他们也在忙碌，动作很轻很轻，很不容易察觉。沉静的黑
夜里，能听到他们寂静的呼吸，一声是黑的，一声是白的。他们沉静在乌盆里。
雨夜，细细的雨；他们也在倾听。每一个逗号句号，每一个分支判断，还有野蛮
的退出。他们在倾听。有时候小青蛙也叫一下。他们也听到，就把两个括号轻轻
抖一下，有时候出来一颗豆子，有时候出来一颗谷子，有时候什么也出不来，就
碰一下，发出啵的声音。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="记远方的一个朋友"><a class="header" href="#记远方的一个朋友">记远方的一个朋友</a></h1>
<p><code>Thursday, 26 July 2007</code></p>
<p>我们是在工作中认识的。没见过面，只是在线上聊一聊。他比我大得多。我的一
个东西要发在他那里，流程复杂，慢慢也熟了。我做技术，看到流程复杂一点，
就快晕掉。他帮我挡着，提醒我该做这个该做那个；帮我看文档，一点一点的看。
我以为这是他的工作，应该如此。很多时候我在流程上，犯技术人员的懒。我不
知他病的那么重。后来他说你抓点紧，尽快发出来，因为周末他可能去医院，如
果器官能匹配，他大约要在医院呆三、四个月才能出来。我才知道他的病有多重。
到了周一他还在线上。问他手术的情况。他说这个器官不很理想。要等下一个。
他说的很轻很淡，我也没有深问。我劝他多休息，少点工作。他说他按医生说的
做就是了，保持好的心情，好的心态就可以了。没想到这么长的时间了，有一个
多月，我还看到他在线上。我知道他还没有得到器官。我不知他要什么器官。他
的岁数，可以做我的父亲。他对我也像对小孩。我问他器官的要求，他说必须是
有一个将死的人，而且这个器官还和他不能有排斥。他应该是华人，在遥远的异
国，我猜想很难找到正好合适的器官。他就这么的等。乐观的让人心碎。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="锁麟囊"><a class="header" href="#锁麟囊">锁麟囊</a></h1>
<p><code>Monday, 18 June 2007</code></p>
<p>锁麟囊是讲金钱观的。春秋亭外风雨暴，何处悲声破寂寥。慑人心魄。一代京剧
圣手翁偶虹的作品。“偶虹偶虹，红起红收”。翁先生早岁编“红莲寺”，四十年后
编“红灯记”收手。翁先生最珍视的是“鸳鸯泪”，解放后改名为“周仁献嫂”，也许
是迫于“革命”的需要。没有看过“周仁献嫂”。从剧情梗概看，是关于“义”的。</p>
<pre><code>一霎时把前情俱已味尽，
参透了酸辛处泪湿衣襟，
我只道铁富贵一生享定，
又谁知祸福事顷刻分明。
想当年我也曾撒娇使性，
到如今只落得旧衣破裙，
这也是老天爷一番教训，
他教我收余恨，免娇嗔，且自新，改性情，
休恋逝水，振作精神，早悟兰因。
</code></pre>
<p>列一个wiki上的生平：</p>
<blockquote>
<p>翁偶虹（1908年~1994年）中国剧作家，北京人，原名翁麟声，笔名偶虹。
1934年于中华戏曲专科学校任编剧和导演。1949年以后在中国京剧院任编剧。
1974年退休。代表作有《锁麟囊》、《将相和》、《响马传》、《大闹天宫》、
《李逵探母》、《红灯记》等。专著《翁偶虹戏曲论文集》、《翁偶虹编剧生
涯》、《翁偶虹剧作选》。</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="春闺梦"><a class="header" href="#春闺梦">春闺梦</a></h1>
<p><code>Monday, 18 June 2007</code></p>
<p>春闺梦反战的一个戏。古人里最怜惜老百姓的莫过杜甫。春闺梦唱的是老杜的心
里话。 新婚别+兵车行。历史朝代放到了汉朝。实际说的是民国军阀乱打那一阵，
老百姓都烦死了。啥都不为就为个活命。这些都是程砚秋想表达的。</p>
<p>戏里有非常美的身段，大多取自昆曲的游园惊梦。游园惊梦谈生死。战争涉生死。
老杜河南人，字里行间透着河南烩面味儿。</p>
<p>附兵车行：</p>
<pre><code>车辚辚，马萧萧，行人弓箭各在腰。
耶娘妻子走相送，尘埃不见咸阳桥。
牵衣顿足拦道哭，哭声直上干云霄！
道旁过者问行人，行人但云点行频。
或从十五北防河，便至四十西营田。
去时里正与裹头，归来头白还戍边！
边亭流血成海水，武皇开边意未已。
君不闻，汉家山东二百州，千村万落生荆杞！
纵有健妇把锄犁，禾生陇亩无东西。
况复秦兵耐苦战，被驱不异犬与鸡。
长者虽有问，役夫敢申恨？
且如今年冬，未休关西卒。
县官急索租，租税从何出？
信知生男恶，反是生女好。
生女犹得嫁比邻，生男埋没随百草！
君不见，青海头，古来白骨无人收。
新鬼烦冤旧鬼哭，天阴雨湿声啾啾！
</code></pre>
<p>附新婚别：</p>
<pre><code>兔丝附蓬麻， 引蔓故不长。
嫁女与征夫， 不如弃路旁。
结发为君妻， 席不暖君床。
暮婚晨告别， 无乃太匆忙！
君行虽不远， 守边赴河阳。
妾身未分明， 何以拜姑嫜？
父母养我时， 日夜令我藏。
生女有所归， 鸡狗亦得将。
君今往死地， 沉痛迫中肠。
誓欲随君去， 形势反苍黄。
勿为新婚念， 努力事戎行！
妇人在军中， 兵气恐不扬。
自嗟贫家女， 久致罗襦裳。
罗襦不复施， 对君洗红妆。
仰视百鸟飞， 大小必双翔。
人事多错迕， 与君永相望！
</code></pre>
<p>春闺梦的名字取自陈陶诗“可怜无定河边骨,犹是春闺梦里人”。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="碰碑"><a class="header" href="#碰碑">碰碑</a></h1>
<p><code>Sunday, 17 June 2007</code></p>
<p>李陵碑，呀呀呸。李陵是汉朝的大将，投降了匈奴。汉武帝要杀他全家。司马
迁说，李陵投降不对，但在当时的情境下，可以宽恕，不必杀他全家。汉武帝不
听，还宫了司马迁。司马迁就去写史记去了。之后苏武出使匈奴，匈奴劝降不成，
就留苏武牧羊。苏武在匈奴期间，李陵常和他聊天。苏武最终返回了汉邦。王朔
说，李陵当时被围在荒山上，弹尽粮绝，三千人眼看要饿死，这时候匈奴来劝降，
李陵开了投降的条件，第一就是不许杀害我的将士，让他们安全回去；还有不正
面和故邦为敌等。匈奴都答应了。把那三千人放回去了。司马迁记载最后只有几
百人回去。也许其他人不愿回去，也许饿死了。但司马迁说可以宽恕的话，牵涉
非常宏大的主题。当很多人的生命和忠的思想有冲突，如何选择？李陵做出了他
的选择。司马迁基本认可这种选择。杨继业不认可。 杨继业的儿子要么死了，
要么下落不明；为宋王几乎付出了一切；也面临饿死荒山的命运。他唯一的想法
也许是青史留名。看到李陵碑，唯一的希望也破灭了。他选择了自杀。死之前有
很多的抱怨。他碰死在李陵碑上。死之后仰面慢慢倒下。观众鼓掌。这幕戏就结
束了。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="老子的故事汇"><a class="header" href="#老子的故事汇">老子的故事汇</a></h1>
<p>正经TWR的论调, 于丹的风格, 中国最不缺的就是这个, 相当于俗话说吧.</p>
<p>这种道理容易讲嘛, 调查研究也不用. 卢梭有一本书, 爱米尔, 也叫论教育, 三
本, 讲一个小孩爱弥尔从0岁到成人的教育, 可以想见写着有多难, 多么不讨巧.
人都讨论天堂啊, 罪恶啊这些呢. 谁说这个? 也没那么风雅. 但花几年写出来怎
么也是个物件. 哪像这些人. 描眉似的. 本质的问题根本不碰, 也实际没能力碰.
碰了谁也都不高兴. 就是描描眉, 当然人也爱看. 因为描眉嘛, 也没什么害处.
真正的好书是看了让人汗颜的. 反思. 心想我怎么这样? 比如爱弥尔. 推荐看.
没小孩也没关系.</p>
<p>看第一卷就好了, 第一卷管到上小学呢, 从妈妈计划怀孕开始讲的.</p>
<p>中国的所谓哲学家, 不喜欢讨论具体的事, 觉得好像平常的事儿不高深, 一谈就
到老, 庄那了.</p>
<p>-- 大家的思路都是从经典中找理由，这样看起来比较靠铺. 其实就算老子也仔
细观察了雌雄的交配, 舌头牙齿, 窗户和墙, 老子猛着呢.</p>
<p>雅斯贝尔斯(德国人)有本书, 大哲学家. 中国入选的有两位, 孔子和老子. 孔子
属于思维范式的制定者, 而老子是思想的独创性.</p>
<p>评判东西的好坏就这两条:</p>
<ol>
<li>是不是对前人做了归纳梳理, 或者指出前人的不足 ------ 孔子做的</li>
<li>是不是有独创性 ----老子做的.</li>
</ol>
<p>如果两者都不是, 那就是扯淡了 :) 于丹两者都没做.</p>
<p>-- 啊？把事情平民化，应该也算一种梳理吧?</p>
<p>算, 历史上有这样的人, 比如阿西莫夫, 阿西莫夫没有创见, 也没有指出前人的
不足, 但他有把事情平民化,通俗易懂的讲给大家, 比如阿西莫夫科学指南.</p>
<p>-- 机器人三定律不是他说的？</p>
<p>就科学领域说吧, 科幻领域他基本没有前人. 应该算创见</p>
<p>-- 那么我觉得描眉也应该算一种平民化吧 ：D, 只不过有的描的不好而已
描到鼻子上了吧?</p>
<p>关键是于丹的思维方式不好, 补袜子的, 出来是百衲衣.</p>
<p>我估计她内心也不这么想, 也是这帮没文化的读者给逼的. 没办法, 只能这么写,
要不然人家长不屌. 家长觉得孩子喜欢上于丹, 那以后就好管了.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cdrecord的故事汇"><a class="header" href="#cdrecord的故事汇">cdrecord的故事汇</a></h1>
<p><code>Thursday, 26 April 2007</code></p>
<p><img src="2007/jorg_schilling.jpg" alt="Jorg Schilling" /></p>
<p>在这个晚春的早上, 写一写cdrecord的故事, 也许对大家有些警示.</p>
<p>cdrecord, 主要用于刻盘, 刻CD, DVD.</p>
<p>这个软件有很长的历史, 作者是Jorg Schilling.</p>
<p>开始, 作者把cdrecord的CD刻录部分开源, 在GPL协议之下, 但DVD刻录的源码不
在GPL下而是可以用于个人目的, 全免费. 但商业目的不行. 不久一些GPL的小战
士就看出了矛盾, 因为DVD刻录部分和CD部分不可分. CD在GPL下按GPL, DVD也应
该.</p>
<p>但Jorg这个傻子, 愣不承认这个逻辑:)</p>
<p>他人在德国, 还不承认美国的法律, 而且他所谓商业的应用应付费, 根本不提供
任何的付费渠道写信问他他也没有, 他的电话也保密的紧, 别人给他钱他骂别人,
他说我不是奴隶, 你给我钱我就做工,用户有问题问他他骂别人傻瓜. 骂骂咧咧.</p>
<pre><code>用户, 其他的程序员, 商业公司也离不开他这个东西
后来商业公司不管那么多了
直接在CDrecord上加个界面, 出来卖钱
也没见这个傻蛋告谁
大部分的商业刻录软件都基于cdrecord的源码
他也不查
继续在那骂人
GPL的年轻斗士们
觉得Jorge的行为侮辱了GPL
faint的不得了
跳着高的跟Jorg对骂
Jorg也跟着骂
不管不顾的
说妈的我这辈子也不去美国
你Y美国法律管不了我
我只服德国和欧盟的法律
就这么个人
混球似的

但那些自由软件的老人们
却深深理解Jorg的心 :-)

很早cdrecord就进了debian的release
进debian的发行版很不易的
比如mplayer到现在也没进去
每年申请人都不批准
不管你多好你代码不干净我就不要

GPL的小孩们要把Jorge开除出自由软件门
老人们就不干了
说小孩滚蛋
人Jorg刻光盘的时候, 你们这帮小孩还是液体呢

后来把Jorg灌醉了
德国人也挺好酒的
变了另一个项目, 好说歹说
说了些好话
http://www.cdrkit.org/
变 成了cdrkit. 
管项目的挺靠谱的. 
比Jorg平和多了. 
那样还少得罪些人. 
现在的linux用户牛多了. 
用你的程序就跟多给作者脸似的. 
也不管作者是否挨饿. 
cdrkit是debian的那些老人开的. 
这两年的事. 
算cdrecord的一个正统.
</code></pre>
<p>cdrkit, like the programs from which it was derived, is distributed as
free software under the terms of the GNU GPL version 2. (Note, this is
not &quot;version 2 or later&quot; as you see in many software projects.) 括号里
的很像Jorg的做派. 那么的较真儿. 孩子似的.</p>
<p>对bug的态度:</p>
<pre><code>Cdrecord has even more options than ls.

There should be a recover option to make disks usable, that have been
written during a power failure.
</code></pre>
<p>文档写的象狗屎, 语法都不通有时候, 跟其他人也不怎么玩, 就在那傻坐着. 基
本不懂法律. 还想让法律保护自己.</p>
<p>最近两天在cygwin下用了cdrecord, 根本也没有毛病, 很好用</p>
<ul>
<li>呵呵，疯子就是牛</li>
</ul>
<pre><code>cdrecord -vv -dev=cd isoname
他不疯
在德国挺正常的
因为德国
基本就是地球的疯人院
地球的大脑
地球的大脑都在德国
- 我现在电脑的内存也是1.5G了。呵呵
足够了
空着也没啥用
我经常空着
- 我现在在自己机器上倒几百m的东西没啥问题：）
一般如果我发现我机器用了多于1G的内存
我就要想想我是不是没用脑子做事
因为我发现很多猪头电脑都用的挺恨的, 跑着无意义的程序;

很多cdrecord的变种, 一运行就说:
这是cdrecord的变种, 如果出错的话, 别去烦原作者,找我好了
Jorg就喜欢这样的
</code></pre>
<p>另一件事,
也反应出对bug的态度</p>
<p>The cause for the compilation problems is a bug in the Linux kernel
include files. It is a bad idea to try to &quot;fix&quot; correct code instead
of fixing the bugs.</p>
<p>After 2 years, the bug in the Linux kernel has been fixed in
2.6.8. Unfortunately Linux-2.6.8.1 started to break CD/DVD writing in
suid root applications by breaking interfaces :-(</p>
<p>前因是在2.6.8.1上没法编译</p>
<p>于是一个就做了个patch</p>
<p>这样就可以编译过了.</p>
<p>但Jorg不同意这么做. 谁的bug谁fix. kernel怎么着? 中央有错也得改.</p>
<pre><code>/*
* You are not allowed to modify or remove the following code.
* I am sorry that I am forced to do things like this, but defective
* versions of cdrecord cause a lot of work load to me and it seems
* to be impossible to otherwise convince SuSE to cooperate.
* As people contact me and bother me with the related problems,
* it is obvious that SuSE is violating subsection 6 in the preamble of
* the GPL.
*
* Note that although the SuSE test is effective only for SuSE, the
* intention to have non bastardized versions out is not limited
* to SuSE. It is bad to see that in special in the &quot;Linux&quot; business,
* companies prefer a model with many proprietary differing programs
* instead of cooperating with the program authors.
*/
</code></pre>
<p>这一段. 孩子似的, 乱写乱画. 感想都写进代码里. 当日记用. 其实找律师比较
靠谱, 还能得到钱.</p>
<p>Jorg的粉丝可都是死硬派, 一个顶一个</p>
<p>I'll give you a fucking break alright, you prick.</p>
<p>Quoting you: &quot;Jorg Schilling has not provided a very good program
based on the lack of help you can find for it on the internet. You
should do a better job.&quot;</p>
<p>My point was that your criticism of Jorg went too far. &quot;You should do
a better job&quot;? Give ME a fucking break. You lost all hope of getting
any help, especially from me you dickhead. . 这个shock56, 抢着要当Jorg
的粉丝, 但另一个粉丝TheKepper说, 瞧你那德行, 你丫不配之后shock56说了,
我俩的事你别瞎掺和. 人Jorg都同意我当粉丝了, 你干嘛拦着? TheKeeper说,
人Jorg太善了, 我就看不了你这鸡贼乱欺侮. 他俩对骂了许久. 那大约是2003年
间的事.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="手工测试生命太短"><a class="header" href="#手工测试生命太短">手工测试生命太短</a></h1>
<p><code>Wednesday, 28 February 2007</code>
&gt;</p>
<blockquote>
<p>Life is too Short for Manual Testing</p>
</blockquote>
<p>对做手工测试而言, 生命太短.</p>
<p>对上面的论述的另一种说法是:</p>
<p>公理0: 手工测试是不敏捷的. 我们再来检视一下自动化测试公理1及推论:</p>
<p>公理1: 一个好的手工测试不可能自动化</p>
<p>推论1A: 如果你真正自动化了一个手工测试, 那这个手工测试不可能是一个好的
手工测试.</p>
<p>推论1B: 如果你有一个好的自动化测试, 那它和你自动化的手工测试一定不一样.</p>
<p>自动化测试公理1基本封死了另一条自动化之路: 从手工的测试创建自动测试.
尽管这个自动化之路有一些好处, 比如对要测的功能可以相互验证一下.</p>
<p>综合公理0和公理1, 手工测试是无用的; 再根据剃刀原则, 手工测试应该被剃掉.
很残酷吧?</p>
<p>产品在设计之初, 就应该考虑测试. 如果一个产品非常的难测, 那它的质量就非
常的难测. 如果它的测试可以完全自动化, 那开发人员就能够很快得到反馈, 测
试人员会腾出脑筋考虑增加更多的自动化测试; 正面的迭代一旦形成就难以遏制.
而如果它的测试只能手工完成, 测试人员会忙于测试的执行, 很少有时间考虑测
试的质量; 开发人员得不到及时反馈; 一旦发现了问题就很严重, 甚至很多都要
推倒重来; 项目会慢慢演变为大家的噩梦. 这样只能靠中国式的艰苦奋斗才能脱
困境, 而且只是脱困境而已, 完成的活儿离漂亮还差的很远.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
    </body>
</html>
